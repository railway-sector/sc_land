import{af as d,a6 as f,fy as u,fz as g,fA as b,d0 as m,fB as w,fC as y,fD as P,ab as k,_ as n,e as h,am as M,g as R}from"./index-CgzAF5Ey.js";import{j as _}from"./geodesicUtils-Cfv0uT1u.js";var p;let c=p=class extends d{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const e=this.center,o=this.numberOfPoints;if(this.hasZ=e?.hasZ??!1,this.rings.length!==0||!e)return;const a=f(this.radius,this.radiusUnit,"meters"),s=e.spatialReference;let i,t="geographic";if(s.isWebMercator?t="webMercator":((s.wkid&&u[s.wkid])!=null||(s.wkt2||s.wkt)&&g(s.wkt2||s.wkt))&&(t="projected"),this.geodesic){let r;switch(t){case"webMercator":r=b(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":r=e}i=this._createGeodesicCircle(r,a,o),t==="webMercator"&&(i=m(i))}else{let r;t==="webMercator"||t==="projected"?r=a/w(e.spatialReference):t==="geographic"&&(r=y(a,"meters",P(e.spatialReference).radius)),i=this._createPlanarCircle(e,r,o)}this.spatialReference=i.spatialReference,this.addRing(i.rings[0])}clone(){const{center:e,numberOfPoints:o,radius:a,radiusUnit:s,geodesic:i}=this;return new p({center:e?.clone(),numberOfPoints:o,radius:a,radiusUnit:s,geodesic:i})}_createGeodesicCircle(e,o,a){const s=[],i=[e.x,e.y];for(let t=0;t<360;t+=360/a){const r=this.hasZ?[0,0,e.z??0]:[0,0];_(r,i,t,o,k.WGS84),s.push(r)}return s.push(s[0]),new d({rings:[s]})}_createPlanarCircle(e,o,a){const s=[],i=2*Math.PI/a;for(let t=0;t<a;++t){const r=i*t,l=[e.x+Math.cos(-r)*o,e.y+Math.sin(-r)*o];this.hasZ&&l.push(e.z??0),s.push(l)}return s.push(s[0]),new d({spatialReference:e.spatialReference,rings:[s]})}};n([h({type:M})],c.prototype,"center",void 0),n([h()],c.prototype,"geodesic",void 0),n([h()],c.prototype,"numberOfPoints",void 0),n([h()],c.prototype,"radius",void 0),n([h()],c.prototype,"radiusUnit",void 0),c=p=n([R("esri.geometry.Circle")],c);const v=c;export{v as b};
