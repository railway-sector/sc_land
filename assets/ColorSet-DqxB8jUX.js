import{tk as O}from"./index-CVzGOCNQ.js";import{i as ne,C as I,S as ye,L as H,G as oe,T as ue,R as _e,n as ve,c as z,s as K,j as we,E as he}from"./DefaultTheme-CCVY-P5i.js";import{e as T,k as Ce,m as Te,i as k,n as re}from"./Disposer-BEiFQPZr.js";import{b as De,C as j,p as Pe,r as Ie}from"./Animation-C4XcTIwa.js";import{a as x,P as fe,b as ae}from"./Percent-XZYBab5B.js";class xe extends ne{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(t){this.processor&&this.processor.processRow(t),super._onPush(t)}_onInsertIndex(t,e){this.processor&&this.processor.processRow(e),super._onInsertIndex(t,e)}_onSetIndex(t,e,s){this.processor&&this.processor.processRow(s),super._onSetIndex(t,e,s)}}class Le{constructor(t){Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}incrementRef(){}decrementRef(){}}class Z extends ye{constructor(t,e,s){super(s),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=e,this.component=t,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(t){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,t)}hide(t){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,t)}isHidden(){return!this.get("visible")}}class R extends I{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new xe}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(t){t.incrementRef(),this._data.decrementRef(),this._data=t}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(t=>{const e=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,t.type==="clear")T(e,s=>{s.dispose()}),e.length=0,this._onDataClear();else if(t.type==="push"){const s=new Z(this,t.newValue,this._makeDataItem(t.newValue));e.push(s),this.processDataItem(s)}else if(t.type==="setIndex"){const s=e[t.index],a=this._makeDataItem(t.newValue);s.bullets&&s.bullets.length==0&&(s.bullets=void 0),Ce(a).forEach(r=>{s.get(r)!=a[r]&&s.animate({key:r,to:a[r],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),s.dataContext=t.newValue}else if(t.type==="insertIndex"){const s=new Z(this,t.newValue,this._makeDataItem(t.newValue));e.splice(t.index,0,s),this.processDataItem(s)}else if(t.type==="removeIndex")e[t.index].dispose(),e.splice(t.index,1);else if(t.type==="moveIndex"){const s=e[t.oldIndex];e.splice(t.oldIndex,1),e.splice(t.newIndex,0,s)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},T(this.valueFields,t=>{this.get(t+"Field")&&(this._valueFields.push(t),this._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},T(this.fields,t=>{this.get(t+"Field")&&(this._fields.push(t),this._fieldsF[t]=t+"Field")}))}get dataItems(){return this._dataItems}processDataItem(t){}_makeDataItem(t){const e={};return this._valueFields&&T(this._valueFields,s=>{const a=this.get(this._valueFieldsF[s].fieldKey);e[s]=t[a],e[this._valueFieldsF[s].workingKey]=e[s]}),this._fields&&T(this._fields,s=>{const a=this.get(this._fieldsF[s]);e[s]=t[a]}),e}makeDataItem(t,e){let s=new Z(this,e,t);return this.processDataItem(s),s}pushDataItem(t,e){const s=this.makeDataItem(t,e);return this._mainDataItems.push(s),s}disposeDataItem(t){}showDataItem(t,e){return O(this,void 0,void 0,function*(){t.set("visible",!0)})}hideDataItem(t,e){return O(this,void 0,void 0,function*(){t.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const t="datavalidated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this._dataChanged=!1}if(this._valuesDirty){const t="valueschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this.inited=!0}markDirtyValues(t){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}getDataItemById(t){return Te(this.dataItems,e=>e.get("id")==t)}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.classNames.concat([R.className])});function ce(i){return new Promise((t,e)=>{setTimeout(t,i)})}let Y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function de(i){switch(i){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function D(i,t){return t==null&&(t=1),Y[i]*t}function me(i){return i?Y[i.timeUnit]*i.count:0}function ke(i,t,e,s,a){const r=i.timeUnit,n=i.count;if(r=="hour"||r=="minute"||r=="second"||r=="millisecond")return Y[i.timeUnit]*i.count;{const o=U(new Date(t.getTime()),r,n,e,s,void 0,a).getTime();let u=o+n*D(r)*1.05;return u=U(new Date(u),r,1,e,s,void 0,a).getTime(),u-o}}function ge(){return new Date}function Ue(){return ge().getTime()}function Oe(i){return new Date(i.getTime())}function be(i,t,e,s,a){if(t-i>D(e,1.2))return!0;let r=new Date(i),n=new Date(t);a&&(r=a.convertLocal(r),n=a.convertLocal(n));let o=0,u=0;!s&&e!="millisecond"&&(o=r.getTimezoneOffset(),r.setUTCMinutes(r.getUTCMinutes()-o),u=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-u));let f=!1;switch(e){case"year":r.getUTCFullYear()!=n.getUTCFullYear()&&(f=!0);break;case"month":(r.getUTCFullYear()!=n.getUTCFullYear()||r.getUTCMonth()!=n.getUTCMonth())&&(f=!0);break;case"day":(r.getUTCMonth()!=n.getUTCMonth()||r.getUTCDate()!=n.getUTCDate())&&(f=!0);break;case"hour":r.getUTCHours()!=n.getUTCHours()&&(f=!0);break;case"minute":r.getUTCMinutes()!=n.getUTCMinutes()&&(f=!0);break;case"second":r.getUTCSeconds()!=n.getUTCSeconds()&&(f=!0);break;case"millisecond":r.getTime()!=n.getTime()&&(f=!0);break}if(f)return f;let h=de(e);return h?be(i,t,h,s,a):!1}function Me(i,t,e,s,a){let r=0;switch(!s&&t!="millisecond"&&(r=i.getTimezoneOffset(),a&&(r-=a.offsetUTC(i)),i.setUTCMinutes(i.getUTCMinutes()-r)),t){case"day":let n=i.getUTCDate();i.setUTCDate(n+e);break;case"second":let o=i.getUTCSeconds();i.setUTCSeconds(o+e);break;case"millisecond":let u=i.getUTCMilliseconds();i.setUTCMilliseconds(u+e);break;case"hour":let f=i.getUTCHours();i.setUTCHours(f+e);break;case"minute":let h=i.getUTCMinutes();i.setUTCMinutes(h+e);break;case"year":let v=i.getUTCFullYear();i.setUTCFullYear(v+e);break;case"month":const C=i.getUTCDate(),m=new Date(i.getUTCFullYear(),i.getUTCMonth(),0).getUTCDate();let p=i.getUTCMonth();C>m?i.setUTCMonth(p+e,m):i.setUTCMonth(p+e);break;case"week":let g=i.getUTCDate();i.setUTCDate(g+e*7);break}if(!s&&t!="millisecond"&&(i.setUTCMinutes(i.getUTCMinutes()+r),t=="day"||t=="week"||t=="month"||t=="year")){let n=i.getTimezoneOffset();if(a&&(n+=a.offsetUTC(i)),n!=r){let o=n-r;i.setUTCMinutes(i.getUTCMinutes()+o),i.getTimezoneOffset()!=n&&i.setUTCMinutes(i.getUTCMinutes()-o)}}return i}function Se(i,t,e,s,a){let r;return a!=null&&(r=new Date(a)),U(new Date(i),t,e,s.locale.firstDayOfWeek,s.utc,r,s.timezone).getTime()}function U(i,t,e,s,a,r,n){if(!n||a){let o=0;switch(!a&&t!="millisecond"&&(o=i.getTimezoneOffset(),i.setUTCMinutes(i.getUTCMinutes()-o)),t){case"day":let u=i.getUTCDate();if(e>1){if(r){r=U(r,"day",1);let b=i.getTime()-r.getTime(),l=Math.floor(b/D("day")/e),w=D("day",l*e);i.setTime(r.getTime()+w-o*D("minute"))}}else i.setUTCDate(u);i.setUTCHours(0,0,0,0);break;case"second":let f=i.getUTCSeconds();e>1&&(f=Math.floor(f/e)*e),i.setUTCSeconds(f,0);break;case"millisecond":if(e==1)return i;let h=i.getUTCMilliseconds();h=Math.floor(h/e)*e,i.setUTCMilliseconds(h);break;case"hour":let v=i.getUTCHours();e>1&&(v=Math.floor(v/e)*e),i.setUTCHours(v,0,0,0);break;case"minute":let C=i.getUTCMinutes();e>1&&(C=Math.floor(C/e)*e),i.setUTCMinutes(C,0,0);break;case"month":let m=i.getUTCMonth();e>1&&(e==2||e==3||e==4||e==6)&&(m=Math.floor(m/e)*e),i.setUTCMonth(m,1),i.setUTCHours(0,0,0,0);break;case"year":let p=i.getUTCFullYear();e>1&&(p=Math.floor(p/e)*e),i.setUTCFullYear(p,0,1),i.setUTCHours(0,0,0,0);break;case"week":if(e>1&&r){r=U(r,"week",1);let b=i.getTime()-r.getTime(),l=Math.floor(b/D("week")/e),w=D("week",l*e);i.setTime(r.getTime()+w-o*D("minute"))}let g=i.getUTCDate(),c=i.getUTCDay();k(s)||(s=1),c>=s?g=g-c+s:g=g-(7+c)+s,i.setUTCDate(g),i.setUTCHours(0,0,0,0);break}if(!a&&t!="millisecond"&&(i.setUTCMinutes(i.getUTCMinutes()+o),t=="day"||t=="week"||t=="month"||t=="year")){let u=i.getTimezoneOffset();if(u!=o){let f=u-o;i.setUTCMinutes(i.getUTCMinutes()+f)}}return i}else{if(isNaN(i.getTime()))return i;let o=i.getTime(),u=n.offsetUTC(i),f=i.getTimezoneOffset(),h=n.parseDate(i),v=h.year,C=h.month,m=h.day,p=h.hour,g=h.minute,c=h.second,b=h.millisecond,l=h.weekday,w=u-f;switch(t){case"day":if(e>1&&r){r=U(r,"day",1,s,a,void 0,n);let P=i.getTime()-r.getTime(),B=Math.floor(P/D("day")/e),S=D("day",B*e);i.setTime(r.getTime()+S),h=n.parseDate(i),v=h.year,C=h.month,m=h.day}p=0,g=w,c=0,b=0;break;case"second":g+=w,e>1&&(c=Math.floor(c/e)*e),b=0;break;case"millisecond":g+=w,e>1&&(b=Math.floor(b/e)*e);break;case"hour":e>1&&(p=Math.floor(p/e)*e),g=w,c=0,b=0;break;case"minute":e>1&&(g=Math.floor(g/e)*e),g+=w,c=0,b=0;break;case"month":e>1&&(C=Math.floor(C/e)*e),m=1,p=0,g=w,c=0,b=0;break;case"year":e>1&&(v=Math.floor(v/e)*e),C=0,m=1,p=0,g=w,c=0,b=0;break;case"week":k(s)||(s=1),l>=s?m=m-l+s:m=m-(7+l)+s,p=0,g=w,c=0,b=0;break}i=new Date(v,C,m,p,g,c,b);const V=i.getTime();let M=36e5;t=="hour"&&(M=36e5*e),V+M<=o&&(t=="hour"||t=="minute"||t=="second"||t=="millisecond")&&(i=new Date(V+M));let G=i.getTimezoneOffset(),A=n.offsetUTC(i)-G;return A!=w&&i.setTime(i.getTime()+(A-w)*6e4),i}}function pe(i,t,e,s){let a=s[i],r=me(a),n=s.length-1;if(i>=n)return Object.assign({},s[n]);let o=Math.ceil(t/r);return t<r&&i>0?Object.assign({},s[i-1]):o<=e?Object.assign({},s[i]):i+1<s.length?pe(i+1,t,e,s):Object.assign({},s[i])}function je(i,t){switch(t){case"day":return i.getDate();case"second":return i.getSeconds();case"millisecond":return i.getMilliseconds();case"hour":return i.getHours();case"minute":return i.getMinutes();case"month":return i.getMonth();case"year":return i.getFullYear();case"week":return De(i)}}const He=Object.freeze(Object.defineProperty({__proto__:null,add:Me,checkChange:be,chooseInterval:pe,copy:Oe,getDateIntervalDuration:ke,getDuration:D,getIntervalDuration:me,getNextUnit:de,getTime:Ue,getUnitValue:je,now:ge,roun:Se,round:U,sleep:ce,timeUnitDurations:Y},Symbol.toStringTag,{value:"Module"}));class X extends R{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseSeriesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new ne}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.new(this._root,{width:x,height:x,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(()=>{this._handleBullets(this.dataItems)}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),t)}endIndex(){let t=this.dataItems.length;return Math.max(0,Math.min(this.getPrivate("endIndex",t),t))}_handleBullets(t){T(t,e=>{const s=e.bullets;s&&(T(s,a=>{a.dispose()}),e.bullets=void 0)}),this.markDirtyValues()}_makeBullets(t){this._shouldMakeBullet(t)&&(t.bullets=[],this.bullets.each(e=>{this._makeBullet(t,e)}))}_shouldMakeBullet(t){return!0}_makeBullet(t,e,s){const a=e(this._root,this,t);return a&&(a._index=s,this._makeBulletReal(t,a)),a}_makeBulletReal(t,e){let s=e.get("sprite");s&&(s._setDataItem(t),s.setRaw("position","absolute"),this.bulletsContainer.children.push(s)),e.series=this,t.bullets.push(e)}addBullet(t,e){t.bullets||(t.bullets=[]),e&&this._makeBulletReal(t,e)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let t=this.startIndex(),e=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const a=this.getPrivate("baseValueSeries");a&&this._disposers.push(a.onPrivate("startIndex",()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,t!=0&&(this._psi=void 0))),(this._psi!=t||this._pei!=e||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(t===0&&e===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(t,e),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let a=this.get("tooltip");a&&(a.hide(0),a.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let a;const r=this.get("legendDataItem");if(r&&(a=r.get("markerRectangle"),a&&this.isVisible())){if(this.isDirty("stroke")){let n=this.get("stroke");a.set("stroke",n)}if(this.isDirty("fill")){let n=this.get("fill");a.set("fill",n)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let a=this.startIndex(),r=this.endIndex();r<this.dataItems.length&&r++;for(let n=a;n<r;n++){let o=this.dataItems[n];o.bullets||this._makeBullets(o)}}}_handleRemoved(){}_adjustStartIndex(t){return t}_calculateAggregates(t,e){let s=this._valueFields;if(!s)throw new Error("No value fields are set for the series.");const a=this.get("excludeFromAggregate");a&&(s=s.filter(c=>a.indexOf(c)==-1));const r={},n={},o={},u={},f={},h={},v={},C={},m={};for(let c=0,b=s.length;c<b;c++){let l=s[c];r[l]=0,n[l]=0,o[l]=0}const p=this.dataItems,g=p.length;for(let c=0,b=s.length;c<b;c++){let l=s[c],w=l+"Change",V=l+"ChangePercent",M=l+"ChangePrevious",G=l+"ChangePreviousPercent",W=l+"ChangeSelection",A=l+"ChangeSelectionPercent",P="valueY";(l==="valueX"||l.endsWith("ValueX"))&&(P="valueX");const B=this.getPrivate("baseValueSeries"),S=this.getPrivate("adjustedStartIndex",t),L=(d,y,_)=>{if(t===0){const se=h[P],ie=y-se;d.setRaw(w,ie),d.setRaw(V,ie/se*100)}const ee=y-m[P],te=y-h[P];d.setRaw(M,ee),d.setRaw(G,ee/m[P]*100),d.setRaw(W,te),d.setRaw(A,te/h[P]*100),m[_]=y};for(let d=S;d<e;d++){const y=p[d];if(y){let _=y.get(l);if(_!=null){u[l]==null&&(u[l]=_),f[l]==null&&(f[l]=_),h[l]==null&&(h[l]=_,m[l]=_,B&&(h[P]=B._getBase(P)));break}}}for(let d=S;d<e;d++){const y=p[d];if(y){let _=y._settings[l];_!=null&&(o[l]++,r[l]+=_,n[l]+=Math.abs(_),u[l]>_&&(u[l]=_),f[l]<_&&(f[l]=_),v[l]=_,L(y,_,l))}}if(C[l]=r[l]/o[l],e<g){const d=p[e];if(d){let y=d.get(l);y!=null&&L(d,y,l)}}if(e+1<g){const d=p[e+1];if(d){let y=d.get(l);y!=null&&L(d,y,l)}}t>0&&t--,delete m[l];for(let d=t;d<S;d++){const y=p[d];if(y){let _=y.get(l);m[l]==null&&(m[l]=_),_!=null&&L(y,_,l)}}}for(let c=0,b=s.length;c<b;c++){let l=s[c];this.setPrivate(l+"AverageSelection",C[l]),this.setPrivate(l+"CountSelection",o[l]),this.setPrivate(l+"SumSelection",r[l]),this.setPrivate(l+"AbsoluteSumSelection",n[l]),this.setPrivate(l+"LowSelection",u[l]),this.setPrivate(l+"HighSelection",f[l]),this.setPrivate(l+"OpenSelection",h[l]),this.setPrivate(l+"CloseSelection",v[l])}if(t===0&&e===g)for(let c=0,b=s.length;c<b;c++){let l=s[c];this.setPrivate(l+"Average",C[l]),this.setPrivate(l+"Count",o[l]),this.setPrivate(l+"Sum",r[l]),this.setPrivate(l+"AbsoluteSum",n[l]),this.setPrivate(l+"Low",u[l]),this.setPrivate(l+"High",f[l]),this.setPrivate(l+"Open",h[l]),this.setPrivate(l+"Close",v[l])}}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const t=this.get("heatRules");if(this._valuesDirty&&t&&t.length>0&&T(t,e=>{const s=e.minValue||this.getPrivate(e.dataField+"Low")||0,a=e.maxValue||this.getPrivate(e.dataField+"High")||0;T(e.target._entities,r=>{const n=r.dataItem.get(e.dataField);if(!k(n)){e.neutral&&r.set(e.key,e.neutral);const o=r.states;if(o){const u=o.lookup("default");u&&e.neutral&&u.set(e.key,e.neutral)}if(!e.customFunction)return}if(e.customFunction)e.customFunction.call(this,r,s,a,n);else{let o;e.logarithmic?o=(Math.log(n)*Math.LOG10E-Math.log(s)*Math.LOG10E)/(Math.log(a)*Math.LOG10E-Math.log(s)*Math.LOG10E):o=(n-s)/(a-s),k(n)&&(!k(o)||Math.abs(o)==1/0)&&(o=.5);let u;k(e.min)?u=e.min+(e.max-e.min)*o:e.min instanceof j?u=j.interpolate(o,e.min,e.max):e.min instanceof fe&&(u=Pe(o,e.min,e.max)),r.set(e.key,u);const f=r.states;if(f){const h=f.lookup("default");h&&h.set(e.key,u)}}})}),this.get("visible")){let e=this.dataItems.length,s=this.startIndex(),a=this.endIndex();a<e&&a++,s>0&&s--;for(let r=0;r<s;r++)this._hideBullets(this.dataItems[r]);for(let r=s;r<a;r++)this._positionBullets(this.dataItems[r]);for(let r=a;r<e;r++)this._hideBullets(this.dataItems[r])}}_positionBullets(t){t.bullets&&T(t.bullets,e=>{this._positionBullet(e);const s=e.get("sprite");e.get("dynamic")&&(s&&(s._markDirtyKey("fill"),s.markDirtySize()),s instanceof I&&s.walkChildren(a=>{a._markDirtyKey("fill"),a.markDirtySize(),a instanceof H&&a.text.markDirtyText()})),s instanceof H&&s.get("populateText")&&s.text.markDirtyText()})}_hideBullets(t){t.bullets&&T(t.bullets,e=>{let s=e.get("sprite");s&&s.setPrivate("visible",!1)})}_positionBullet(t){}_placeBulletsContainer(t){t.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const t=this.bulletsContainer;t.parent&&t.parent.children.removeValue(t)}disposeDataItem(t){const e=t.bullets;e&&(T(e,s=>{s.dispose()}),t.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(t,e){const s=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return O(this,void 0,void 0,function*(){const a=[s.showDataItem.call(this,t,e)],r=t.bullets;r&&T(r,n=>{const o=n.get("sprite");o&&a.push(o.show(e))}),yield Promise.all(a)})}hideDataItem(t,e){const s=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return O(this,void 0,void 0,function*(){const a=[s.hideDataItem.call(this,t,e)],r=t.bullets;r&&T(r,n=>{const o=n.get("sprite");o&&a.push(o.hide(e))}),yield Promise.all(a)})}_sequencedShowHide(t,e){return O(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(k(e)||(e=this.get("interpolationDuration",0)),e>0){const s=this.startIndex(),a=this.endIndex();yield Promise.all(re(this.dataItems,(r,n)=>O(this,void 0,void 0,function*(){let o=e||0;(n<s-10||n>a+10)&&(o=0);let u=this.get("sequencedDelay",0)+o/(a-s);yield ce(u*(n-s)),t?yield this.showDataItem(r,o):yield this.hideDataItem(r,o)})))}else yield Promise.all(re(this.dataItems,s=>t?this.showDataItem(s,0):this.hideDataItem(s,0)))})}updateLegendValue(t){if(t){const e=t.get("legendDataItem");if(e){const s=e.get("valueLabel");if(s){const r=s.text;let n="";s._setDataItem(t),n=this.get("legendValueText",r.get("text","")),s.set("text",n),r.markDirtyText()}const a=e.get("label");if(a){const r=a.text;let n="";a._setDataItem(t),n=this.get("legendLabelText",r.get("text","")),a.set("text",n),r.markDirtyText()}}}}updateLegendMarker(t){}_onHide(){super._onHide();const t=this.getTooltip();t&&t.hide()}hoverDataItem(t){}unhoverDataItem(t){}_getBase(t){const e=this.dataItems[this.startIndex()];return e?e.get(t):0}}Object.defineProperty(X,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(X,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.classNames.concat([X.className])});function le(i,t){for(let e=0,s=t.length;e<s;e++){const a=t[e];if(a.length>0){let r=a[0];if(r.length>0){let n=r[0];i.moveTo(n.x,n.y);for(let o=0,u=a.length;o<u;o++)Re(i,a[o])}}}}function Re(i,t){for(let e=0,s=t.length;e<s;e++){const a=t[e];i.lineTo(a.x,a.y)}}class N extends oe{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const t=this.get("points"),e=this.get("segments");if(t&&t.length>0){let s=t[0];this._display.moveTo(s.x,s.y),le(this._display,[[t]])}else if(e)le(this._display,e);else if(!this.get("draw")){let s=this.width(),a=this.height();this._display.moveTo(0,0),this._display.lineTo(s,a)}}}}Object.defineProperty(N,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(N,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oe.classNames.concat([N.className])});class E extends ue{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*_e,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(E,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(E,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ue.classNames.concat([E.className])});class q extends H{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(E.new(this._root,{}))}baseRadius(){const t=this.getPrivate("radius",0),e=this.getPrivate("innerRadius",0),s=this.get("baseRadius",0);return e+Ie(s,t-e)}radius(){const t=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(t?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const t=this.get("textType","adjusted"),e=this.get("inside",!1),s=this.get("orientation");let a=ve(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",e);const r=K(a),n=z(a);let o=this.baseRadius(),u=this.radius();if(this._display.angle=0,t=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",s),this._text.set("radius",u);else{o==0&&(a=0,u=0);let f=u*n,h=u*r;t=="radial"?(this.setRaw("x",f),this.setRaw("y",h),a<90||a>270||s!="auto"?(this._display.angle=a,this._flipped=!1):(this._display.angle=a+180,this._flipped=!0),this._dirty.rotation=!1):t=="adjusted"?(this.setRaw("centerX",ae),this.setRaw("centerY",ae),this.setRaw("x",f),this.setRaw("y",h)):t=="regular"&&(this.setRaw("x",f),this.setRaw("y",h))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const t=this.get("textType","regular"),e=this.get("inside",!1);let s=0,a=0,r=this.get("labelAngle",0),n=this.localBounds(),o=n.right-n.left,u=n.bottom-n.top;if(t=="radial"){if(this._flipped){let f=this.get("centerX");f instanceof fe&&(o=o*(1-f.value*2)),s=o*z(r),a=o*K(r)}}else!e&&t=="adjusted"&&(s=o/2*z(r),a=u/2*K(r));this.setRaw("dx",s),this.setRaw("dy",a),super._updatePosition()}get text(){return this._text}}Object.defineProperty(q,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(q,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:H.classNames.concat([q.className])});class F extends I{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(I.new(this._root,{width:x,height:x,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:x,height:x})})}}Object.defineProperty(F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:I.classNames.concat([F.className])});class J extends F{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:I.new(this._root,{width:x,height:x,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new we})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(e=>{if(e.type==="clear"){T(e.oldValues,r=>{this._removeSeries(r)});const s=this.get("colors");s&&s.reset();const a=this.get("patterns");a&&a.reset()}else if(e.type==="push")t.moveValue(e.newValue),this._processSeries(e.newValue);else if(e.type==="setIndex")t.setIndex(e.index,e.newValue),this._processSeries(e.newValue);else if(e.type==="insertIndex")t.insertIndex(e.index,e.newValue),this._processSeries(e.newValue);else if(e.type==="removeIndex")this._removeSeries(e.oldValue);else if(e.type==="moveIndex")t.moveValue(e.value,e.newIndex),this._processSeries(e.value);else if(e.type==="swap"){const s=e.a,a=e.b,r=this.series.indexOf(s),n=this.series.indexOf(a);t.moveValue(s,n),t.moveValue(a,r),this.series.each(o=>{this._processSeries(o),o.markDirtyValues()})}else throw new Error("Unknown IListEvent type")}))}_processSeries(t){t.chart=this,t._placeBulletsContainer(this)}_removeSeries(t){t._handleRemoved(),t.isDisposed()||(this.seriesContainer.children.removeValue(t),t._removeBulletsContainer())}}Object.defineProperty(J,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(J,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:F.classNames.concat([J.className])});class $ extends N{}Object.defineProperty($,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty($,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:N.classNames.concat([$.className])});class Q extends he{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const t=this.getPrivate("currentPass"),e=this.get("colors",[this.get("baseColor",j.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",e.length);const s=this.getPrivate("numColors"),a=0,r=this.get("passOptions"),n=this.get("reuse");for(let o=a;o<s;o++)if(n)e.push(e[o]);else{const u=e[o].toHSL();let f=u.h+(r.hue||0)*t;for(;f>1;)f-=1;let h=u.s+(r.saturation||0)*t;h>1&&(h=1),h<0&&(h=0);let v=u.l+(r.lightness||0)*t;for(;v>1;)v-=1;e.push(j.fromHSL(f,h,v))}}getIndex(t){const e=this.get("colors",[]),s=this.get("saturation");return t>=e.length?(this.generateColors(),this.getIndex(t)):s!=null?j.saturate(e[t],s):e[t]}next(){let t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(Q,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(Q,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:he.classNames.concat([Q.className])});export{Q as C,Z as D,Le as J,N as L,q as R,J as S,$ as T,X as a,F as b,R as c,xe as d,E as e,He as f,pe as g,de as h,me as i,je as j,be as k,D as l,Se as m,ke as n,U as r};
