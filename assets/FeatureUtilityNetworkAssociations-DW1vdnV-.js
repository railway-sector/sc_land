const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CgzAF5Ey.js","assets/index-ni9qn0ie.css","assets/index-DCotZYsY.js"])))=>i.map(i=>d[i]);
import{T as f,W as n,_ as t,e as s,g as y,Z as E,f as L,bJ as b,U as A,V as d,jl as M,bK as I,eR as v,a1 as m}from"./index-CgzAF5Ey.js";import{s as F}from"./Heading-CsXYN9Dx.js";import{v as w}from"./FeatureUtilityNetworkAssociationsViewModel-HW-ywtYj.js";const p="esri-feature-element-info",h={base:p,title:`${p}__title`,description:`${p}__description`};let l=class extends f{constructor(e,i){super(e,i),this.description=null,this.headingLevel=2,this.title=null}render(){return n("div",{class:h.base},this._renderTitle(),this._renderDescription())}_renderTitle(){const{title:e}=this;return e?n(F,{class:h.title,innerHTML:e,level:this.headingLevel}):null}_renderDescription(){const{description:e}=this;return e?n("div",{class:h.description,innerHTML:e,key:"description"}):null}};t([s()],l.prototype,"description",void 0),t([s()],l.prototype,"headingLevel",void 0),t([s()],l.prototype,"title",void 0),l=t([y("esri.widgets.Feature.support.FeatureElementInfo")],l);let a=class extends E{constructor(e){super(e),this.title=!0,this.description=!0}};t([s({type:Boolean,nonNullable:!0})],a.prototype,"title",void 0),t([s({type:Boolean,nonNullable:!0})],a.prototype,"description",void 0),a=t([y("esri.widgets.Feature.FeatureUtilityNetworkAssociations.VisibleElements")],a);const _="esri-feature-utility-network-associations",g=`${_}__loading-container`,c={base:_,listContainer:`${_}__list`,loadingContainer:g,loadingContainerSticky:`${g}--sticky`};let o=class extends f{constructor(e,i){super(e,i),this._featureElementInfo=null,this.onSelectAssociationType=()=>{},this.flowType="feature-utility-network-associations",this.flowItems=null,this.parentFeatureViewModel=null,this.headingLevel=5,this.viewModel=new w,this.messages=null,this.messagesCommon=null,this.visibleElements=new a}initialize(){this._featureElementInfo=new l,this.addHandles([L(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),b)])}loadDependencies(){return A({icon:()=>d(()=>import("./index-CgzAF5Ey.js").then(e=>e.MT),__vite__mapDeps([0,1])),list:()=>d(()=>import("./index-CgzAF5Ey.js").then(e=>e.Na),__vite__mapDeps([0,1])),"list-item":()=>d(()=>import("./index-CgzAF5Ey.js").then(e=>e.Ne),__vite__mapDeps([0,1])),loader:()=>d(()=>import("./index-CgzAF5Ey.js").then(e=>e.MU),__vite__mapDeps([0,1])),notice:()=>d(()=>import("./index-DCotZYsY.js"),__vite__mapDeps([2,0,1]))})}destroy(){this._featureElementInfo=M(this._featureElementInfo)}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){const{state:e}=this.viewModel;return n("div",{class:this.classes(c.base,I.widget)},this._featureElementInfo?.render(),e==="loading"?this._renderLoading():e==="disabled"?this._renderAssociationNotFound():this._renderContent())}_renderStickyLoading(){return this.viewModel.state==="querying"?n("div",{class:c.loadingContainerSticky,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoadingIcon(){return n("calcite-loader",{inline:!0,label:this.messagesCommon.loading})}_renderLoading(){return n("div",{class:c.loadingContainer,key:"loading-container"},this._renderLoadingIcon())}_renderAssociationNotFound(){return n("calcite-notice",{icon:"information",key:"association-not-found",kind:"info",open:!0,scale:"s",width:"full"},n("div",{slot:"message"},this.messages?.noAssociations))}_renderAssociationType(e){const{viewModel:i}=this,r=this._getAssociationTypeTitle(e);return n("calcite-list-item",{description:v(e.description),key:`association-type-${e.type}`,label:v(r),value:e.type,onCalciteListItemSelect:()=>this.onSelectAssociationType({viewModel:i,listType:e,title:r})},n("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderAssociations(e){const{viewModel:i}=this;return i.source==="featureForm"||i.getFeatureCountForAssociationType(e.type)>0?this._renderAssociationType(e):void 0}_renderContent(){const{messages:e,viewModel:i}=this,{state:r,associationTypes:u}=i;return n("div",{class:c.listContainer,key:"list-container"},r==="ready"?n("div",null,n("calcite-list",{displayMode:"flat",label:e?.associationsList},u.map(T=>this._renderAssociations(T)))):null,this._renderStickyLoading())}_getAssociationTypeTitle(e){const{messages:i}=this;if(e.title)return e.title;switch(e.type){case"attachment":return i.associationsAttachments;case"connectivity":return i.associationsConnectivity;case"structure":return i.associationsStructure;case"content":return i.associationsContents;case"container":return i.associationsContainer}}_setupFeatureElementInfo(){const{headingLevel:e,visibleElements:i}=this,r=i.description&&this.description,u=i.title&&this.title;this._featureElementInfo?.set({description:r,title:u,headingLevel:e})}};t([s({constructOnly:!0})],o.prototype,"onSelectAssociationType",void 0),t([s()],o.prototype,"flowType",void 0),t([s()],o.prototype,"flowItems",void 0),t([s()],o.prototype,"parentFeatureViewModel",void 0),t([s()],o.prototype,"featureVisibleElements",void 0),t([s()],o.prototype,"description",null),t([s()],o.prototype,"headingLevel",void 0),t([s()],o.prototype,"title",null),t([s({type:w})],o.prototype,"viewModel",void 0),t([s(),m("esri/widgets/Feature/t9n/Feature")],o.prototype,"messages",void 0),t([s(),m("esri/t9n/common")],o.prototype,"messagesCommon",void 0),t([s({type:a,nonNullable:!0})],o.prototype,"visibleElements",void 0),o=t([y("esri.widgets.Feature.FeatureUtilityNetworkAssociations")],o);const S=Object.freeze(Object.defineProperty({__proto__:null,get default(){return o}},Symbol.toStringTag,{value:"Module"}));export{S as F,l,a as s,o as v};
