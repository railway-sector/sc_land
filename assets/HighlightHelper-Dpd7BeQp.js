import{Z as l,d8 as g,d9 as d,_ as a,e as o,g as n}from"./index-CgzAF5Ey.js";import{l as c}from"./layerUtils-C4kbKZbG.js";let r=class extends l{constructor(e){super(e),this._layerViewCache=new Map,this.highlightName=g,this.view=null}add(e,t){const i=!e||Array.isArray(e)?e:[e];if(!i?.length)return;const s=t??this.highlightName;i.forEach(h=>this._highlight(h,s))}getKeyForFeature(e){const t=e.getObjectId();return t!=null?`oid:${t}`:`uid:${e.uid}`}remove(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach(i=>i&&this._removeHighlight(this.getKeyForFeature(i)))}removeByKey(e){e?.forEach(t=>t&&this._removeHighlight(t))}removeAll(){this.removeAllHandles()}update(e,t){this.remove(e),this.add(e,t)}_highlight(e,t){const i=e.layer??e.sourceLayer;if(!i)return;const s=this._layerViewCache.get(i);if(s)return void this.addHandles(s.highlight(e,{name:t}),this.getKeyForFeature(e));const h=c(this.view,i);d(h)&&(this._layerViewCache.set(i,h),this.addHandles(h.highlight(e,{name:t}),this.getKeyForFeature(e)))}_removeHighlight(e){this.removeHandles(e)}};a([o()],r.prototype,"_layerViewCache",void 0),a([o()],r.prototype,"highlightName",void 0),a([o()],r.prototype,"view",void 0),r=a([n("esri.views.draw.support.HighlightHelper")],r);const u=r;export{u as l};
