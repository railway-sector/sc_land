import{a2 as l,cK as g,cL as n,Z as a,$ as o,a0 as c}from"./index-CVzGOCNQ.js";import{l as d}from"./layerUtils-D052B-tr.js";let r=class extends l{constructor(t){super(t),this._layerViewCache=new Map,this.highlightName=g,this.view=null}add(t,e){const i=!t||Array.isArray(t)?t:[t];if(!i?.length)return;const s=e??this.highlightName;i.forEach(h=>this._highlight(h,s))}getKeyForFeature(t){const e=t.getObjectId();return e!=null?`oid:${e}`:`uid:${t.uid}`}remove(t){const e=!t||Array.isArray(t)?t:[t];e?.length&&e.forEach(i=>i&&this._removeHighlight(this.getKeyForFeature(i)))}removeByKey(t){t?.forEach(e=>e&&this._removeHighlight(e))}removeAll(){this.removeAllHandles()}update(t,e){this.remove(t),this.add(t,e)}_highlight(t,e){const i=t.layer??t.sourceLayer;if(!i)return;const s=this._layerViewCache.get(i);if(s)return void this.addHandles(s.highlight(t,{name:e}),this.getKeyForFeature(t));const h=d(this.view,i);n(h)&&(this._layerViewCache.set(i,h),this.addHandles(h.highlight(t,{name:e}),this.getKeyForFeature(t)))}_removeHighlight(t){this.removeHandles(t)}};a([o()],r.prototype,"_layerViewCache",void 0),a([o()],r.prototype,"highlightName",void 0),a([o()],r.prototype,"view",void 0),r=a([c("esri.views.draw.support.HighlightHelper")],r);const u=r;export{u as l};
