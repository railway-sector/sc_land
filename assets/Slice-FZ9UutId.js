import{G as g,R as o,c as f,s as R}from"./DefaultTheme-Ca6PCH0Y.js";import{i as h}from"./Disposer-BEiFQPZr.js";import{P as c}from"./Percent-XZYBab5B.js";import{n4 as b}from"./index-BrQW8HOS.js";class l extends g{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:b()})}_getTooltipPoint(){let i=this.get("tooltipX"),e=this.get("tooltipY"),r=0,a=0;h(i)&&(r=i),h(e)&&(a=e);let s=this.get("radius",0),t=this.get("innerRadius",0),u=this.get("dRadius",0),n=this.get("dInnerRadius",0);return s+=u,t+=n,t<0&&(t=s+t),i instanceof c&&(r=this.ix*(t+(s-t)*i.value)),e instanceof c&&(a=this.iy*(t+(s-t)*e.value)),this.get("arc")>=360&&t==0&&(r=0,a=0),{x:r,y:a}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let i=this.get("startAngle",0),e=this.get("arc",0);const r=this._generator;e<0&&(i=i+e,e=e*-1),e>.1&&r.cornerRadius(this.get("cornerRadius",0)),r.context(this._display);let a=this.get("radius",0),s=this.get("innerRadius",0),t=this.get("dRadius",0),u=this.get("dInnerRadius",0);a+=t,s+=u,s<0&&(s=a+s),r({innerRadius:s,outerRadius:a,startAngle:(i+90)*o,endAngle:(i+e+90)*o});let n=i+e/2;this.ix=f(n),this.iy=R(n);const d=this.get("shiftRadius",0);this.setRaw("dx",this.ix*d),this.setRaw("dy",this.iy*d),this.markDirtyPosition()}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:g.classNames.concat([l.className])});export{l as S};
