import{a4 as o,dA as u,dB as d,dC as f,cv as v}from"./index-BrQW8HOS.js";import{r as g}from"./serverVersionUtils-HS8cNgAv.js";const r=new Map;async function V(e,s,n,a){if(r.has(e)||await g(r,e),(r.get(e)?.serverVersion??0)<=11.1)throw new o("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!s)throw new o("alterVersion:missing-guid","guid for version is missing");const i=u(e),c=n.toJSON(),h=d(i.query,{query:f({...c,f:"json"}),...a,authMode:"immediate",method:"post"});s.startsWith("{")&&(s=s.slice(1,-1));const p=`${i.path}/versions/${s}/alter`,{data:t}=await v(p,h);return!!t&&t.success}export{V as alterVersion,r as serverVersionCacheMap};
