import{bI as o,dc as d,dd as f,de as u,cf as g}from"./index-Brd6-W-v.js";import{r as v}from"./serverVersionUtils-CRr8IaZz.js";const r=new Map;async function V(e,s,n,a){if(r.has(e)||await v(r,e),(r.get(e)?.serverVersion??0)<=11.1)throw new o("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!s)throw new o("alterVersion:missing-guid","guid for version is missing");const i=d(e),c=n.toJSON(),h=f(i.query,{query:u({...c,f:"json"}),...a,authMode:"immediate",method:"post"});s.startsWith("{")&&(s=s.slice(1,-1));const p=`${i.path}/versions/${s}/alter`,{data:t}=await g(p,h);return!!t&&t.success}export{V as alterVersion,r as serverVersionCacheMap};
