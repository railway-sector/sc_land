const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AreaMeasurement2D-B645WTR0.js","assets/index-CgzAF5Ey.js","assets/index-ni9qn0ie.css","assets/defaultUnit-CrOs0S_r.js","assets/getDefaultUnitForView-DdQQf52Q.js","assets/SnappingManager-C_Xw3YlC.js","assets/euclideanLengthMeasurementUtils-CGkbgpIY.js","assets/utils-DN_jc3_L.js","assets/geodesicUtils-Cfv0uT1u.js","assets/geometry2dUtils-DamFhDZI.js","assets/geodeticLengthOperator-CCmu1UCP.js","assets/geodeticCurveType-CirnHLSB.js","assets/geodesicMeasurementUtils-CD0H_C-6.js","assets/areaOperator-DccGwebv.js","assets/Point2D-8Py_srEd.js","assets/Envelope2D-DQ3Tn1o-.js","assets/ProjectionTransformation-D72vYhR2.js","assets/Transformation2D-Ckyhe4wc.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/jsonConverter-EjytI4Do.js","assets/apiConverter-CvNJfrRe.js","assets/geodeticAreaOperator-ncO4zfYQ.js","assets/geodeticDensifyOperator-CUM-mSy9.js","assets/operatorGeodeticDensify-D2ygatwM.js","assets/lengthOperator-CxFhBUNM.js","assets/simplifyOperator-CkrCdZRR.js","assets/operatorSimplify-CpftPpUB.js","assets/GraphicsLayer-CNIUk38A.js","assets/SnappingVisualizer2D-D_sty-M3.js","assets/SnappingVisualizer-CfgCZJq2.js","assets/PointSnappingHint-ByJMd16p.js","assets/Draw-Bs7q8swp.js","assets/coordinateHelper-BBk0eSaI.js","assets/EditGeometryOperations-CUoPE0hp.js","assets/rotate-LRLOFQu1.js","assets/curveOperationUtils-Bf-6qlka.js","assets/SnappingContext-lR2hMWGP.js","assets/SnappingOperation-BCgVE0WW.js","assets/automaticLengthMeasurementUtils-B1DzL2GL.js","assets/DrawingMode-Cvvf0VVz.js","assets/surfaceCoordinateSystems-Czhjgkml.js","assets/mat2d-DWPHXQcf.js","assets/mat2df64-DJ_RMjZ3.js","assets/dragEventPipeline-CrllCNgu.js","assets/GraphicManipulator-DC391nnv.js","assets/InteractiveToolBase-CODufc4B.js","assets/SnappingDragPipelineStep-CzwhpchR.js","assets/dehydratedFeatureComparison-GEO06dBy.js","assets/InteractiveToolViewModel-DUzXbOMo.js","assets/MeasurementWidgetContent-BVNP3Pt4.js","assets/UnitSelect-BKaEWZjc.js","assets/AreaMeasurement3D-CV3XCMrq.js","assets/AreaMeasurementAnalysis-CBAtWKzT.js","assets/Analysis-DLCfG2Mt.js","assets/AnalysisViewModel-NO2orRru.js","assets/DistanceMeasurement2D-CUURszfP.js","assets/DirectLineMeasurement3D-CnSUqBZU.js","assets/DirectLineMeasurementAnalysis-CFXq9LKU.js"])))=>i.map(i=>d[i]);
import{_ as t,e as i,bB as v,d5 as m,g as _,Z as f,a1 as b,T as x,f as p,W as y,b2 as M,V as g,L as U,u as k,c as W,i as z,l as S}from"./index-CgzAF5Ey.js";import{e as T}from"./defaultUnit-CrOs0S_r.js";import{I as E}from"./useWidget-DdroRqZj.js";import"./getDefaultUnitForView-DdQQf52Q.js";import"./useView-CMtXgKA0.js";let l=class extends f{constructor(a){super(a),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(a){this._overrideIfSome("areaUnit",a)}get linearUnit(){return this.defaultUnit}set linearUnit(a){this._overrideIfSome("linearUnit",a)}get state(){const{activeViewModel:a}=this;return a?a.state:"disabled"}};t([i({type:["area","distance","direct-line"]})],l.prototype,"activeTool",void 0),t([i()],l.prototype,"activeViewModel",void 0),t([i({type:v})],l.prototype,"areaUnit",null),t([i(T)],l.prototype,"defaultUnit",void 0),t([i({type:m})],l.prototype,"linearUnit",null),t([i({readOnly:!0})],l.prototype,"state",null),t([i()],l.prototype,"view",void 0),l=t([_("esri.widgets.Measurement.MeasurementViewModel")],l);const w=l,I={base:"esri-measurement"};function V(a){return a?.declaredClass==="esri.widgets.AreaMeasurement2D"||a?.declaredClass==="esri.widgets.AreaMeasurement3D"}let o=class extends x{constructor(e,r){super(e,r),this._widgets=new Map,this.activeWidget=null,this.messages=null,this.viewModel=new w}initialize(){this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then(e=>{this._set("activeWidget",e)}),this.addHandles([p(()=>[this.view,this.activeTool],async()=>{this._set("activeWidget",await this._getActiveWidget())}),p(()=>this.activeWidget,(e,r)=>{this.viewModel.set("activeViewModel",e?e.viewModel:null),r&&(r.visible=!1)}),p(()=>[this.areaUnit,this.linearUnit,this.uiStrings],()=>this._updateSubWidgetProperties())])}destroy(){this._destroyWidgets()}get activeTool(){return this.viewModel.activeTool}set activeTool(e){this.viewModel.activeTool=e}get areaUnit(){return this.viewModel.areaUnit}set areaUnit(e){this.viewModel.areaUnit=e}get icon(){return"measure"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get linearUnit(){return this.viewModel.linearUnit}set linearUnit(e){this.viewModel.linearUnit=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{activeWidget:e}=this,r=e&&!e.destroyed?e.render():null;return y("div",{class:I.base},r)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:e}=this.viewModel;e&&M(e.start())}async _createWidget(e){const{areaUnit:r,linearUnit:s,view:n}=this;if(!n)return null;switch(e){case"area":{const{type:c}=n;switch(c){case"2d":return new(await g(async()=>{const{default:d}=await import("./AreaMeasurement2D-B645WTR0.js");return{default:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))).default({view:n,unit:r,uiStrings:this._createUIStringsForWidget(e)});case"3d":return new(await g(async()=>{const{default:d}=await import("./AreaMeasurement3D-CV3XCMrq.js");return{default:d}},__vite__mapDeps([52,1,2,53,54,3,4,55,50,51]))).default({view:n,unit:r,uiStrings:this._createUIStringsForWidget(e)});default:return null}}case"distance":{const{type:c}=n;return c==="2d"?new(await g(async()=>{const{default:d}=await import("./DistanceMeasurement2D-CUURszfP.js");return{default:d}},__vite__mapDeps([56,1,2,3,4,5,6,7,8,9,10,11,12,23,24,18,25,14,15,16,17,19,20,21,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))).default({view:n,unit:s,uiStrings:this._createUIStringsForWidget(e)}):null}case"direct-line":{const{type:c}=n;return c==="3d"?new(await g(async()=>{const{default:d}=await import("./DirectLineMeasurement3D-CnSUqBZU.js");return{default:d}},__vite__mapDeps([57,1,2,58,54,3,4,55,50,51]))).default({view:n,unit:s,uiStrings:this._createUIStringsForWidget(e)}):null}default:return null}}_destroyWidgets(){this._widgets.forEach(e=>e.destroy()),this._widgets.clear()}async _getActiveWidget(){const{activeTool:e,view:r}=this;if(!r||!e)return null;let s=null;if(this._widgets.has(e))s=this._widgets.get(e),s.visible=!0;else{if(s=await this._createWidget(e),!s)return null;await s.viewModel.start(),this._widgets.set(e,s)}return s}_createUIStringsForWidget(e){if(!this.uiStrings)return;const r=e+"-"+this.view?.type;return this.uiStrings[r]}_updateSubWidgetProperties(){this._widgets.forEach((e,r)=>{const{areaUnit:s,linearUnit:n}=this;e.unit=V(e)?s:n,e.uiStrings=this._createUIStringsForWidget(r)})}};t([i()],o.prototype,"activeTool",null),t([i({readOnly:!0})],o.prototype,"activeWidget",void 0),t([i()],o.prototype,"areaUnit",null),t([i()],o.prototype,"icon",null),t([i()],o.prototype,"label",null),t([i()],o.prototype,"linearUnit",null),t([i(),b("esri/widgets/Measurement/t9n/Measurement")],o.prototype,"messages",void 0),t([i()],o.prototype,"uiStrings",void 0),t([i()],o.prototype,"view",null),t([i({type:w})],o.prototype,"viewModel",void 0),o=t([_("esri.widgets.Measurement")],o);const D=o;const A=z`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}.esri-unit-select{width:100%}.esri-unit-select__label{--calcite-label-margin-bottom: 0;width:100%}:host{display:block}.esri-measurement-widget-content{padding:var(--esri-widget-padding);flex-direction:column;gap:var(--calcite-spacing-xxl);display:flex;position:relative;overflow-y:auto}.esri-measurement-widget-content__error{color:var(--calcite-color-status-danger)}.esri-measurement-widget-content__error,.esri-measurement-widget-content__hint{overflow:hidden}.esri-measurement-widget-content__error p,.esri-measurement-widget-content__hint p{margin:0;padding:0}.esri-measurement-widget-content__hint,.esri-measurement-widget-content__error,.esri-measurement-widget-content__measurement,.esri-measurement-widget-content__measurement-item{flex-direction:column;gap:var(--calcite-spacing-md);animation:.25s ease-in-out esri-fade-in;display:flex}.esri-measurement-widget-content__measurement-item--disabled{color:var(--calcite-color-border-ghost)}.esri-measurement-widget-content__measurement-item__value{font-weight:var(--calcite-font-weight-semibold)}.esri-measurement-widget-content__actions{flex-direction:column;justify-content:center;gap:var(--calcite-spacing-xs);display:flex}:host{min-width:300px}`,P=E(D),u=class u extends U{constructor(){super(...arguments),this.widget=P(this),this.viewModel=this.widget.viewModel,this.view=this.widget.view,this.activeTool=this.widget.activeTool,this.activeWidget=this.widget.activeWidget,this.areaUnit=this.widget.areaUnit,this.autoDestroyDisabled=!1,this.icon=this.widget.icon,this.label=this.widget.label,this.linearUnit=this.widget.linearUnit,this.state=this.viewModel.state,this.arcgisPropertyChange=k()("activeTool","state"),this.arcgisReady=W()}async clear(){this.widget?.clear()}async destroy(){await this.manager.destroy()}async startMeasurement(){this.widget?.startMeasurement()}};u.properties={view:0,activeTool:1,activeWidget:0,areaUnit:1,autoDestroyDisabled:5,icon:1,label:1,linearUnit:1,position:1,referenceElement:1,state:3},u.styles=A;let h=u;S("arcgis-measurement",h);export{h as ArcgisMeasurement};
