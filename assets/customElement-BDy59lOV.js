import{L as p,gu as m,eg as d,j as n,d as s,el as i,f as l,i as h,l as _}from"./index-aRi8Xk-b.js";import{d as g,f as $,g as u}from"./utils-DJC4XO8D.js";const S=h`.arcgis-print__template-select-container{border:1px solid var(--calcite-color-border-1);cursor:pointer}.arcgis-print__template-select-container .arcgis-print__template-select-error,.arcgis-print__template-select-container .arcgis-print__template-select-arrow{display:flex;align-self:center;margin-right:var(--calcite-spacing-md)}`,c="arcgis-print",r={templateSelectContainer:`${c}__template-select-container`,templateSelectError:`${c}__template-select-error`,templateSelectArrow:`${c}__template-select-arrow`},a=class a extends p{constructor(){super(...arguments),this._handles=m("disconnect"),this._direction=d(),this._templateState="not-loaded"}loaded(){this.manager.onLifecycle(()=>[n(()=>this.viewModel.templateOptions.id,e=>{this._handles.removeHandles("template-handle"),this._selectedTemplate=e?this.viewModel.getLayoutTemplateById(e)??void 0:void 0,this._handles.addHandles(n(()=>this._selectedTemplate?.state,t=>this._templateState=t??"not-loaded",{initial:!0}),"template-handle")},{initial:!0})])}render(){const e=this._selectedTemplate?g(this._selectedTemplate,this.messages):this.messages.selectTemplate;return l`<calcite-block class=${s(r.templateSelectContainer)} .description=${$(this._selectedTemplate)} .heading=${e} .label=${e} .loading=${this._templateState==="loading"} @click=${this.showTemplateSelector} @keydown=${t=>{(t.key==="Enter"||t.key===" ")&&this.showTemplateSelector()}} tabindex=0>${i("template-select-icon",l`<calcite-icon .icon=${(this._selectedTemplate?.layout?u(this._selectedTemplate.layout):null)||"custom-print"} scale=l slot=content-start></calcite-icon>`)}${this._templateState==="error"?i("template-select-error",l`<calcite-icon class=${s(r.templateSelectError)} icon=exclamation-mark-circle scale=s slot=actions-end></calcite-icon>`):null}${i("template-select-arrow",l`<calcite-icon class=${s(r.templateSelectArrow)} .icon=${this._direction==="rtl"?"chevron-left":"chevron-right"} scale=s slot=actions-end></calcite-icon>`)}</calcite-block>`}};a.properties={_selectedTemplate:16,_templateState:16,viewModel:0,messages:0,showTemplateSelector:0},a.styles=S;let o=a;_("arcgis-print-template-select",o);export{o as PrintTemplateSelect};
