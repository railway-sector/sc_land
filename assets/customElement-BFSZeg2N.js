import{L as $,b as t,d as a,k as g,n as d,p as w,i as u,l as E}from"./index-CgzAF5Ey.js";import{h as L,F as _,w as z,u as y,L as b}from"./utils2-pl0dc0aQ.js";import"./stringUtils-CYW5IRJr.js";const x=u`.arcgis-legend__layer-table{display:flex;flex-flow:column;margin-bottom:var(--calcite-spacing-md);width:100%}.arcgis-legend__layer-table--size-ramp{display:table}.arcgis-legend__layer-table--size-ramp .arcgis-legend__layer-cell{display:table-cell}.arcgis-legend__layer-caption{display:table-caption;padding:var(--calcite-spacing-sm) 0;word-break:break-word}.arcgis-legend__layer-body{margin-left:var(--calcite-spacing-sm)}:dir(rtl) .arcgis-legend__layer-body{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}.arcgis-legend__layer-row{display:flex}.arcgis-legend__layer-table--size-ramp .arcgis-legend__layer-row{display:table-row}.arcgis-legend__layer-cell{padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word;display:flex;align-items:center}.arcgis-legend__layer-cell--info{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-legend__imagery-layer-image--stretched{display:block;margin-bottom:-2px}.arcgis-legend__imagery-layer-info--stretched{padding:0 2px;vertical-align:top}.arcgis-legend__layer-cell--symbols{min-width:10px;text-align:center}.arcgis-legend__symbol{display:flex;justify-content:center}`,s={layerTable:"arcgis-legend__layer-table",layerTableSizeRamp:"arcgis-legend__layer-table--size-ramp",layerCaption:"arcgis-legend__layer-caption",layerBody:"arcgis-legend__layer-body",layerRow:"arcgis-legend__layer-row",layerInfo:"arcgis-legend__layer-cell arcgis-legend__layer-cell--info",imageryLayerStretchedImage:"arcgis-legend__imagery-layer-image--stretched",imageryLayerInfoStretched:"arcgis-legend__imagery-layer-info--stretched",symbolContainer:"arcgis-legend__layer-cell arcgis-legend__layer-cell--symbols",symbol:"arcgis-legend__symbol"},m=class m extends ${render(){const e=this._renderLegendElement(),l=L(this.legendElement,this.messages),r=l?a`<div class=${t(s.layerCaption)}>${l}</div>`:null,i={[s.layerTableSizeRamp]:this.legendElement.type==="size-ramp"};return a`<section class=${t(g(s.layerTable,i))}>${r}${e}</section>`}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return a`<arcgis-legend-classic-size-ramp .legendElement=${this.legendElement} .messages=${this.messages}></arcgis-legend-classic-size-ramp>`;case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return a`<arcgis-legend-classic-color-ramp .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-classic-color-ramp>`;case"relationship-ramp":return a`<arcgis-legend-relationship-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .opacity=${this.layer.opacity} .messages=${this.messages}></arcgis-legend-relationship-ramp>`;case"pie-chart-ramp":{const{preview:e}=this.legendElement;return _(e,this.messages.previewPieChartAriaLabel),a`<div>${e}</div>`}case"univariate-above-and-below-ramp":return a`<arcgis-legend-classic-univariate-above-and-below-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-classic-univariate-above-and-below-ramp>`;case"univariate-color-size-ramp":return a`<arcgis-legend-classic-univariate-color-size-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-classic-univariate-color-size-ramp>`;default:return null}}_renderSymbolTable(e){const l=e.infos.map(r=>this._renderElementInfo(r,e.legendType)).filter(Boolean);return l.length?a`<div class=${t(s.layerBody)}>${l}</div>`:null}_renderElementInfo(e,l){const{layer:r}=this,i="label"in e?e.label:null;if("type"in e&&e.type)return e?a`<arcgis-legend-classic-element .cssEffectFilter=${this.cssEffectFilter} .layer=${r} .legendElement=${e} .messages=${this.messages}></arcgis-legend-classic-element>`:null;if(!("preview"in e&&e.preview)&&!("src"in e&&e.src))return null;const n=z(r,l),c={[s.imageryLayerInfoStretched]:n},o={[s.imageryLayerInfoStretched]:n};return a`<div class=${t(s.layerRow)}><div class=${t(g(s.symbolContainer,o))}>${this._renderPreview(e,n)}</div><div class=${t(g(s.layerInfo,c))}>${y(this.messages,i,!1)||""}</div></div>`}_renderPreview(e,l){const{layer:r}=this;if("preview"in e&&e.preview){const{preview:i}=e,n="previewAriaLabel"in e?e.previewAriaLabel:null,c="label"in e?y(this.messages,e.label,!1):null;return _(i,b(this.messages,n||c)),a`<div class=${t(s.symbol)}>${i}</div>`}return"src"in e&&e.src?this._renderImage(e,r,l):null}_renderImage(e,l,r){const{previewAriaLabel:i,src:n,opacity:c}=e,o=y(this.messages,e.label,!1),f={[s.imageryLayerStretchedImage]:r,[s.symbol]:!r},v={opacity:`${c??l.opacity}`},h=b(this.messages,i||o);return a`<img alt=${h??d} .ariaLabel=${h} class=${t(g(f))} height=${e.height??void 0??d} src=${n??d} style=${w(v)} width=${e.width??void 0??d}>`}};m.properties={cssEffectFilter:1,layer:0,legendElement:0,messages:0},m.styles=x;let p=m;E("arcgis-legend-classic-element",p);export{p as ArcgisLegendClassicElement};
