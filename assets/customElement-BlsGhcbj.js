import{L as X,e$ as j,b as r,p as f,d as _,k as u,n as t,gv as N,i as P,l as Q}from"./index-BrQW8HOS.js";import{D as V,o as G,P as I,n as J,s as K,u as W,N as O}from"./svgUtils-BlEQn0Vx.js";import"./svgUtils-BB2umWtg.js";import"./mat2df32-Dpt2CT5P.js";import"./mat2d-BbBq4Byx.js";import"./gfxUtils-DDSu4Luj.js";import"./cimSymbolUtils-CmFYUdpV.js";import"./utils2-DEX5Hcmr.js";import"./stringUtils-BTK5CX_y.js";import"./substitute-D-eLZ17Q.js";const Z=P`.arcgis-relationship-ramp--diamond__container{display:flex;font-size:var(--calcite-font-size-sm)}.arcgis-relationship-ramp--diamond__left-column{align-self:center;padding-right:5px;max-width:85px;text-align:right}.arcgis-relationship-ramp--diamond__right-column{align-self:center;padding-left:5px;max-width:85px;text-align:left}.arcgis-relationship-ramp--diamond__middle-column{display:flex;flex-direction:column;text-align:center}.arcgis-relationship-ramp--diamond__middle-column--label{align-self:center;max-width:85px}.arcgis-relationship-ramp--diamond__middle-column--ramp{width:85px;height:85px}.arcgis-relationship-ramp--square__table{display:table;font-size:var(--calcite-font-size-sm)}.arcgis-relationship-ramp--square__table-row{display:table-row}.arcgis-relationship-ramp--square__table-cell{display:table-cell}.arcgis-relationship-ramp--square__table-label{max-width:95px}.arcgis-relationship-ramp--square__table-label--left-bottom{vertical-align:bottom;text-align:left}.arcgis-relationship-ramp--square__table-label--right-bottom{vertical-align:bottom;text-align:right}.arcgis-relationship-ramp--square__table-label--left-top{vertical-align:top;text-align:left}.arcgis-relationship-ramp--square__table-label--right-top{vertical-align:top;text-align:right}`,aa="http://www.w3.org/2000/svg",a={diamondContainer:"arcgis-relationship-ramp--diamond__container",diamondLeftCol:"arcgis-relationship-ramp--diamond__left-column",diamondRightCol:"arcgis-relationship-ramp--diamond__right-column",diamondMidCol:"arcgis-relationship-ramp--diamond__middle-column",diamondMidColLabel:"arcgis-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"arcgis-relationship-ramp--diamond__middle-column--ramp",squareTable:"arcgis-relationship-ramp--square__table",squareTableRow:"arcgis-relationship-ramp--square__table-row",squareTableCell:"arcgis-relationship-ramp--square__table-cell",squareTableLabel:"arcgis-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"arcgis-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"arcgis-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"arcgis-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"arcgis-relationship-ramp--square__table-label--right-top"},$=class $ extends X{constructor(){super(...arguments),this._direction=j(),this.legendElement=null}_getLineMarkers(m,s){const e="arrowStart",o="arrowEnd",n=m==="left",i={markerStart:null,markerEnd:null};switch(s){case"HL":n?i.markerStart=`url(#${o})`:i.markerEnd=`url(#${e})`;break;case"LL":i.markerStart=`url(#${o})`;break;case"LH":n?i.markerEnd=`url(#${e})`:i.markerStart=`url(#${o})`;break;default:i.markerEnd=`url(#${e})`;break}return i}render(){const m=this.legendElement,{focus:s,labels:e}=m,o=!!s,n=this._renderRamp(m),i={justifyContent:"center"},l=this._direction==="rtl";return o?_`<div class=${r(a.diamondContainer)} style=${f(i)}><div class=${r(a.diamondLeftCol)}>${l?e.right:e.left}</div><div class=${r(a.diamondMidCol)}><div class=${r(a.diamondMidColLabel)}>${e.top}</div>${n}<div class=${r(a.diamondMidColLabel)}>${e.bottom}</div></div><div class=${r(a.diamondRightCol)}>${l?e.left:e.right}</div></div>`:_`<div class=${r(a.squareTable)}><div class=${r(a.squareTableRow)}><div class=${r(u(a.squareTableCell,a.squareTableLabel,a.squareTableLabelRightBottom))}>${l?e.top:e.left}</div><div class=${r(a.squareTableCell)}></div><div class=${r(u(a.squareTableCell,a.squareTableLabel,a.squareTableLabelLeftBottom))}>${l?e.left:e.top}</div></div><div class=${r(a.squareTableRow)}><div class=${r(a.squareTableCell)}></div>${n}<div class=${r(a.squareTableCell)}></div></div><div class=${r(a.squareTableRow)}><div class=${r(u(a.squareTableCell,a.squareTableLabel,a.squareTableLabelRightTop))}>${l?e.right:e.bottom}</div><div class=${r(a.squareTableCell)}></div><div class=${r(u(a.squareTableCell,a.squareTableLabel,a.squareTableLabelLeftTop))}>${l?e.bottom:e.right}</div></div></div>`}_renderRamp(m){const{focus:s,numClasses:e,colors:o,rotation:n}=m,i=this.opacity,l=this.messages.previewRelationshipRampAriaLabel,d=60,c=!!s,p=Math.sqrt(d**2+d**2)+(c?0:5),q=[],k=[],x=[],g=d/e;for(let b=0;b<e;b++){const Y=b*g;for(let h=0;h<e;h++){const F=h*g,M=V(o[b][h]),U=O(null),S={type:"rect",x:F,y:Y,width:g,height:g},B=G(M);B&&q.push(B);const H=I(S,M.fill,U,null);H&&k.push(H),x.push(J(S))}}const L=15,T=15,w=10;let C;c||(C="margin: -15px -15px -18px -15px");const y=this._getLineMarkers("left",s),R=this._getLineMarkers("right",s),E=K(x),z=W(E,p,p,0,!1,n,!1),A=W(E,p,p,0,!1,c?-45:null,!1),D={filter:this.cssEffectFilter,opacity:i==null?"":`${i}`};return _`<div class=${r(c?a.diamondMidColRamp:a.squareTableCell)} style=${f(D)}><svg .ariaLabel=${l} height=${p??t} role=img style=${f(C)} width=${p??t} xmlns=${aa}>${N`<defs><marker .id=${"arrowStart"} markerHeight=10 markerUnits=strokeWidth markerWidth=10 orient=auto refX=5 refY=5><polyline fill=none points="0,0 5,5 0,10" stroke=#555555 stroke-width=1 /></marker><marker .id=${"arrowEnd"} markerHeight=10 markerUnits=strokeWidth markerWidth=10 orient=auto refX=0 refY=5><polyline fill=none points="5,0 0,5 5,10" stroke=#555555 stroke-width=1 /></marker>${q}</defs><g transform=${z??t}>${k}</g><g transform=${A??t}><line fill=none marker-end=${y.markerEnd??void 0??t} marker-start=${y.markerStart??void 0??t} stroke=#555555 stroke-width=1 x1=${-10} x2=${-10} y1=${d-L} y2=${L} /><line fill=none marker-end=${R.markerEnd??void 0??t} marker-start=${R.markerStart??void 0??t} stroke=#555555 stroke-width=1 x1=${T} x2=${d-T} y1=${d+w} y2=${d+w} /></g>`}</svg></div>`}};$.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},$.styles=Z;let v=$;Q("arcgis-legend-relationship-ramp",v);export{v as ArcgisLegendRelationshipRamp};
