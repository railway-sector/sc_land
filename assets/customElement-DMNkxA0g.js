const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CVzGOCNQ.js","assets/index-ni9qn0ie.css","assets/index-BwTU08nM.js","assets/index-BQS8mYnR.js","assets/index-B84kL3fV.js"])))=>i.map(i=>d[i]);
import{a2 as Y,Q as V,k as f,by as w,Z as l,$ as r,a0 as v,cU as fe,fd as oe,eq as ne,o0 as Ae,fI as ze,a4 as He,y as Q,W as M,X as I,_ as k,Y as a,bC as We,bE as Te,aR as ce,bA as T,gF as z,bZ as U,bF as Ue,a6 as he,L as je,u as qe,c as Ke,I as Ze,i as Je,l as Ge}from"./index-CVzGOCNQ.js";import{c as me,p as Xe,i as Ye,q as Qe,m as et}from"./BuildingSceneLayer-B0xGnP06.js";import{s as ee}from"./Heading-DCecCONm.js";import"./BuildingComponentSublayer-C27x0KS3.js";import"./capabilities-Cs4k8cuT.js";import"./I3SIndexInfo-nIhO8kRd.js";import"./I3SLayerDefinitions-DG-Iokvv.js";import"./I3SUtil-Bpzn_BON.js";import"./featurePopupQueryUtils-vNCFVdiY.js";import"./I3SBinaryReader-t18RH7bJ.js";import"./popupUtils-DTAwUWHJ.js";import"./BuildingGroupSublayer-_L2H_gh8.js";import"./SceneService-dczjsErC.js";const tt="overview",we=t=>e=>{const i=t.toLowerCase();return e.sublayers.find(s=>s.modelName?.toLowerCase()===i)??null},xe=we("fullmodel"),it=we(tt);function st(t){const e=xe(t);e!=null&&(e.visible=!0);const i=it(t);i!=null&&(i.visible=!1)}function se(t,e){const i=rt(t,e);if(i==null)return null;const s=i.fieldName;if(s==null||!s)return null;const o=lt(t,s),n=new Map;for(const d of i.mostFrequentValues??[])typeof d=="number"&&n.set(d,o!=null?o.getName(d):String(d));return{fieldName:s,fieldValueMap:n}}function lt(t,e){for(const i of t.allSublayers.items){const s=i.type==="building-component"?i.getFieldDomain?.(e):null;if(s&&s.type==="coded-value")return s}return null}function rt(t,e){const i=t.summaryStatistics?.fields??[],s=e.toLowerCase();return i.find(o=>o.modelName?.toLowerCase()===s)??null}let g=class extends Y{constructor(e){super(e),this.id="root",this.parent=null,this.children=new V,this.layers=new V,this.level=0,this._childIds=new Set,this._layerUniqueIds=new Set}initialize(){this.addHandles([this.layers.on("before-add",e=>{this._layerUniqueIds.has(e.item.uid)?e.preventDefault():this._layerUniqueIds.add(e.item.uid)}),this.layers.on("after-add",({item:e})=>{this.addHandles([f(()=>e.visible,()=>this.notifyChange("visible"),w),f(()=>e.title,()=>this.notifyChange("title"),w)],e.uid)}),this.layers.on("before-remove",({item:e})=>{this.removeHandles(e.uid),this.notifyChange("title"),this.notifyChange("visible")}),this.children.on("before-add",e=>{this._childIds.has(e.item.id)?e.preventDefault():(e.item._set("parent",this),this._childIds.add(e.item.id))})])}destroy(){this.children.forEach(e=>e.destroy())}get hasChildren(){return this.children.length>0}get isDiscipline(){return this.level===1}get visible(){return ue(this.layers,e=>e.visible)}get title(){return ue(this.layers,e=>e.title)||this.layers.items.map(e=>e.title).join(", ")||null}toggleVisibility(e){const i=e===void 0?!this.visible:e;this.layers.forEach(s=>{s.visible=i}),i&&this.parent!=null&&this.parent.toggleVisibility(!0)}toggleAllSiblingsVisibility(e){const i=e===void 0?!this.visible:e;this.toggleVisibility(i),this.parent!=null&&(this.parent.toggleVisibility(i),this.parent.children.forEach(s=>s.toggleVisibility(i)))}};function ue(t,e){let i=null;for(const s of t.items){const o=e(s);if(i!=null&&i!==o)return null;i=o}return i}l([r({nonNullable:!0})],g.prototype,"id",void 0),l([r()],g.prototype,"parent",void 0),l([r({nonNullable:!0,readOnly:!0})],g.prototype,"children",void 0),l([r({nonNullable:!0,readOnly:!0})],g.prototype,"layers",void 0),l([r({nonNullable:!0})],g.prototype,"level",void 0),l([r({readOnly:!0})],g.prototype,"hasChildren",null),l([r({readOnly:!0})],g.prototype,"isDiscipline",null),l([r({readOnly:!0})],g.prototype,"visible",null),l([r({readOnly:!0})],g.prototype,"title",null),g=l([v("esri.widgets.BuildingExplorer.support.LayerTreeNode")],g);function ae(){let t=new AbortController;return async e=>{t.abort(),t=new AbortController;const i={signal:t.signal},s=e.toArray().map(o=>ot(o,i));await Promise.all(s),fe(i)}}async function ot(t,e){await t.load(e),await t.loadAll(),fe(e),t.summaryStatistics&&await t.summaryStatistics.load(e)}let F=class extends Y{constructor(e){super(e),this.root=new g,this.state="disabled",this._loadLayers=ae(),this.layers=new V}initialize(){this.addHandles(this.layers.on("change",()=>this._onLayersChange())),this._onLayersChange()}destroy(){this._set("state","disabled"),this.root.destroy()}set layers(e){const i=this._get("layers");this._set("layers",oe(e,i))}_updateLayerTree(){this.root.destroy(),this._set("root",new g);const e=new Map,i=this.layers.length>1?"modelName":"id";return this.layers.forEach(s=>{const o=xe(s);this._addNodesForSublayers(o??s,this.root,e,i)}),this}_addNodeForLayer(e,i,s,o){const n=String(e[o]).toLowerCase();if(n==null||e.isEmpty)return;const d=`${i.id}/${n}`;let h=s.get(d);h||(h=new g({id:n,level:i.level+1}),s.set(d,h)),h.layers.push(e),i.children.push(h),this._addNodesForSublayers(e,h,s,o)}_addNodesForSublayers(e,i,s,o){(e.type==="building-scene"||e.type==="building-group"&&!e.isEmpty)&&e.sublayers.forEach(n=>this._addNodeForLayer(n,i,s,o))}async _onLayersChange(){if(this._set("state","loading"),this.layers.length!==0)try{await this._loadLayers(this.layers),this._updateLayerTree(),this._set("state","ready")}catch(e){ne(e)||this._set("state","failed")}}};l([r({readOnly:!0})],F.prototype,"root",void 0),l([r({type:V,nonNullable:!0})],F.prototype,"layers",null),l([r({readOnly:!0,nonNullable:!0})],F.prototype,"state",void 0),F=l([v("esri.widgets.BuildingExplorer.BuildingDisciplinesViewModel")],F);const ke=F;function G(t){const e={fieldValueMap:new Map,allowedValues:[]};for(const i of t){const s=i.fieldValueMap,o=e.fieldValueMap;s.forEach((n,d)=>{o.has(d)||(o.set(d,n),e.allowedValues.push(d))})}return e.allowedValues.sort((i,s)=>i-s),e}function nt(t){let e=null;for(const i of t)e=e!=null?Math.min(e,i):i;return e}function at(t){let e=null;for(const i of t)e=e!=null?Math.max(e,i):i;return e}function te(t,e){return e.allowedValues.length>0?dt(t,e.allowedValues):null}function dt(t,e){if(e.length===0)return t;if(t===1/0)return e[e.length-1];if(t===-1/0)return e[0];let i=e[0],s=Math.abs(i-t);for(const o of e){const n=Math.abs(o-t);n<s&&(i=o,s=n)}return i}let u=class extends Y{constructor(e){super(e),this.state="disabled",this._valueBeforeReady=null,this._domainInfo=G([]),this._loadLayers=ae(),this.layers=new V}initialize(){this.addHandles(this.layers.on("change",()=>this._onLayersChange())),this._onLayersChange()}destroy(){this._set("state","disabled")}get enabled(){return this.allowedValues.length>0&&this._get("enabled")}set enabled(e){e!==this.enabled&&this.allowedValues.length>0&&this._set("enabled",e)}get value(){return(this.state==="ready"?this._get("value"):this._valueBeforeReady)??0}set value(e){if(this.state!=="ready")return void(this._valueBeforeReady=e);if(e===this.value)return;const i=te(e,this);i!=null&&this._set("value",i)}get min(){return nt(this.allowedValues)}get max(){return at(this.allowedValues)}get allowedValues(){return this._domainInfo.allowedValues}set allowedValues(e){e==null?this._clearOverride("allowedValues"):this._override("allowedValues",e);const i=te(this.value,this);i!=null&&(this.value=i)}get hasNext(){if(!this.enabled)return!0;const e=this._valueIndex;return e>=0&&e<this.allowedValues.length-1}get hasPrevious(){return!this.enabled||this._valueIndex>0}set layers(e){const i=this._get("layers");this._set("layers",oe(e,i))}get filterExpressions(){return{solid:null,xRay:null}}get _valueIndex(){return Ae(this.allowedValues,this.value)}select(e){if(this.state!=="ready")return void(this._valueBeforeReady=e);te(e,this)!=null&&(this.enabled=!0,this.value=e)}clear(){this.state==="ready"?this.enabled=!1:this._valueBeforeReady=null}next(){const{state:e,allowedValues:i,enabled:s,hasNext:o,_valueIndex:n}=this;if(e==="ready"||this._valueBeforeReady==null){if(i.length!==0)return s?void(o&&(this.value=i[n+1])):(this.enabled=!0,void(this.value=i[0]))}else this._valueBeforeReady++}previous(){const{state:e,allowedValues:i,enabled:s,hasPrevious:o,_valueIndex:n}=this;if(e==="ready"||this._valueBeforeReady==null){if(i.length!==0)return s?void(o&&(this.value=i[n-1])):(this.enabled=!0,void(this.value=i[i.length-1]))}else this._valueBeforeReady++}getValueLabel(e){return this.layers.length===0?null:this._domainInfo.fieldValueMap.get(e)??null}async _onLayersChange(){if(this._set("state","loading"),this._domainInfo=G([]),this.layers.length!==0)try{await this._loadLayers(this.layers),this._setup()}catch(e){ne(e)||this._set("state","failed")}}};l([r({value:!1,nonNullable:!0})],u.prototype,"enabled",null),l([r({nonNullable:!0})],u.prototype,"value",null),l([r({readOnly:!0})],u.prototype,"min",null),l([r({readOnly:!0})],u.prototype,"max",null),l([r()],u.prototype,"allowedValues",null),l([r({readOnly:!0})],u.prototype,"hasNext",null),l([r({readOnly:!0})],u.prototype,"hasPrevious",null),l([r({type:V,nonNullable:!0})],u.prototype,"layers",null),l([r({nonNullable:!0})],u.prototype,"state",void 0),l([r()],u.prototype,"_valueBeforeReady",void 0),l([r({readOnly:!0})],u.prototype,"_valueIndex",null),l([r()],u.prototype,"_domainInfo",void 0),u=l([v("esri.widgets.BuildingExplorer.BuildingNumericFilterViewModel")],u);const $e=u,Le="__BUILDING_EXPLORER_FILTER__";function ct(){return`${ze()}${Le}`}function le(t){const e=typeof t=="string"?t:t.id;return!!e&&e.includes(Le)}function Ce(t,e){for(const i of t.items)for(const s of i.filters.items){if(!le(s))continue;const o=e(s);if(o!=null)return o}return null}function ht(t,e){t.forEach(i=>{const s=i.filters.filter(n=>!le(n));e!=null&&s.push(e),ut(i.filters,s)||(i.filters=s);const o=i.filters.find(n=>le(n));i.activeFilterId=o!=null?o.id:null})}function ut(t,e){const i=e.length;if(t==null||t.length!==i)return!1;for(let s=0;s<i;++s){const o=e.at(s).toJSON(),n=t.at(s).toJSON();if(o.id="",n.id="",JSON.stringify(o)!==JSON.stringify(n))return!1}return!0}function pt(t){const e=Pe(t);return e?new me({filterExpression:e,filterMode:new Ye}):null}function gt(t){const e=Pe(t);return e?new me({filterExpression:e,filterMode:new Xe}):null}function Pe(t){return t.filter(e=>!!e).map(e=>`(${e})`).join(" AND ")}const vt="bldglevel";let D=class extends $e{constructor(e){super(e),this._levelFieldName=null,this._parseValueFromFilter=i=>{const s=new RegExp(`${this._levelFieldName}\\s*=\\s*(\\d+)`,"gi"),o=new RegExp(`${this._levelFieldName}\\s*<\\s*(\\d+)`,"gi");for(const{filterMode:n,filterExpression:d}of i.filterBlocks?.items??[]){if(d==null)continue;let h=null;if(n.type==="solid"?h=s.exec(d):n.type==="x-ray"&&(h=o.exec(d)),h)return parseInt(h[1],10)}return null}}get filterExpressions(){return this.enabled&&this._levelFieldName?{xRay:`${this._levelFieldName} < ${this.value}`,solid:`${this._levelFieldName} = ${this.value}`}:{solid:null,xRay:null}}get _firstValue(){const e=this.allowedValues;return e.length>0?e[0]:0}_setup(){const e=[];this.layers.forEach(o=>{const n=se(o,vt);n!=null&&(this._levelFieldName=n.fieldName,e.push(n))}),this._domainInfo=G(e);const i=this._valueBeforeReady;this._set("state","ready"),this._valueBeforeReady=null;const s=i??Ce(this.layers,this._parseValueFromFilter);s!=null?this.select(s):(this.enabled=!1,this.value=this._firstValue)}};l([r({readOnly:!0})],D.prototype,"filterExpressions",null),l([r()],D.prototype,"_levelFieldName",void 0),l([r({readOnly:!0})],D.prototype,"_firstValue",null),D=l([v("esri.widgets.BuildingExplorer.BuildingLevel")],D);const Ee=D,_t="demolishedphase",bt="createdphase";let N=class extends $e{constructor(e){super(e),this._createdPhaseFieldName=null,this._demolishedPhaseFieldName=null,this._parseValueFromFilter=i=>{const s=this._createdPhaseFieldName,o=new RegExp(`${s}\\s*<=\\s*(\\d+)\\s*OR\\s*${s}\\s*IS\\s*NULL`,"gi"),n=this._demolishedPhaseFieldName,d=new RegExp(`${n}\\s*>\\s*(\\d+)\\s*OR\\s*${n}\\s*IS\\s*NULL`,"gi");for(const{filterExpression:h}of i.filterBlocks?.items??[]){const A=h?o.exec(h)??d.exec(h):null;if(A)return parseInt(A[1],10)}return null}}get filterExpressions(){if(!this.enabled)return{solid:null,xRay:null};const e=[],i=this._createdPhaseFieldName;i&&e.push(`(${i} <= ${this.value} OR ${i} IS NULL)`);const s=this._demolishedPhaseFieldName;s&&e.push(`(${s} > ${this.value} OR ${s} IS NULL)`);const o=e.join(" AND ");return{solid:o,xRay:o}}get _lastValue(){const e=this.allowedValues;return e.length>0?e[e.length-1]:0}_setup(){const e=[];this.layers.forEach(s=>{const o=se(s,bt);o!=null&&(this._createdPhaseFieldName=o.fieldName,e.push(o));const n=se(s,_t);n!=null&&(this._demolishedPhaseFieldName=n.fieldName,e.push(n))}),this._domainInfo=G(e);const i=this._valueBeforeReady;if(this._set("state","ready"),this._valueBeforeReady=null,this.allowedValues.length>0){const s=i??Ce(this.layers,this._parseValueFromFilter);this.select(s??this._lastValue)}else this.clear()}};l([r({readOnly:!0})],N.prototype,"filterExpressions",null),l([r()],N.prototype,"_createdPhaseFieldName",void 0),l([r()],N.prototype,"_demolishedPhaseFieldName",void 0),l([r({readOnly:!0})],N.prototype,"_lastValue",null),N=l([v("esri.widgets.BuildingExplorer.BuildingPhase")],N);const Ve=N;let b=class extends Y{constructor(e){super(e),this.view=null,this.state="disabled",this.level=new Ee,this.phase=new Ve,this.disciplines=new ke,this._loadLayers=ae(),this.layers=new V}initialize(){this.addHandles([this.layers.on("change",()=>this._onLayersChange()),f(()=>({state:this.state,layers:this.layers,filter:this._filter}),({state:e,layers:i,filter:s})=>{e==="ready"&&ht(i,s)},{initial:!0})]),this._onLayersChange()}destroy(){this.level.destroyed||this.level.destroy(),this.phase.destroyed||this.phase.destroy(),this.disciplines.destroyed||this.disciplines.destroy()}get isSupported(){return this.view?.type==="3d"}get layers(){return this._get("layers")}set layers(e){const i=e.filter(s=>s instanceof Qe);i.length!==e.length&&He.getLogger(this).error("Some layers are not BuildingSceneLayers but only BuildingSceneLayers can be passed to the widget."),this._set("layers",oe(i,this._get("layers")))}get _filter(){const e=this.level.filterExpressions,i=this.phase.filterExpressions,s=[],o=gt([e.solid,i.solid]);o!=null&&s.push(o);const n=pt([e.xRay,i.xRay]);return n!=null&&s.push(n),s.length===0?null:new et({id:ct(),name:"Building Explorer Filter",filterBlocks:s})}async _onLayersChange(){const e=this.layers;if(this.level.layers=e,this.phase.layers=e,this.disciplines.layers=e,e.length!==0){this._set("state","loading");try{await this._loadLayers(e),await Promise.all([Q(()=>this.level.state==="ready"),Q(()=>this.phase.state==="ready"),Q(()=>this.disciplines.state==="ready")]),e.forEach(st),this._set("state","ready")}catch(i){ne(i)||this._set("state","failed")}}else this._set("state","disabled")}};l([r({value:null})],b.prototype,"view",void 0),l([r()],b.prototype,"isSupported",null),l([r({type:V,nonNullable:!0})],b.prototype,"layers",null),l([r({readOnly:!0})],b.prototype,"state",void 0),l([r({readOnly:!0,type:Ee})],b.prototype,"level",void 0),l([r({readOnly:!0,type:Ve})],b.prototype,"phase",void 0),l([r({readOnly:!0,type:ke})],b.prototype,"disciplines",void 0),l([r()],b.prototype,"_filter",null),b=l([v("esri.widgets.BuildingExplorer.BuildingExplorerViewModel")],b);const Ne=b,$="esri-building-explorer",_={base:$,panelError:`${$}__panel--error`,loadingContainer:`${$}__loading-container`,content:`${$}__content`,section:`${$}__section`,levels:`${$}__levels`,phases:`${$}__phases`,disciplines:`${$}__disciplines`};var K;const yt={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},pe="esri-building-disciplines-tree-node",ge={base:pe,label:`${pe}__label`};var B;let S=(B=class extends M{constructor(e){super(e),this.messages=yt,this.toggleSiblingsVisibility=!1,this._onCheckboxClick=i=>{i.stopPropagation(),(i.metaKey||i.ctrlKey)&&this.toggleSiblingsVisibility&&(this.node.toggleVisibility(),this.node.toggleAllSiblingsVisibility())},this._onCheckboxToggle=i=>{this.node.toggleVisibility(i.currentTarget.checked)}}static loadDependencies(){return I({checkbox:()=>k(()=>import("./index-CVzGOCNQ.js").then(e=>e.Pc),__vite__mapDeps([0,1])),label:()=>k(()=>import("./index-CVzGOCNQ.js").then(e=>e.P7),__vite__mapDeps([0,1])),tree:()=>k(()=>import("./index-BwTU08nM.js"),__vite__mapDeps([2,0,1])),"tree-item":()=>k(()=>import("./index-BQS8mYnR.js"),__vite__mapDeps([3,0,1]))})}loadDependencies(){return K.loadDependencies()}render(){const{node:e,messages:i}=this;if(e.isDiscipline&&!e.hasChildren)return a("div",{key:`${e.id}-empty`});const s=e.visible,o=s===!0,n=s===null,d=o?i?.hideSublayer:i?.showSublayer;return a("calcite-tree-item",{class:ge.base,key:e.id},a("calcite-label",{class:ge.label,layout:"inline"},a("calcite-checkbox",{checked:o,indeterminate:n,label:d,onclick:this._onCheckboxClick,title:d,onCalciteCheckboxChange:this._onCheckboxToggle}),e.title),this._renderedChildren)}get _renderedChildren(){const{node:e}=this;if(!e.hasChildren)return null;const{messages:i}=this,{toggleSiblingsVisibility:s}=this;return a("calcite-tree",{lines:!0,selectionMode:"none",slot:"children"},this.node.children.toArray().reverse().map(o=>a(K,{messages:i,node:o,toggleSiblingsVisibility:s})))}},K=B,B.vnodeSelector="calcite-tree-item",B);l([r({type:g})],S.prototype,"node",void 0),l([r()],S.prototype,"messages",void 0),l([r({nonNullable:!0})],S.prototype,"toggleSiblingsVisibility",void 0),l([r()],S.prototype,"_renderedChildren",null),S=K=l([v("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesNode")],S);const ve=S,ft={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},mt={base:"esri-building-disciplines-tree"};var R;let O=(R=class extends M{constructor(e){super(e),this.toggleSiblingsVisibility=!1}loadDependencies(){return Promise.allSettled([I({tree:()=>k(()=>import("./index-BwTU08nM.js"),__vite__mapDeps([2,0,1]))}),ve.loadDependencies()])}render(){const{vm:e}=this,i=this.toggleSiblingsVisibility,s=this.messages??ft;return a("calcite-tree",{class:mt.base,lines:!0,selectionMode:"none"},e.root.children.toArray().filter(o=>!o.isDiscipline||o.hasChildren).reverse().map(o=>a(ve,{messages:s,node:o,toggleSiblingsVisibility:i})))}},R.vnodeSelector="calcite-tree",R);l([r()],O.prototype,"vm",void 0),l([r()],O.prototype,"messages",void 0),l([r()],O.prototype,"toggleSiblingsVisibility",void 0),O=l([v("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesTree")],O);const wt=O,Se=30,Be=20,Me=30,Fe=10,Z=20,J=2,De=.035,Oe=30,Re=14,Ie=80,xt=100,kt=40,$t=Object.freeze(Object.defineProperty({__proto__:null,alphaLevelDependencyFactor:Me,alphaSpreadFactor:Fe,levelHeightDefault:Re,levelHoveredExtraHeight:Se,levelHoveredExtraWidth:Be,levelWidthConstant:kt,levelWidthMax:Ie,levelWidthMin:Oe,levelWidthNominator:xt,levelsMarginFactor:J,levelsPadding:Z,levelsPointerAdjustment:De},Symbol.toStringTag,{value:"Module"})),L="esri-building-level-picker",C={container:L,noLevel:`${L}--no-level`,animateLevel:`${L}--animate-level`,levelsContainer:`${L}__levels-container`,innerLevelsContainer:`${L}__inner-levels-container`,labelContainer:`${L}__label-container`,arrowUp:`${L}__arrow-up`,arrowDown:`${L}__arrow-down`},H="esri-building-level-picker-label",W={base:H,active:`${H}--active`,hover:`${H}--hover`,empty:`${H}--empty`,clearButton:`${H}__clear-button`},Lt={clearLevel:"",selectLevel:""};let P=class extends M{constructor(e,i){super(e,i),this.level=null,this.active=!1,this.hovering=!1,this.onClear=()=>{}}loadDependencies(){return I({fab:()=>k(()=>import("./index-B84kL3fV.js"),__vite__mapDeps([4,0,1]))})}render(){const e=this.messages??Lt;if(this.level==null)return a("div",{class:W.empty,title:e.selectLevel},e.selectLevel);const i=e.clearLevel;return a("div",{"aria-label":i,bind:this,class:this.classes(W.base,{[W.active]:this.active,[W.hover]:this.hovering}),onclick:this.onClear,title:i},a("span",null,this.level),a("calcite-fab",{appearance:"outline-fill",class:W.clearButton,disabled:!this.active,icon:"x",key:"clear-button",kind:"neutral",onclick:this.onClear,scale:"s"}))}};l([r()],P.prototype,"level",void 0),l([r({nonNullable:!0})],P.prototype,"active",void 0),l([r({nonNullable:!0})],P.prototype,"hovering",void 0),l([r()],P.prototype,"messages",void 0),l([r({nonNullable:!0})],P.prototype,"onClear",void 0),P=l([v("esri.widgets.BuildingExplorer.BuildingLevelPicker.Label")],P);const j="esri-building-level-picker-item",q={container:j,base:`${j}__base`,hover:`${j}--hover`,active:`${j}--active`};let y=class extends M{constructor(t,e){super(t,e),this.active=!1,this.hovering=!1,this.width=0,this.height=0,this.onSelect=()=>{},this.onFocus=()=>{},this.onBlur=()=>{},this._baseElement=null}render(){return a("div",{bind:this,class:this.classes(q.container,{[q.active]:this.active,[q.hover]:this.hovering}),key:this,styles:{height:`${this.height}px`}},this._renderBase())}focus(){this._baseElement!=null&&this._baseElement.focus()}_renderBase(){const t=this.width,e=.8*this.width;return a("div",{class:q.base,styles:{width:`${Math.round(t)}px`,height:`${Math.round(t)}px`}},a("button",{afterCreate:We,"aria-label":this.label,bind:this,class:"rect","data-node-ref":"_baseElement",onblur:this.onBlur,onclick:this.onSelect,onfocus:this.onFocus,styles:{width:`${Math.round(e)}px`,height:`${Math.round(e)}px`,transform:`translate(${Te(this.container),-50}%, -50%) rotateX(66deg) rotateZ(45deg)`},tabIndex:-1,title:this.label??"",type:"button"}))}};l([r({nonNullable:!0})],y.prototype,"level",void 0),l([r({nonNullable:!0})],y.prototype,"active",void 0),l([r({nonNullable:!0})],y.prototype,"hovering",void 0),l([r({nonNullable:!0})],y.prototype,"width",void 0),l([r({nonNullable:!0})],y.prototype,"height",void 0),l([r({nonNullable:!0})],y.prototype,"onSelect",void 0),l([r({nonNullable:!0})],y.prototype,"onFocus",void 0),l([r({nonNullable:!0})],y.prototype,"onBlur",void 0),y=l([v("esri.widgets.BuildingExplorer.BuildingLevelPicker.LevelItem")],y);const ie={selectLevel:"selectLevel",clearLevel:"clearLevel",nextLevel:"nextLevel",previousLevel:"previousLevel",currentLevel:"{{value}}"};let c=class extends M{constructor(t,e){super(t,e),this._levelHandlesKey="levelHandles",this._levelEventHandlesKey="levelEventHandles",this._levelWidgets=[],this._labelWidget=new P({onClear:()=>this.vm.clear()}),this._hoveredLevel=null,this._expandedLevelsHeight=void 0,this._normalizedPointerPosition=0,this._hovering=!1,this._containerPosTop=null,this._levelsContainer=null,this._onKeyDown=i=>{switch(i.key){case"ArrowDown":case"ArrowLeft":i.preventDefault(),i.stopPropagation(),this.vm.previous(),this._focusCurrentLevel();break;case"ArrowUp":case"ArrowRight":i.preventDefault(),i.stopPropagation(),this.vm.next(),this._focusCurrentLevel()}},this._onFocus=()=>{this._hoveredLevel=this._levels.length>0?this._levels[0]:null},this._onArrowUpClick=()=>{this.vm.next()},this._onArrowDownClick=()=>{this.vm.previous()},this._onPointerUp=()=>{if(window.getSelection()?.removeAllRanges(),this._hoveredLevel==null)return;const{vm:i}=this;i.enabled&&this._hoveredLevel===i.value?i.clear():i.select(this._hoveredLevel)},this._onPointerEnter=()=>{this._hovering||this._levelsContainer==null||(this._hovering=!0,this._containerPosTop=this._levelsContainer.getBoundingClientRect().top??0)},this._onPointerLeave=()=>{this._hovering&&(this._normalizedPointerPosition=0,this._hoveredLevel=null,this._hovering=!1)},this._onPointerMove=i=>{if(!this._hovering)return!1;if(window.getSelection()?.removeAllRanges(),this._containerPosTop!=null){const s=this._containerPosTop,o=Z*J,n=this._expandedLevelsMargin;let d=this._levelsHeight,h=s+o+n;const A=this._levelHeight/2;h+=A,d-=A;let de=(i.clientY-h)/d;de+=De,this._normalizedPointerPosition=de}return!1}}loadDependencies(){return I({action:()=>k(()=>import("./index-CVzGOCNQ.js").then(t=>t.OP),__vite__mapDeps([0,1]))})}postInitialize(){this.addHandles([f(()=>this._levelsContainer,()=>this._onContainerChange(),w),f(()=>this._levels,()=>this._createLevelWidgets(),w),f(()=>this.messages,()=>{this._labelWidget.messages=this.messages??ie},w)])}destroy(){this._levelWidgets.forEach(t=>t.destroy()),this._labelWidget.destroy()}get _levels(){return this.vm.allowedValues}get _numLevels(){return this._levels.length}get _levelsHeight(){return Math.round(this._levelHeight*this._numLevels)}get _expandedLevelsMargin(){return Math.round(((this._expandedLevelsHeight??0)-this._levelsHeight)/2)}get _levelWidth(){const{levelWidthNominator:t,levelWidthConstant:e}=$t,i=t/Math.sqrt(this._numLevels)+e;return Math.round(ce(i,Oe,Ie))}get _levelHeight(){const t=Re,e=2*t/Math.sqrt(this._numLevels);return Math.round(ce(e,2,t))}get _gaussianFactor(){const t=this._numLevels;return t/Math.log(Me*t)*Fe}get _levelClosestToPointer(){if(!this._hovering)return null;const t=this._numLevels-1,e=this._normalizedPointerPosition;return t>=0&&e!=null?this._levels[Math.round((1-e)*t)]:null}render(){const t=this._levelWidgets.length,e=t>1?this._levelWidgets.map(d=>d.render()):null,i=Z*J,s=-i/J,o=this._levelsHeight,n=o+2*i;return a("div",{class:this.classes(T.widget,C.container,{[C.animateLevel]:!this._hovering,[C.noLevel]:t<2}),key:this,onkeydown:this._onKeyDown},this._renderLabelContainer(),a("div",{afterCreate:d=>this._levelsContainer=d,class:C.levelsContainer,"data-node-ref":"",onfocus:this._onFocus,styles:{height:`${n}px`,marginBlockStart:`${s}px`,marginBlockEnd:`${s}px`}},a("div",{class:C.innerLevelsContainer,styles:{height:`${o}px`,margin:"0",marginBlockStart:Z-this._expandedLevelsMargin+"px"}},e)))}_renderLabelContainer(){const{hasPrevious:t,hasNext:e}=this.vm,i=this.messages??ie,s=i.previousLevel,o=i.nextLevel;return a("div",{class:C.labelContainer,tabIndex:0},_e({className:C.arrowUp,disabled:!e,icon:"chevron-up",onClick:this._onArrowUpClick,text:o}),this._labelWidget.render(),_e({className:C.arrowDown,disabled:!t,icon:"chevron-down",onClick:this._onArrowDownClick,text:s}))}_updateComponents(){const t=this.messages??ie,e=this.vm.enabled?this.vm.value:null,i=this._hoveredLevel!=null?this._hoveredLevel:e;this._levelWidgets.forEach(s=>{const o=this.vm.getValueLabel(s.level);s.label=o??t.currentLevel?.replace("{{level}}",String(s.level)),s.active=s.level===e,s.hovering=s.level===this._hoveredLevel}),this._labelWidget.level=i,this._labelWidget.active=i===e,this._labelWidget.hovering=this._hoveredLevel!=null}_createLevelWidgets(){this._levelWidgets.forEach(t=>t.destroy()),this._levelWidgets=this._levels.map(t=>new y({level:t,onSelect:()=>this._onLevelToggle(t)})),this.removeHandles(this._levelHandlesKey),this.addHandles([f(()=>{const{vm:t}=this;return[this.messages,t?.value,t?.enabled,this._hoveredLevel,this._hovering]},()=>this._updateComponents(),w),f(()=>[this._normalizedPointerPosition,this._hovering],()=>this._onPointerPositionChange(),w),f(()=>this._levelWidth,t=>this._levelWidgets.forEach(e=>e.width=t),w)],this._levelHandlesKey)}_onContainerChange(){const t=this._levelsContainer;t!=null&&(this.removeHandles(this._levelEventHandlesKey),this.addHandles([z(t,"pointerenter",this._onPointerEnter),z(t,"pointerover",this._onPointerEnter),z(t,"pointerleave",this._onPointerLeave),z(t,"pointerup",this._onPointerUp),z(t,"pointermove",this._onPointerMove)],this._levelEventHandlesKey))}_focusCurrentLevel(){this._levelWidgets.find(e=>e.level===this.vm.value)?.focus()}_onLevelToggle(t){const{vm:e}=this;e.enabled&&e.value===t?e.clear():e.select(t)}_onPointerPositionChange(){let t=0;this._levelWidgets.forEach((i,s)=>{const{width:o,height:n}=this._getLevelWidgetSize(s);i.height=n,i.width=o,t+=n}),this._hoveredLevel=this._levelClosestToPointer;const e=this._expandedLevelsHeight;(e==null||Math.abs(e-t)>30)&&(this._expandedLevelsHeight=t)}_getLevelWidgetSize(t){const e={width:this._levelWidth,height:this._levelHeight};if(this._hovering){const i=this._getGaussianFactor(t,this._normalizedPointerPosition);e.width+=Be*i,e.height+=Se*i}return e}_getGaussianFactor(t,e){const i=this._numLevels-1,s=(i-t)/i,o=this._gaussianFactor*(s-e);return Math.exp(-(o**2))}};function _e(t){return a("calcite-action",{appearance:"transparent",class:t.className,disabled:t.disabled,icon:t.icon,key:t.className,onclick:t.onClick,scale:"s",text:t.text,textEnabled:!1,title:t.text})}l([r()],c.prototype,"vm",void 0),l([r()],c.prototype,"messages",void 0),l([r()],c.prototype,"_levelWidgets",void 0),l([r()],c.prototype,"_labelWidget",void 0),l([r()],c.prototype,"_hoveredLevel",void 0),l([r()],c.prototype,"_levels",null),l([r()],c.prototype,"_numLevels",null),l([r({readOnly:!0})],c.prototype,"_levelsHeight",null),l([r()],c.prototype,"_expandedLevelsHeight",void 0),l([r({readOnly:!0})],c.prototype,"_expandedLevelsMargin",null),l([r({readOnly:!0})],c.prototype,"_levelWidth",null),l([r({readOnly:!0})],c.prototype,"_levelHeight",null),l([r({readOnly:!0})],c.prototype,"_gaussianFactor",null),l([r({readOnly:!0})],c.prototype,"_levelClosestToPointer",null),l([r({type:Number,range:{min:0,max:1}})],c.prototype,"_normalizedPointerPosition",void 0),l([r()],c.prototype,"_hovering",void 0),l([r()],c.prototype,"_containerPosTop",void 0),l([r()],c.prototype,"_levelsContainer",void 0),c=l([v("esri.widgets.BuildingExplorer.BuildingLevelPicker.BuildingLevelPicker")],c);const Ct=c,x="esri-building-phase-picker",m={base:`${x}`,phasesContainer:`${x}__phases-container`,phase:`${x}__phase`,phaseActive:`${x}__phase--active`,phaseCurrent:`${x}__phase--current`,divider:`${x}__divider`,dividerActive:`${x}__divider--active`,arrowLeft:`${x}__arrow-left`,arrowRight:`${x}__arrow-right`},Pt={nextPhase:"nextPhase",previousPhase:"previousPhase"};let E=class extends M{constructor(t,e){super(t,e),this._phasesContainer=null,this._shouldScrollCurrentPhaseIntoView=!0,this._shouldFocusCurrentPhase=!1,this._onKeyDown=i=>{const{vm:s}=this;switch(i.key){case"ArrowDown":case"ArrowLeft":i.stopPropagation(),i.preventDefault(),s.previous(),this._shouldFocusCurrentPhase=!0;break;case"ArrowUp":case"ArrowRight":i.stopPropagation(),i.preventDefault(),s.next(),this._shouldFocusCurrentPhase=!0}},this._onArrowLeftClick=()=>{this.vm.previous()},this._onArrowRightClick=()=>{this.vm.next()},this._onPhasesContainerAfterCreate=i=>{this._phasesContainer=i,requestAnimationFrame(this._scrollOrFocusPhase)},this._scrollOrFocusPhase=()=>{const i=this._phasesContainer;if(this.destroyed||i==null)return;const s=i.querySelector(`.${m.phaseCurrent}`);if(s){if(this._shouldScrollCurrentPhaseIntoView){const o=i.offsetWidth,n=s.offsetLeft,d=s.offsetWidth;i.scrollLeft=-o/2+n+d/2,this._shouldScrollCurrentPhaseIntoView=!1}this._shouldFocusCurrentPhase&&(s.focus(),this._shouldFocusCurrentPhase=!1)}}}loadDependencies(){return I({action:()=>k(()=>import("./index-CVzGOCNQ.js").then(t=>t.OP),__vite__mapDeps([0,1]))})}initialize(){this.addHandles([f(()=>[this._currentPhase,this._phasesContainer,this.container],()=>{this._shouldScrollCurrentPhaseIntoView=!0,requestAnimationFrame(this._scrollOrFocusPhase)},w),f(()=>({container:this.container,numPhases:this._phases.length}),({container:t,numPhases:e})=>{t&&t.style.setProperty("--num-phases",String(e))},w)])}get _phases(){return this.vm.allowedValues}get _currentPhase(){const{vm:t}=this;return t.enabled?t.value:null}render(){if(this._phases.length<2)return a("div",{key:"no-phases"});const{vm:t,messages:e}=this,{previousPhase:i,nextPhase:s}=e??Pt;return a("div",{class:this.classes(T.widget,m.base),key:this,onkeydown:this._onKeyDown},be({className:m.arrowLeft,disabled:!t.hasPrevious,icon:"chevron-left",onClick:this._onArrowLeftClick,text:i}),a("div",{afterCreate:this._onPhasesContainerAfterCreate,class:m.phasesContainer},this._renderPhaseButtons()),be({className:m.arrowRight,disabled:!t.hasNext,icon:"chevron-right",onClick:this._onArrowRightClick,text:s}))}_renderPhaseButtons(){const t=this._phases,e=this._currentPhase,i=[];for(let s=0;s<t.length;++s){const o=t[s],n={phase:o,active:e!=null&&o<=e,current:e!=null&&o===e};s>0&&i.push(this._renderDivider(n)),i.push(this._renderPhaseButton(n))}return i}_renderPhaseButton({phase:t,active:e,current:i}){const{vm:s}=this,o=s.getValueLabel(t);return a("button",{"aria-label":o,class:this.classes(m.phase,{[m.phaseActive]:e,[m.phaseCurrent]:i}),key:`phase-${t}`,onclick:()=>s.select(t),title:o,type:"button"},t)}_renderDivider({phase:t,active:e}){return a("div",{class:this.classes(m.divider,{[m.dividerActive]:e}),key:`phase-divider-${t}`})}};function be(t){return a("calcite-action",{appearance:"transparent",class:t.className,disabled:t.disabled,icon:t.icon,iconFlipRtl:!0,key:t.className,onclick:t.onClick,scale:"s",text:t.text,textEnabled:!1,title:t.text})}l([r({nonNullable:!0})],E.prototype,"vm",void 0),l([r()],E.prototype,"messages",void 0),l([r()],E.prototype,"_phases",null),l([r()],E.prototype,"_currentPhase",null),l([r()],E.prototype,"_phasesContainer",void 0),E=l([v("esri.widgets.BuildingExplorer.BuildingPhasePicker.BuildingPhasePicker")],E);const Et=E,ye={levels:!0,phases:!0,disciplines:!0};let p=class extends M{constructor(t,e){super(t,e),this._defaultViewModel=new Ne,this.viewModel=this._defaultViewModel,this.visibleElements={...ye},this.headingLevel=3,this.messages=null,this.messagesCommon=null,this.toggleSiblingsVisibility=!1}loadDependencies(){return I({loader:()=>k(()=>import("./index-CVzGOCNQ.js").then(t=>t.OF),__vite__mapDeps([0,1]))})}destroy(){this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get layers(){return this.viewModel.layers}set layers(t){this.viewModel.layers=t}_castVisibleElements(t){return{...ye,...t}}get icon(){return"organization"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}render(){const t=this.viewModel,e=t.state==="disabled"||!t.isSupported;return a("div",{"aria-label":this.messages.widgetLabel,class:U(T.widget,_.base,T.panel,{[T.widgetDisabled]:e}),key:this},this._renderContent())}_renderContent(){const t=this.viewModel,e=this.messages;if(!t.isSupported)return a("p",{class:_.panelError},e.unsupported);if(!t.layers.length)return a("p",{class:_.panelError},e.noData);switch(t.state){case"loading":return this._renderLoadingIndicator();case"ready":return a("div",{class:_.content,key:"content"},this._renderLevelPickerSection(),this._renderPhasePickerSection(),this._renderDisciplinesSection());case"failed":return a("p",{class:_.panelError},e.failed);default:return null}}_renderLoadingIndicator(){const t=this.messagesCommon.loading;return a("div",{"aria-label":t,class:_.loadingContainer,key:"loading-container",role:"presentation",title:t},a("calcite-loader",{label:t,type:"indeterminate"}))}_renderLevelPickerSection(){const t=this.viewModel.level,e=t.state==="ready",i=t.allowedValues.length>1;if(!this.visibleElements.levels||!e||!i)return null;const s=this.messages?.level;return a("div",{class:U(_.section,_.levels),key:"levels"},a(ee,{level:this.headingLevel},s?.title),a(Ct,{messages:s,vm:t}))}_renderPhasePickerSection(){const t=this.viewModel.phase,e=t.state==="ready",i=t.allowedValues.length>1;if(!this.visibleElements.phases||!e||!i)return null;const s=this.messages.phase;return a("div",{class:U(_.section,_.phases),key:"phases"},a(ee,{level:this.headingLevel},s.title),a(Et,{messages:s,vm:t}))}_renderDisciplinesSection(){const t=this.viewModel.disciplines,e=t.state==="ready",i=t.root.hasChildren;if(!this.visibleElements.disciplines||!e||!i)return null;const s=this.messages?.disciplines;return a("div",{class:U(_.section,_.disciplines),key:"disciplines"},a(ee,{level:this.headingLevel},s.title),a(wt,{messages:s,toggleSiblingsVisibility:this.toggleSiblingsVisibility,vm:t}))}};l([r({type:Ne})],p.prototype,"viewModel",void 0),l([r()],p.prototype,"view",null),l([r()],p.prototype,"layers",null),l([r()],p.prototype,"visibleElements",void 0),l([Ue("visibleElements")],p.prototype,"_castVisibleElements",null),l([r()],p.prototype,"headingLevel",void 0),l([r()],p.prototype,"icon",null),l([r()],p.prototype,"label",null),l([r(),he("esri/widgets/BuildingExplorer/t9n/BuildingExplorer")],p.prototype,"messages",void 0),l([r(),he("esri/t9n/common")],p.prototype,"messagesCommon",void 0),l([r({nonNullable:!0})],p.prototype,"toggleSiblingsVisibility",void 0),l([r()],p.prototype,"uiStrings",void 0),p=l([v("esri.widgets.BuildingExplorer")],p);const Vt=p;const Nt=Je`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}:host{max-height:calc(100vh - 30px);min-height:32px;transition:max-height .25s ease-in-out;overflow-y:auto;--esri-widget-padding: 12px 15px}.esri-widget{background-color:var(--calcite-color-foreground-1)}.esri-building-level-picker-label{text-align:center;color:var(--calcite-color-border-2);height:40px;font-size:40px;line-height:46px}.esri-building-level-picker-label>span{pointer-events:none}.esri-building-level-picker-label,.esri-building-level-picker-label--empty{cursor:pointer;text-align:center;width:90px;transition:opacity .3s;position:relative}.esri-building-level-picker-label.esri-building-level-picker-label--active,.esri-building-level-picker-label--empty.esri-building-level-picker-label--active{color:var(--calcite-color-brand)}.esri-building-level-picker-label--empty{cursor:default;color:var(--calcite-color-border-2);font-size:var(--calcite-font-size);font-weight:var(--calcite-font-weight-light)}.esri-building-level-picker-label__clear-button{appearance:none;margin-inline-start:7px;display:none;position:absolute;inset-block-start:-4px}.esri-building-level-picker-label--active .esri-building-level-picker-label__clear-button{display:inline-block}.esri-building-level-picker-item__base{pointer-events:none;will-change:height;position:absolute;left:50%;transform:translate(-50%,-50%)}.esri-building-level-picker-item__base .rect{background-color:rgb(from var(--calcite-color-foreground-1) r g b/70%);pointer-events:none;will-change:height;border:var(--calcite-border-width-md) solid var(--calcite-color-border-2);outline:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);margin-block-start:3px;position:absolute;top:50%;left:50%}.esri-building-level-picker-item--hover .esri-building-level-picker-item__base .rect{background-color:rgb(from var(--calcite-color-foreground-1) r g b/90%);border-color:var(--calcite-color-status-info);box-shadow:0 0 2px 1px var(--calcite-color-status-info)}.esri-building-level-picker-item--active .esri-building-level-picker-item__base .rect{background-color:var(--calcite-color-status-info);border-color:var(--calcite-color-status-info)}.esri-building-level-picker-item{will-change:height;touch-action:none;border:var(--calcite-border-width-sm) solid var(--calcite-color-transparent)}.esri-building-level-picker-item,.esri-building-level-picker-item .esri-building-level-picker-item__base,.esri-building-level-picker-item .rect{transition:height .1s ease-out,width .1s ease-out,background-color .1s ease-in-out,border-color .1s ease-in-out}.esri-building-level-picker--animate-level .esri-building-level-picker-item,.esri-building-level-picker--animate-level .esri-building-level-picker-item .esri-building-level-picker-item__base,.esri-building-level-picker--animate-level .esri-building-level-picker-item .rect{transition:height .3s cubic-bezier(.63,-.265,.48,1.64),width .3s cubic-bezier(.63,-.265,.48,1.64),background-color .1s ease-in-out,border-color .1s ease-in-out}.esri-building-level-picker{flex-direction:row;align-items:center;display:flex}.esri-building-level-picker.esri-building-level-picker--no-level{display:none}.esri-building-level-picker__levels-container{cursor:pointer;flex-direction:column;justify-content:flex-start;align-items:center;width:50%;padding:20px 0;display:flex;transform:rotate(180deg)}.esri-building-level-picker__inner-levels-container{transition:margin .3s}.esri-building-level-picker__label-container{flex-direction:column;justify-content:space-between;align-items:center;width:50%;height:104px;margin-inline-end:12px;display:flex}.esri-building-level-picker__label-container:focus:focus-visible{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.esri-building-phase-picker{--num-phases: 7;--divider-width: var(--calcite-spacing-xs);--container-width: 100cqw;--arrow-width: 16px;--padding: var(--calcite-spacing-xxs);--dividers-width: (var(--num-phases) - 1) * var(--divider-width);--arrows-width: 2 * var(--arrow-width);--phase-width: calc( (var(--container-width) - var(--dividers-width) - var(--arrows-width) - var(--padding)) / var(--num-phases) );container-type:inline-size}.esri-building-phase-picker,.esri-building-phase-picker__phases-container{flex-direction:row;align-items:center;display:flex}.esri-building-phase-picker__phases-container{padding:var(--calcite-spacing-xxs);flex-shrink:1;position:relative;overflow:hidden}.esri-building-phase-picker__phase{appearance:none;border:solid var(--calcite-border-width-sm) #adadad4d;background:var(--calcite-color-background);cursor:pointer;width:var(--phase-width);aspect-ratio:1;color:var(--calcite-color-text-1);border-radius:100%;flex-shrink:0;font-weight:var(--calcite-font-weight-normal)}.esri-building-phase-picker__phase:hover{border-width:var(--calcite-border-width-md);border-color:var(--calcite-color-brand)}.esri-building-phase-picker__phase:focus:focus-visible{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.esri-building-phase-picker__phase--active{border-color:var(--calcite-color-brand);background-color:var(--calcite-color-background)}.esri-building-phase-picker__phase--current{background-color:var(--calcite-color-brand);color:var(--calcite-color-text-inverse)}.esri-building-phase-picker__arrow-left,.esri-building-phase-picker__arrow-right{--calcite-internal-action-padding-inline: 0;width:var(--arrow-width);min-width:var(--arrow-width)}.esri-building-phase-picker__divider{background-color:var(--calcite-color-foreground-1);min-width:var(--divider-width);height:var(--calcite-border-width-sm);flex:0}.esri-building-phase-picker__divider--active{background-color:var(--calcite-color-brand)}.esri-building-disciplines-tree-node__label{--calcite-label-margin-bottom: 0;word-break:break-all}.esri-building-explorer{padding:var(--esri-widget-padding);width:300px;max-width:100%;position:relative;overflow:hidden auto}.esri-building-explorer .esri-widget__heading{font-weight:var(--calcite-font-weight-normal)}.esri-building-explorer__section:not(:last-child){margin-block-end:30px}.esri-building-explorer__panel--error{color:var(--calcite-color-status-danger);margin:0;animation:.25s ease-in-out esri-fade-in}`,St=Ze(Vt),X=class X extends je{constructor(){super(...arguments),this.widget=St(this),this.viewModel=this.widget.viewModel,this.view=this.widget.view,this.autoDestroyDisabled=!1,this.headingLevel=this.widget.headingLevel,this.hideDisciplines=this.widget.visibleElements.disciplines,this.hideLevels=this.widget.visibleElements.levels,this.hidePhases=this.widget.visibleElements.phases,this.icon=this.widget.icon,this.label=this.widget.label,this.layers=this.widget.layers,this.level=this.viewModel.level,this.phase=this.viewModel.phase,this.state=this.viewModel.state,this.arcgisPropertyChange=qe()("level","phase","state"),this.arcgisReady=Ke()}async destroy(){await this.manager.destroy()}};X.properties={view:0,autoDestroyDisabled:5,headingLevel:9,hideDisciplines:5,hideLevels:5,hidePhases:5,icon:1,label:1,layers:0,level:0,phase:0,position:1,referenceElement:1,state:3},X.styles=Nt;let re=X;Ge("arcgis-building-explorer",re);export{re as ArcgisBuildingExplorer};
