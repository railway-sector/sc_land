import{L as f,j as h,d as c,f as r,Q as d,i as u,l as m}from"./index-Brd6-W-v.js";import{_ as o,O as v}from"./feature-utils-CkZNMcLf.js";const p=u`.arcgis-feature-content__loader-container{display:flex;align-items:center;justify-content:center;padding:0;height:150px}.arcgis-feature-content{font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-normal)}.arcgis-feature-content h1,.arcgis-feature-content h2,.arcgis-feature-content h3,.arcgis-feature-content h4,.arcgis-feature-content h5,.arcgis-feature-content h6{margin:var(--calcite-spacing-sm) 0;line-height:var(--calcite-font-line-height-relative-tight);letter-spacing:0;color:var(--calcite-color-text-1);font-weight:var(--calcite-font-weight-semibold)}.arcgis-feature-content h1{font-size:var(--calcite-font-size-xxl)}.arcgis-feature-content h2{font-size:var(--calcite-font-size-xl)}.arcgis-feature-content h3{font-size:var(--calcite-font-size-lg)}.arcgis-feature-content h4,.arcgis-feature-content h5,.arcgis-feature-content h6{font-size:var(--calcite-font-size)}.arcgis-feature-element-info__description{margin-bottom:var(--calcite-spacing-xs)}.arcgis-feature-content p{margin:0 0 var(--calcite-spacing-xs);font-size:var(--calcite-font-size)}.arcgis-feature-content p:last-child{margin-block-end:0}.arcgis-feature-content img{max-width:100%;max-height:100%;image-orientation:from-image}.arcgis-feature-content video{max-width:100%;max-height:100%}.arcgis-feature-content figure{margin:0;padding:0}.arcgis-feature-content figcaption{display:block;margin:var(--calcite-spacing-xs) 0 0;padding:0;font-size:var(--calcite-font-size-sm);font-style:italic}.arcgis-feature-content ul,.arcgis-feature-content ol{margin-block:var(--calcite-spacing-sm)}.arcgis-feature-content ul:first-child,.arcgis-feature-content ol:first-child{margin-block-start:0}.arcgis-feature-content a,.arcgis-feature-content a:hover,.arcgis-feature-content a:focus{color:var(--calcite-color-text-link)}`,s="arcgis-feature-content",l={base:s,loaderContainer:`${s}__loader-container`},i=class i extends f{loaded(){this.manager.onLifecycle(()=>h(()=>this.creator,e=>{this._destroyContent(),this._createContent(e)},{initial:!0}))}async _createContent(e){const{graphic:t}=this;if(!t||!e)return;const a=o({type:"content",value:e,event:{graphic:t}});this._loadingPromise=a;const g=await a;a===this._loadingPromise&&(this._loadingPromise=void 0,this._created=g)}_destroyContent(){const{_created:e,graphic:t,destroyer:a}=this;e&&t&&(o({type:"content",value:a,event:{graphic:t}}),this._created=null)}_addTargetToAnchors(e){e&&Array.from(e.querySelectorAll("a")).forEach(t=>{v(t.href)&&!t.hasAttribute("target")&&t.setAttribute("target","_blank")})}render(){return r`<div class=${c(l.base)}>${this._loadingPromise?this._renderLoading():this._renderCreated()}</div>`}_renderLoading(){return r`<div class=${c(l.loaderContainer)}><calcite-loader inline label></calcite-loader></div>`}_renderCreated(){const{_created:e}=this;return e instanceof HTMLElement?e:typeof e=="string"?r`<div .innerHTML=${e??""} ${d(this._addTargetToAnchors)}></div>`:null}};i.properties={_loadingPromise:16,_created:16,creator:1,destroyer:0,graphic:0},i.styles=p;let n=i;m("arcgis-feature-content",n);export{n as ArcgisFeatureContent};
