import{L as f,b as s,k as b,d as n,p as L,i as w,l as x}from"./index-CgzAF5Ey.js";import{$ as u}from"./svgUtils-CWvgZWbc.js";import{y as R}from"./utils2-pl0dc0aQ.js";import"./svgUtils-smkwubCy.js";import"./mat2df32-Dpt2CT5P.js";import"./mat2d-DWPHXQcf.js";import"./gfxUtils-B1R76T6S.js";import"./cimSymbolUtils-D8zbHeXT.js";import"./stringUtils-CYW5IRJr.js";const C=w`:host{display:flex}.arcgis-legend--card__layer-row{display:flex;flex:1}.arcgis-legend--card__color-ramp-container{justify-content:center}.arcgis-legend--card__symbol-container{display:flex;flex-direction:column}.arcgis-legend--card__interval-separators-container{text-align:center}.arcgis-legend--card__interval-separator{font-size:.5em}.arcgis-legend--card__ramp-label{margin:0 .5em;white-space:nowrap;height:25px;line-height:var(--calcite-font-line-height-fixed-xl)}`,t={layerRow:"arcgis-legend--card__layer-row",colorRampContainer:"arcgis-legend--card__color-ramp-container",symbolContainer:"arcgis-legend--card__symbol-container",intervalSeparatorsContainer:"arcgis-legend--card__interval-separators-container",intervalSeparator:"arcgis-legend--card__interval-separator",rampLabel:"arcgis-legend--card__ramp-label"},S=25,E=25,M=100,o=class o extends f{constructor(){super(...arguments),this.legendElement=null,this.opacity=1}render(){const e=this.legendElement.infos.slice().reverse();return n`<div class=${s(b(t.layerRow,t.colorRampContainer))}>${this._renderRampLabel(e[0])}<div class=${s(t.symbolContainer)}>${this._renderPreview(e)}${this._renderMiddleStopRampLabel(e)}</div>${this._renderRampLabel(e.at(-1))}</div>`}_renderPreview(e){const{opacity:i}=this,m=this.legendElement.type==="heatmap-ramp",p=e.length-1,a=E,l=p>2&&!m?S*p:M,g=l+20,r=10,h=[[{shape:{type:"path",path:`M0 ${a/2} L${r} 0 L${r} ${a} Z`},fill:e[0].color,stroke:{width:0}},{shape:{type:"rect",x:r,y:0,width:l,height:a},fill:{type:"linear",x1:r,y1:0,x2:l+r,y2:0,colors:e.map((c,$)=>({color:c.color,offset:m&&"ratio"in c?c.ratio:$/p}))},stroke:{width:0}},{shape:{type:"path",path:`M${l+r} 0 L${g} ${a/2} L${l+r} ${a} Z`},fill:e[e.length-1].color,stroke:{width:0}}]],y=this.legendElement.type==="opacity-ramp"?this.messages.previewOpacityRampAriaLabel:this.messages.previewColorRampAriaLabel,_=u(h,g,a,{ariaLabel:y}),v={filter:this.cssEffectFilter,opacity:i==null?void 0:`${i}`};return n`<div style=${L(v)}>${_}</div>`}_renderMiddleStopRampLabel(e){const i=e.length%2!==0?e[e.length/2|0]:null;return i?n`<div class=${s(t.intervalSeparatorsContainer)}><div class=${s(t.intervalSeparator)}>|</div>${this._renderRampLabel(i)}</div>`:null}_renderRampLabel(e){return n`<div class=${s(t.rampLabel)}>${R(e,this.legendElement.type,this.messages)}</div>`}};o.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},o.styles=C;let d=o;x("arcgis-legend-card-color-ramp",d);export{d as ArcgisLegendCardColorRamp};
