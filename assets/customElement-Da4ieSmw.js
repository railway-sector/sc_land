import{L as c,j as n,el as f,f as r,l as p}from"./index-Brd6-W-v.js";import{b}from"./utils-CZAJu10i.js";const l=class l extends c{constructor(){super(...arguments),this._formats=[]}loaded(){this.manager.onLifecycle(()=>[n(()=>[this.viewModel.templateOptions.format,this.viewModel.templatesInfo?.format],()=>{const e=this.viewModel.templatesInfo;if(!e)return;if(this._formats.length!==e.format.choiceList.length){const a=[...b.values()];this._formats=e.format.choiceList.map(t=>{const o=a.find(m=>new RegExp(`\\b${m}\\b`,"iu").test(t))??t;return{value:o,label:t===o?t.toUpperCase():t}}).sort((t,o)=>t.label.localeCompare(o.label))}const s=this._formats.some(({value:a})=>new RegExp(`\\b${a}\\b`,"iu").test(this.viewModel.templateOptions.format));if(e.format.defaultValue&&!s){const a=this._formats.find(({value:t})=>new RegExp(`\\b${t}\\b`,"iu").test(e.format.defaultValue))?.value;a&&(this.viewModel.templateOptions.format=a);return}},{initial:!0})])}render(){return r`<div><calcite-label>${this.messages.fileFormatTitle}<calcite-combobox clear-disabled .label=${this.messages.formatDefaultOption} max-items=6 .placeholder=${this.messages.formatDefaultOption} selection-mode=single-persist @calciteComboboxChange=${({currentTarget:e})=>{const s=e.selectedItems[0]?.value;this.viewModel.templateOptions.format=s??"pdf"}}>${this._formats.map(({value:e,label:s},a)=>f(`file-format-${a}`,r`<calcite-combobox-item .heading=${s} .selected=${e===this.viewModel.templateOptions.format} .value=${e}></calcite-combobox-item>`))}</calcite-combobox></calcite-label></div>`}};l.properties={_formats:16,viewModel:0,messages:0};let i=l;p("arcgis-print-format-select",i);export{i as PrintFormatSelect};
