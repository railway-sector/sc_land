import{fb as d,d8 as v,a4 as p,_ as o,e as s,ck as w,g as u,L as m,r as b,u as y,c as x,n as _,b as f,k as $,d as c,i as C,l as G}from"./index-BrQW8HOS.js";import{s as H}from"./useT9n-Cr4kUTAO.js";import{v as M}from"./useViewModel-DDXl3W0X.js";import"./useView-Cya0Zpns.js";let e=class extends d(v){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.view?.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){if(!this.view?.ready)throw new p("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await this.view?.when(),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};o([s()],e.prototype,"_goingHomeController",void 0),o([s({readOnly:!0})],e.prototype,"state",null),o([s()],e.prototype,"view",null),o([s({type:w})],e.prototype,"viewpoint",null),o([s()],e.prototype,"go",null),o([s()],e.prototype,"cancelGo",null),e=o([u("esri.widgets.Home.HomeViewModel")],e);const k=e;const E=C`.arcgis-button{--calcite-icon-color: var(--calcite-color-text-3);--calcite-button-background-color: var(--calcite-color-foreground-1);color:var(--calcite-color-text-3);line-height:var(--calcite-font-line-height-relative-tight);display:flex;flex-flow:column;cursor:pointer;background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);:hover{--calcite-icon-color: var(--calcite-color-text-1);--calcite-button-background-color: var(--calcite-color-transparent-hover)}calcite-button{width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl)}}:host{width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl)}`,O="home",h={base:O,button:"arcgis-button"},V=M(k),a=class a extends m{constructor(){super(...arguments),this.messages=H(),this.viewModel=V(this),this.view=this.viewModel.view,this.autoDestroyDisabled=!1,this.goToOverride=this.viewModel.goToOverride,this.icon="home",this.state=this.viewModel.state,this.viewpoint=this.viewModel.viewpoint,this.arcgisGo=b(()=>this.viewModel,"go"),this.arcgisPropertyChange=y()("state"),this.arcgisReady=x()}async cancelGo(){this.viewModel.cancelGo()}async destroy(){await this.manager.destroy()}async go(){this.viewModel.go()}_go(){const{viewModel:i}=this;i.state==="going-home"?i.cancelGo():i.go()}render(){const{messages:i,icon:g}=this,l=this.viewModel?.state,n=l==="going-home";return c`<div class=${f($(h.base,h.button))}><calcite-button .disabled=${l==="disabled"} .iconStart=${n?void 0:g??void 0} kind=neutral .label=${i.componentLabel} @click=${this._go} .scale=${n?"s":"m"} title=${(l==="going-home"?i.cancel:i.title)??_}>${n?c`<calcite-loader inline label></calcite-loader>`:null}</calcite-button></div>`}};a.properties={view:0,autoDestroyDisabled:5,goToOverride:0,icon:1,label:1,messageOverrides:0,position:3,referenceElement:1,state:3,viewpoint:0},a.styles=E;let r=a;G("arcgis-home",r);export{r as ArcgisHome};
