const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-aRi8Xk-b.js","assets/index-ni9qn0ie.css","assets/index-CPutAJp2.js"])))=>i.map(i=>d[i]);
import{n3 as W,bR as J,a7 as P,a5 as l,x as s,y as V,j as w,bH as I,a1 as q,gK as $,a2 as F,a3 as v,K as H,hQ as K,bY as U,a4 as d,bJ as E,bL as Z,tL as R,W as Q,ab as X,bO as Y,L as G,u as ee,c as ie,I as te,i as re,l as ae}from"./index-aRi8Xk-b.js";import{o as D,A as le}from"./Slider-CiNST-Uh.js";const p="esri-scale-range-slider",M=`${p}__scale-menu`,g={base:p,segmentElementActive:`${p}__segment-active`,scaleIndicatorWrapper:`${p}__scale-indicator-wrapper`,scaleIndicator:`${p}__scale-indicator`,scaleIndicatorIcon:`${p}__scale-indicator-icon`,scaleIndicatorContainer:`${p}__scale-indicator-container`,scaleMenuContainer:`${M}-container`,scaleMenuSeparator:`${M}-separator`,scaleMenuToggle:`${M}-toggle`,scaleMenuSubLabel:`${M}-sublabel`,scalePreview:`${p}__scale-preview`,scalePreviewThumbnail:`${p}__scale-preview-thumbnail`},se="en-wo",ne={ae:"en",ar:"es",at:"de",au:"en",be:"nl",bg:"bg",bo:"es",br:"pt",ca:"en",ch:"de",ci:"fr",cl:"es",cn:"zh",co:"es",cr:"es",cz:"cs",de:"de",dk:"da",ee:"et",eg:"en",es:"es",fi:"fi",fr:"fr",gb:"en",gl:"da",gr:"el",gt:"es",hk:"en",id:"en",ie:"en",il:"en",in:"en",iq:"ar",is:"is",it:"it",jp:"ja",ke:"en",kr:"ko",kw:"ar",li:"de",lt:"lt",lu:"en",lv:"lv",ma:"fr",mg:"fr",ml:"fr",mo:"en",mx:"es",my:"en",ni:"es",nl:"nl",no:"nn",nz:"en",pe:"es",pl:"pl",pr:"es",pt:"pt",ro:"ro",ru:"ru",rw:"en",se:"sv",sg:"en",sk:"sk",sr:"nl",sv:"es",th:"th",tn:"fr",tw:"zh",us:"en",ve:"es",vi:"en",wo:"en",za:"en"},O=new Set(["ar-iq","ar-kw","bg-bg","cs-cz","da-dk","da-gl","de-at","de-ch","de-de","de-li","el-gr","en-ae","en-au","en-ca","en-eg","en-gb","en-hk","en-id","en-ie","en-il","en-in","en-iq","en-ke","en-lu","en-mo","en-my","en-nz","en-rw","en-sg","en-us","en-vi","en-wo","en-za","es-ar","es-bo","es-cl","es-co","es-cr","es-es","es-gt","es-mx","es-ni","es-pe","es-pr","es-sv","es-ve","et-ee","fi-fi","fr-ci","fr-fr","fr-ma","fr-mg","fr-ml","fr-tn","is-is","it-it","ja-jp","ko-kr","lt-lt","lv-lv","nl-be","nl-nl","nl-sr","nn-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sv-se","th-th","zh-cn","zh-tw"]);function oe(e){return e.toLowerCase()}function ce(e){return`url(${J(`esri/widgets/ScaleRangeSlider/images/scalePreview/${e}.jpg`)})`}function de(e){e=oe(e);const i=`${W()??"en"}-${e}`,t=`${ne[e]}-${e}`;return ce(O.has(i)?i:O.has(t)?t:se)}function he(e){if(!(e<0||e>=25))return`-${128*(e%5)}px -${128*Math.floor(e/5)}px`}var f;const A=147914382,me=[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"stateProvince",minScale:3999999},{id:"statesProvinces",minScale:6999999},{id:"countriesSmall",minScale:14999999},{id:"countriesBig",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:A}];function T(e,i){const t=me,r=t.length,a=[];let n,c=e;e=e>=0?e:0,i=i>0?i:t[r-1].minScale;for(let u=0;u<r;u++){const m=Math.min(t[u].minScale,i);n=Math.min(m,i),e<=m&&c<i&&a.push({id:t[u].id,maxScale:Math.max(c,e),minScale:n}),c=n+1}return a.reverse(),ue(a)}function ue(e){if(e.length===0)return e;const[i]=e,t=e[e.length-1];return i.minScale===i.maxScale&&(e.shift(),i.minScale+=1),t.minScale===t.maxScale&&(e.pop(),t.maxScale-=1),e}var S;let _=(S=class extends P{constructor(){super(...arguments),this.ranges=[]}static fromScaleRange({maxScale:i,minScale:t}){return new f({ranges:T(i,t)})}static async fromLayer(i){await i.when();const t="tileInfo"in i?i.tileInfo?.lods:void 0;let r;return t?r=T(t[t.length-1].scale,t[0].scale):r=T(0,0),new f({ranges:r})}get firstRange(){return this.ranges[0]}get lastRange(){const i=this.ranges;return i[i.length-1]}get length(){return this.ranges.length}get maxScale(){return this.lastRange.maxScale}get minScale(){return this.firstRange.minScale}isMinScaleEdge(i){const{firstRange:t}=this,r=t.minScale,a=f.RecommendedScales[t.id]||t.maxScale;return i<=r&&i>=a}isMaxScaleEdge(i){const{lastRange:t}=this,r=t.maxScale;return i<=(f.RecommendedScales[t.id]||t.minScale)&&i>=r}findScaleRange(i){const t=this.ranges;let r;if(i>=t[0].maxScale)return t[0];if(i<=t[t.length-1].minScale)return t[t.length-1];for(let a=0;a<t.length;a++){const n=t[a];if(i>=n.maxScale&&i<=n.minScale){r=n;break}}return r}findScaleRangeByIndex(i){return this.ranges[this._clampScaleRangeIndex(i)]}scaleToRangeIndex(i){return this.ranges.indexOf(this.findScaleRange(i))}clampScale(i){return Math.min(this.minScale,Math.max(this.maxScale,i))}clampMinScale(i){return i===0?this.minScale:this.clampScale(i)}clampMaxScale(i){return this.clampScale(i)}contains(i){const t=this.ranges;let r=!1;for(let a=0;a<t.length;a++){const{maxScale:n,minScale:c}=t[a];if(i>=n&&i<=c){r=!0;break}}return r}_clampScaleRangeIndex(i){if(i<=0)return 0;const r=this.ranges.length-1;return i>r?r:Math.floor(i)}},f=S,S.RecommendedScales=Object.freeze({world:A,continent:5e7,countriesBig:25e6,countriesSmall:12e6,statesProvinces:6e6,stateProvince:3e6,counties:15e5,county:75e4,metropolitanArea:32e4,cities:16e4,city:8e4,town:4e4,neighborhood:2e4,streets:1e4,street:5e3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100}),S);l([s()],_.prototype,"firstRange",null),l([s()],_.prototype,"lastRange",null),l([s()],_.prototype,"length",null),l([s()],_.prototype,"maxScale",null),l([s()],_.prototype,"minScale",null),l([s({constructOnly:!0})],_.prototype,"ranges",void 0),_=f=l([V("esri.widgets.ScaleRangeSlider.ScaleRanges")],_);const b=_;let h=class extends P{constructor(e){super(e),this.layer=null,this.mode="range",this.scaleRanges=b.fromScaleRange({minScale:0,maxScale:0}),this.sliderViewModel=(()=>{const{max:i}=this._getSliderIndexRange(this.scaleRanges.length-1);return new D({precision:10,min:0,max:i,values:[0,i]})})()}initialize(){this.addHandles([w(()=>this.layer,e=>e?.load().catch(()=>{})),w(()=>this.mode,e=>{e==="range"&&this.sliderViewModel.values?.length===1?this.sliderViewModel.values=[this.sliderViewModel.min,this.sliderViewModel.values[0]]:this.sliderViewModel.values?.length===2&&(e==="min-scale-only"?this.sliderViewModel.values=[this.sliderViewModel.values[0]]:e==="max-scale-only"&&(this.sliderViewModel.values=[this.sliderViewModel.values[1]]))}),w(()=>({loaded:this.layer?.loaded,ready:this.view?.ready}),({loaded:e,ready:i})=>{if(!e||!i)return;if(this._hasTiledLayer()){const r=this._getLayerResampling()?void 0:this.mapScaleToSlider(this._getTiledLayerMaxScale()),a=this.mapScaleToSlider(this._getTiledLayerMinScale());this.sliderViewModel.effectiveMax=r,this.sliderViewModel.effectiveMin=a}else{const r=this.layer&&"maxScaleRange"in this.layer?this.layer.maxScaleRange:null,{minScale:a=0,maxScale:n=0}=r??{};this.sliderViewModel.effectiveMax=n===0?void 0:this.mapScaleToSlider(n),this.sliderViewModel.effectiveMin=a===0?void 0:this.mapScaleToSlider(a)}const t=this.layer;t&&"minScale"in t&&"maxScale"in t?(this.minScale=t.minScale,this.maxScale=t.maxScale):(this.minScale=void 0,this.maxScale=void 0)},I)])}get effectiveMaxScale(){return this.maxScale===0?this.maxScaleLimit:this.maxScale}get effectiveMinScale(){return this.minScale===0?this.minScaleLimit:this.minScale}get effectiveMaxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMax??this.sliderViewModel.max)}get effectiveMinScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMin??this.sliderViewModel.min)}get maxScale(){return this._getScale("max")}set maxScale(e){this._setMaxScaleOnSlider(e)}get maxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.max)}set maxScaleLimit(e){this._setSliderRange({maxScale:e,minScale:this.minScaleLimit})}get minScale(){return this._getScale("min")}set minScale(e){this._setMinScaleOnSlider(e)}get minScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.min)}set minScaleLimit(e){this._setSliderRange({maxScale:this.maxScaleLimit,minScale:e})}get state(){const{view:e,layer:i}=this;return!e&&!i||!e&&i?.loaded||!i&&e?.ready||e&&e.ready&&i?.loaded?"ready":"disabled"}set view(e){this._set("view",e)}mapScaleToSlider(e){const i=this.scaleRanges.scaleToRangeIndex(e),t=this.scaleRanges.findScaleRangeByIndex(i),{maxScale:r,minScale:a}=t,{max:n,min:c}=this._getSliderIndexRange(i);return this._mapToRange(e,a,r,c,n)}mapSliderToScale(e){const i=this.scaleRanges.findScaleRangeByIndex(e),{maxScale:t,minScale:r}=i,{max:a,min:n}=this._getSliderIndexRange(e);return this._mapToRange(e,n,a,r,t)}_setSliderRange(e){this.scaleRanges=b.fromScaleRange(e);const{max:i}=this._getSliderIndexRange(this.scaleRanges.length-1);this.sliderViewModel.max=i,this.sliderViewModel.min=0,this._set("minScaleLimit",this.mapSliderToScale(this.sliderViewModel.min)),this._set("maxScaleLimit",this.mapSliderToScale(this.sliderViewModel.max))}_getSliderIndexRange(e){const i=Math.floor(e);return{min:i,max:i+.99999}}_mapToRange(e,i,t,r,a){return r+(e-i)*(a-r)/(t-i)}_getSliderValue(e){const{min:i,max:t,values:r}=this.sliderViewModel;if(!r)return e==="min"?i:t;const[a,n]=r;switch(this.mode){case"max-scale-only":return e==="min"?i:a;case"min-scale-only":return e==="min"?a:t;default:return e==="min"?a??i:n??t}}_getScale(e){const i=this.mapSliderToScale(this._getSliderValue(e));return this._normalizeScale(e,i)}_setMaxScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:t}=this;if(e!==void 0){const r=this.mapScaleToSlider(this._constrainMaxScaleToLayer(i.clampMaxScale(e)));switch(this.mode){case"range":t.values=[t.values[0],r];break;case"max-scale-only":t.values=[r]}}}_setMinScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:t}=this;if(e!==void 0){const r=this.mapScaleToSlider(this._constrainMinScaleToLayer(i.clampMinScale(e)));switch(this.mode){case"range":t.values=[r,t.values[1]];break;case"min-scale-only":t.values=[r]}}}_constrainMinScaleToLayer(e){const{scaleRanges:i}=this;if(this._hasTiledLayer()){const{firstRange:t}=i,r=this._getTiledLayerMinScale();e=this._mapToRange(e,t.maxScale,t.minScale,0,1)>.85||e>r?r:e}return e}_constrainMaxScaleToLayer(e){if(this._hasTiledLayer()&&!this._getLayerResampling()){const i=this._getTiledLayerMaxScale();e=e<i?i:e}return e}_normalizeScale(e,i){const t=e==="max"?"maxScale":"minScale",r=this._hasTiledLayer()?e==="min"?this._getTiledLayerMinScale():this._getTiledLayerMaxScale():this.scaleRanges[t],a=this._hasTiledLayer()?e==="min"?this._getTiledLayerRealMinScale():this._getTiledLayerRealMaxScale():r,n=1e-6,c=i===0||a===i||Math.abs(a-i)<=n;return Number((c?0:i).toFixed(6))}_getLayerLODS(){const{layer:e}=this;return!e?.loaded||!("tileInfo"in e)||e.type==="wcs"||e.type==="imagery-tile"&&e.raster?.tileType==="Raster"?null:e.tileInfo?.lods}_getLayerResampling(){return!!this.layer?.loaded&&(!("resampling"in this.layer)||this.layer.resampling)}_getTiledLayerMinScale(){const e=this._getLayerLODS();return this.scaleRanges.clampMinScale(e[0].scale)}_getTiledLayerMaxScale(){const e=this._getLayerLODS();return e[e.length-1].scale}_getTiledLayerRealMinScale(){const e=this._getLayerLODS(),i=this.layer,t=i&&"sourceJSON"in i?i.sourceJSON?.tileInfo?.lods??e:e;return this.scaleRanges.clampMinScale(t[0].scale)}_getTiledLayerRealMaxScale(){const e=this._getLayerLODS(),i=this.layer,t=i&&"sourceJSON"in i?i.sourceJSON?.tileInfo?.lods??e:e;return t[t.length-1].scale}_hasTiledLayer(){return!!this._getLayerLODS()}};l([s({readOnly:!0})],h.prototype,"effectiveMaxScale",null),l([s({readOnly:!0})],h.prototype,"effectiveMinScale",null),l([s()],h.prototype,"effectiveMaxScaleLimit",null),l([s()],h.prototype,"effectiveMinScaleLimit",null),l([s()],h.prototype,"layer",void 0),l([s()],h.prototype,"maxScale",null),l([s()],h.prototype,"maxScaleLimit",null),l([s()],h.prototype,"mode",void 0),l([s()],h.prototype,"minScale",null),l([s()],h.prototype,"minScaleLimit",null),l([s()],h.prototype,"scaleRanges",void 0),l([s({type:D})],h.prototype,"sliderViewModel",void 0),l([s({readOnly:!0})],h.prototype,"state",null),l([s()],h.prototype,"view",null),h=l([V("esri.widgets.ScaleRangeSlider.ScaleRangeSliderViewModel")],h);const ge=h,k={preview:!0,scaleMenus:{maxScaleMenu:!0,minScaleMenu:!0}},pe={maximumFractionDigits:0},C="1:",_e=16;let o=class extends q{constructor(e,i){super(e,i),this._activeMenu=null,this._activeThumb=null,this._customInput=null,this._maxThumbNode=null,this._minThumbNode=null,this._previewAutoCloseTimeoutId=void 0,this._previewPopover=null,this._slider=new le({thumbCreatedFunction:(t,r,a)=>{t===0?this._minThumbNode=a:t===1&&(this._maxThumbNode=a),this.addHandles([$(a,"mouseenter",()=>{this._activeThumb=t,this.scheduleRender()}),$(a,"mouseleave",()=>{this._previewAutoCloseTimeoutId||(this._activeThumb=null,this.scheduleRender())})])}}),this.disabled=!1,this.messages=null,this.region="US",this.showWorldValue=!1,this.viewModel=new ge,this.visibleElements=k,this._afterInputNumberCreate=t=>{"value"in t&&t.value!=null&&"setNumberValue"in t&&t.setNumberValue({committing:!1,value:t.value,origin:"direct"}),this._customInput=t},this._handleCustomScaleInputChange=(t,r)=>{const{viewModel:{scaleRanges:a}}=this,n=Number.parseFloat(r.value);Number.isNaN(n)?r.value=t:this._setScale(a.clampScale(n))}}loadDependencies(){return F({button:()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.OI),__vite__mapDeps([0,1])),dropdown:()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.OV),__vite__mapDeps([0,1])),"dropdown-group":()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.OX),__vite__mapDeps([0,1])),"dropdown-item":()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.OW),__vite__mapDeps([0,1])),icon:()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.Ou),__vite__mapDeps([0,1])),"input-number":()=>v(()=>import("./index-CPutAJp2.js"),__vite__mapDeps([2,0,1])),label:()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.P9),__vite__mapDeps([0,1])),popover:()=>v(()=>import("./index-aRi8Xk-b.js").then(e=>e.OS),__vite__mapDeps([0,1]))})}initialize(){this.addHandles([w(()=>this.viewModel,e=>this._slider.viewModel=e?.sliderViewModel??null,I),w(()=>this._interactive,e=>{this._slider.disabled=!e,e||this._setActiveMenu(null)},I),this._slider.on("thumb-drag",({index:e})=>{this._activeThumb=e,clearTimeout(this._previewAutoCloseTimeoutId);const i=250;this._previewAutoCloseTimeoutId=setTimeout(()=>{this._previewAutoCloseTimeoutId=void 0,this._activeThumb=null},i)}),H(()=>this.view?.stationary===!0,()=>this.scheduleRender())])}destroy(){this._slider=K(this._slider)}get _maxScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return e===!0||typeof e!="boolean"&&e.maxScaleMenu}get _minScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return e===!0||typeof e!="boolean"&&e.minScaleMenu}get _interactive(){return this.viewModel?.state!=="disabled"&&!this.disabled}get effectiveMaxScale(){return this.viewModel.effectiveMaxScale}get effectiveMinScale(){return this.viewModel.effectiveMinScale}get effectiveMaxScaleLimit(){return this.viewModel.effectiveMaxScaleLimit}get effectiveMinScaleLimit(){return this.viewModel.effectiveMinScaleLimit}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxScale(){return this.viewModel.maxScale}set maxScale(e){this.viewModel.maxScale=e}get maxScaleLimit(){return this.viewModel.maxScaleLimit}set maxScaleLimit(e){this.viewModel.maxScaleLimit=e}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}get minScale(){return this.viewModel.minScale}set minScale(e){this.viewModel.minScale=e}get minScaleLimit(){return this.viewModel.minScaleLimit}set minScaleLimit(e){this.viewModel.minScaleLimit=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...k,...e,scaleMenus:typeof e?.scaleMenus=="boolean"?e.scaleMenus:{...k.scaleMenus,...e?.scaleMenus}}}formatScale(e){return`${C}${U(e,pe)}`}render(){const{_interactive:e,_slider:i,label:t,view:r,viewModel:{state:a}}=this,n=this._getLabel("min"),c=this._getLabel("max"),{segmentElements:u}=i,m=u.at(this.mode==="min-scale-only"?-1:-2);return m&&m.classList.add(g.segmentElementActive),d("div",{"aria-label":t,class:this.classes(g.base,E.widget,e?null:E.disabled)},d("div",{class:g.scaleIndicatorWrapper,dir:"ltr"},a==="ready"&&r?this._renderCurrentScaleIndicator():null,i.render(),this._renderPreviewPopover()),d("div",{class:g.scaleMenuContainer},this._minScaleMenuEnabled&&n?this._renderScaleMenuToggle("min",n):null,d("div",{class:g.scaleMenuSeparator}),this._maxScaleMenuEnabled&&c?this._renderScaleMenuToggle("max",c):null))}_renderPreviewPopover(){const{_activeThumb:e}=this,i=e!=null&&this.visibleElements.preview,t=i?e===0?this._minThumbNode:this._maxThumbNode:"";return d("calcite-popover",{afterCreate:Z,afterUpdate:()=>this._previewPopover?.reposition(),bind:this,"data-node-ref":"_previewPopover",label:this.messages.preview,offsetDistance:_e,open:i,overlayPositioning:"fixed",placement:"top",referenceElement:t,triggerDisabled:!0},this._renderScalePreview())}_renderScalePreview(){const{_activeThumb:e,_slider:i,region:t,viewModel:{scaleRanges:r}}=this,a=e===0||this.mode!=="range"?i.values[0]:i.values[1],n=Object.keys(b.RecommendedScales).indexOf(r.findScaleRangeByIndex(a).id),c={backgroundImage:de(t),backgroundPosition:he(n)};return d("div",{class:g.scalePreview},d("div",{class:g.scalePreviewThumbnail,styles:c}))}_getLabel(e){const{_slider:i,messages:t,mode:r,viewModel:{scaleRanges:a}}=this,[n,c]=i.values,u=e==="min"||r!=="range"?n:c,m=t.scaleRangeLabels[a.findScaleRangeByIndex(u).id];switch(r){case"range":return m;case"max-scale-only":return e==="min"?null:m;case"min-scale-only":return e==="min"?m:null}}_renderScaleMenuToggle(e,i){const{_activeMenu:t,_interactive:r}=this,a=t===e;return[d("calcite-dropdown",{closeOnSelectDisabled:!0,"data-type":e,open:a,overlayPositioning:"fixed",placement:e==="max"?"bottom-end":"bottom-start",scale:"s",onCalciteDropdownClose:({currentTarget:n})=>{this._activeMenu===e&&this._setActiveMenu(null),R(n.querySelector("calcite-button"))},onCalciteDropdownOpen:()=>this._setActiveMenu(e)},d("calcite-button",{appearance:a?"outline":"transparent","aria-pressed":a.toString(),class:g.scaleMenuToggle,disabled:!r,iconEnd:"chevron-down",scale:"s",slot:"trigger"},i),a&&e==="max"?this._renderMaxScaleMenu():null,a&&e==="min"?this._renderMinScaleMenu():null)]}_renderMinScaleMenu(){const{effectiveMaxScale:e,effectiveMinScaleLimit:i,view:t,viewModel:{scaleRanges:r}}=this,a=t?t.scale:void 0;return this._renderScaleMenu({type:"min",min:i,max:r.findScaleRange(e).minScale,viewScale:a})}_renderMaxScaleMenu(){const{effectiveMinScale:e,effectiveMaxScaleLimit:i,view:t,viewModel:{scaleRanges:r}}=this,a=t?t.scale:void 0;return this._renderScaleMenu({type:"max",min:r.findScaleRange(e).maxScale,max:i,viewScale:a})}_renderScaleMenu({viewScale:e,min:i,max:t,type:r}){const{effectiveMaxScale:a,effectiveMinScale:n,messages:c,showWorldValue:u}=this,m=r==="max"?a:n,N=b.fromScaleRange({minScale:i,maxScale:t}),j=this.messages.featuredScaleLabels,y=b.RecommendedScales,B=Object.keys(y).filter(x=>N.contains(y[x])).map(x=>this._renderScaleMenuItem({scaleLabel:j[x],scaleValue:y[x],isSelected:m===y[x],valueVisible:x!=="world"||u}));return d("calcite-dropdown-group",{key:`${this.id}__scale-menu--${r}`},this._renderCustomScaleValue({currentScale:m}),e!=null?this._renderScaleMenuItem({scaleValue:e,scaleLabel:c.featuredScaleLabels.current,isSelected:m===e,valueVisible:!0}):null,B)}_renderCustomScaleValue({currentScale:e}){const{messages:i}=this,t=Math.round(e).toString();return d("calcite-dropdown-item",{afterCreate:r=>{R(r)},key:"custom-scale",label:i.featuredScaleLabels.custom,onCalciteDropdownItemSelect:()=>{R(this._customInput)}},d("calcite-label",{scale:"s"},d("span",null,i.featuredScaleLabels.custom),d("calcite-input-number",{afterCreate:this._afterInputNumberCreate,groupSeparator:!0,inputMode:"numeric",max:b.RecommendedScales.world,min:0,numberButtonType:"none",placeholder:i.customScaleInputTooltip,prefixText:C,scale:"s",step:1,value:t,onCalciteInputNumberChange:({currentTarget:r})=>this._handleCustomScaleInputChange(t,r)})))}_renderScaleMenuItem(e){const{scaleValue:i,scaleLabel:t,valueVisible:r,isSelected:a}=e;return d("calcite-dropdown-item",{key:t,label:t,selected:a,onCalciteDropdownItemSelect:this._setScale.bind(this,i)},t,r?d("div",{class:g.scaleMenuSubLabel},this.formatScale(i)):void 0)}_renderCurrentScaleIndicator(){const{_slider:e,messages:i,view:t,viewModel:{scaleRanges:r}}=this,a=r.clampScale(t.scale),n=this.viewModel.mapScaleToSlider(a),c=n/e.max,u=i.scaleRangeLabels[r.findScaleRangeByIndex(n).id],m=Q(i.currentScaleTooltip,{scaleLabel:u});return d("div",{class:g.scaleIndicatorContainer,key:"scale-indicator"},d("div",{"aria-label":m,class:g.scaleIndicator,styles:{left:100*c+"%"},title:m},this.renderCurrentScaleIndicatorIcon()))}renderCurrentScaleIndicatorIcon(){return d("calcite-icon",{class:g.scaleIndicatorIcon,icon:"caret-up",scale:"s"})}_setScale(e){this._activeMenu==="max"?this.maxScale=Math.min(e,this.effectiveMinScale-1):this.minScale=Math.max(e,this.effectiveMaxScale+1),this._setActiveMenu(null)}_setActiveMenu(e){this._activeMenu=e}};l([s()],o.prototype,"_activeMenu",void 0),l([s()],o.prototype,"_activeThumb",void 0),l([s()],o.prototype,"_customInput",void 0),l([s()],o.prototype,"_maxScaleMenuEnabled",null),l([s()],o.prototype,"_minScaleMenuEnabled",null),l([s()],o.prototype,"_slider",void 0),l([s({readOnly:!0})],o.prototype,"_interactive",null),l([s()],o.prototype,"disabled",void 0),l([s()],o.prototype,"effectiveMaxScale",null),l([s()],o.prototype,"effectiveMinScale",null),l([s()],o.prototype,"effectiveMaxScaleLimit",null),l([s()],o.prototype,"effectiveMinScaleLimit",null),l([s()],o.prototype,"icon",null),l([s()],o.prototype,"label",null),l([s()],o.prototype,"layer",null),l([s()],o.prototype,"maxScale",null),l([s()],o.prototype,"maxScaleLimit",null),l([s(),X("esri/widgets/ScaleRangeSlider/t9n/ScaleRangeSlider")],o.prototype,"messages",void 0),l([s()],o.prototype,"mode",null),l([s()],o.prototype,"minScale",null),l([s()],o.prototype,"minScaleLimit",null),l([s()],o.prototype,"region",void 0),l([s()],o.prototype,"showWorldValue",void 0),l([s()],o.prototype,"view",null),l([s()],o.prototype,"viewModel",void 0),l([s()],o.prototype,"visibleElements",void 0),l([Y("visibleElements")],o.prototype,"castVisibleElements",null),o=l([V("esri.widgets.ScaleRangeSlider")],o);const ve=o;const Se=re`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}@supports (-ms-ime-align: auto){.esri-slider__anchor:focus{outline:1px dotted var(--calcite-color-foreground-current)}}.esri-slider{-webkit-user-select:none;user-select:none;direction:ltr;width:100%;height:100%;display:flex}.esri-disabled{pointer-events:none}.esri-disabled .esri-slider__content,.esri-disabled .esri-slider__min,.esri-disabled .esri-slider__max{opacity:var(--calcite-opacity-light)}.esri-slider--reversed.esri-slider--horizontal{flex-direction:row-reverse}.esri-slider--reversed.esri-slider--vertical{flex-direction:column}.esri-slider--horizontal{flex-direction:row}.esri-slider--horizontal .esri-slider__content{height:auto}.esri-slider--horizontal .esri-slider__track{width:100%;height:2px}.esri-slider--horizontal .esri-slider__segment--interactive:hover{cursor:ew-resize}.esri-slider--horizontal .esri-slider__anchor{width:1px;height:100%}.esri-slider--horizontal .esri-slider__label{text-align:center;margin:0 11px;top:-30px;left:-50px}.esri-slider--horizontal .esri-slider__label-input{text-align:center}.esri-slider--horizontal .esri-slider__max,.esri-slider--horizontal .esri-slider__min{flex:none;width:50px;height:auto;margin:auto}.esri-slider--horizontal .esri-slider__ticks{width:100%;margin:9px 0 0;top:100%;left:0}.esri-slider--horizontal .esri-slider__tick{width:1px;height:5px}.esri-slider--horizontal .esri-slider__tick-label{margin-top:18px}.esri-slider--vertical{flex-direction:column-reverse}.esri-slider--vertical .esri-slider__content{flex-direction:column;width:auto}.esri-slider--vertical .esri-slider__track{flex-direction:column;flex:1 0 0;width:2px;height:100%}.esri-slider--vertical .esri-slider__segment--interactive:hover{cursor:ns-resize}.esri-slider--vertical .esri-slider__anchor{width:100%;height:1px}.esri-slider--vertical .esri-slider__label{text-align:left;top:-10px;left:20px}.esri-slider--vertical .esri-slider__max,.esri-slider--vertical .esri-slider__min{flex:0 0 22px;width:100%;margin:auto}.esri-slider--vertical .esri-slider__ticks{margin:0 0 0 11px;top:0;left:100%}.esri-slider--vertical .esri-slider__tick{width:5px;height:1px}.esri-slider--vertical .esri-slider__tick-label{margin-left:30px}.esri-slider__content{z-index:0;flex:1 0 auto;justify-content:center;align-items:center;margin:auto;line-height:0;display:flex;position:relative}.esri-slider__track{touch-action:none;background-color:var(--calcite-color-border-ghost);display:inline-block;position:relative}.esri-slider__segment{transform-origin:0 0;will-change:transform;touch-action:none;width:100%;height:100%;position:absolute;top:0;left:0}.esri-slider__segment:hover{cursor:pointer}.esri-slider__anchor{touch-action:none;-webkit-user-select:none;user-select:none;background-color:var(--calcite-color-brand);position:absolute}.esri-slider__anchor:focus .esri-slider__thumb,.esri-slider__anchor:focus .esri-slider__label{outline:inherit}.esri-slider__anchor--moving:focus .esri-slider__thumb{cursor:grabbing;border:3px solid var(--calcite-color-brand-press)}.esri-slider__anchor--moving .esri-slider__label:hover,.esri-slider__anchor--moving .esri-slider__label--interactive:hover{cursor:grabbing}.esri-slider__thumb{box-sizing:border-box;z-index:1;touch-action:none;background-color:var(--calcite-color-foreground-2);border:2px solid var(--calcite-color-brand);border-radius:16px;width:16px;height:16px;transition:all .125s ease-in-out;position:absolute;top:-7px;left:-7px}.esri-slider__thumb:hover{cursor:grab;border-width:3px;border-color:var(--calcite-color-brand-press);width:19.2px;height:19.2px;top:-8.6px;left:-8.6px}.esri-slider__label{min-width:80px;line-height:var(--calcite-font-line-height-fixed-xl);position:absolute}.esri-slider__label:hover{cursor:grab}.esri-slider__label--interactive:hover,.esri-slider__max--interactive:hover,.esri-slider__min--interactive:hover{cursor:pointer;text-decoration:underline}.esri-slider__label-input{z-index:1;width:100%;position:relative}.esri-slider__extra-content{display:inline-block}.esri-slider__max,.esri-slider__min{text-align:center;justify-content:center;align-items:center;height:22px;line-height:var(--calcite-font-line-height-fixed-xl);display:flex}.esri-slider__max--interactive:hover,.esri-slider__min--interactive:hover{background-color:var(--calcite-color-foreground-2)}.esri-slider__range-input{text-align:center;width:100%;padding:1px 0}.esri-slider__ticks{z-index:0;height:100%;display:inline-block;position:absolute}.esri-slider__tick{background:var(--calcite-color-foreground-1);position:absolute}.esri-slider__tick-label{width:max-content;position:absolute}:dir(rtl) .esri-slider__label,:dir(rtl) .esri-slider__max,:dir(rtl) .esri-slider__min,:dir(rtl) .esri-slider__tick-label{direction:rtl;unicode-bidi:plaintext}:dir(rtl) .esri-slider__range-input,:dir(rtl) .esri-slider__label-input{unicode-bidi:plaintext}.esri-scale-range-slider{background-color:var(--calcite-color-transparent);flex-direction:column;gap:var(--calcite-spacing-md);min-width:310px;display:flex;position:relative}.esri-scale-range-slider__segment-active{background-color:var(--calcite-color-brand);height:var(--calcite-spacing-xxs)}.esri-scale-range-slider .esri-slider{background-color:var(--calcite-color-transparent);padding:9px 11px 9px 9px}.esri-scale-range-slider .esri-slider .esri-slider__effective-min-segment,.esri-scale-range-slider .esri-slider .esri-slider__effective-max-segment{content:" ";background:repeating-linear-gradient(90deg,var(--calcite-color-text-2) 0 5px,var(--calcite-color-foreground-1) 5px 10px);height:100%;display:block}.esri-scale-range-slider.esri-component.esri-widget,.esri-scale-range-slider.esri-widget{box-shadow:none}.esri-scale-range-slider.esri-disabled{opacity:var(--calcite-opacity-light);pointer-events:none;-webkit-user-select:none;user-select:none}.esri-scale-range-slider__scale-indicator-wrapper{display:contents}.esri-scale-range-slider__scale-indicator-container{position:absolute;left:9px;right:11px}.esri-scale-range-slider__scale-indicator{width:1px;margin-left:-4px;transition-property:left;transition-duration:.2s;position:relative;top:11px}.esri-scale-range-slider__scale-indicator-icon{transform:scale(.8,1.7)}.esri-scale-range-slider__scale-preview{background-color:var(--calcite-color-foreground-1);flex-direction:column;padding:6px 7px;display:inline-flex;box-shadow:0 1px 2px #0000004d}.esri-scale-range-slider__scale-preview-thumbnail{box-sizing:border-box;padding:64px;display:block}.esri-scale-range-slider__scale-menu-container{gap:.5rem;width:100%;display:flex}.esri-scale-range-slider__scale-menu-container calcite-label span{color:var(--calcite-color-text-1)}:dir(rtl) .esri-scale-range-slider__scale-menu-container{flex-direction:row-reverse}.esri-scale-range-slider__scale-menu-separator{flex:1;margin-left:-.5rem}.esri-scale-range-slider__scale-menu-toggle{max-width:9rem}.esri-scale-range-slider__scale-menu-sublabel{color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--2)}`,xe=te(ve),L=class L extends G{constructor(){super(...arguments),this.widget=xe(this),this.viewModel=this.widget.viewModel,this.view=this.widget.view,this.autoDestroyDisabled=!1,this.disabled=this.widget.disabled,this.hidePreview=this.widget.visibleElements.preview,this.hideScaleMenusMaxScaleMenu=this.widget.visibleElements.scaleMenus.maxScaleMenu,this.hideScaleMenusMinScaleMenu=this.widget.visibleElements.scaleMenus.minScaleMenu,this.icon=this.widget.icon,this.label=this.widget.label,this.layer=this.widget.layer,this.maxScale=this.widget.maxScale,this.maxScaleLimit=this.widget.maxScaleLimit,this.minScale=this.widget.minScale,this.minScaleLimit=this.widget.minScaleLimit,this.mode=this.widget.mode,this.region=this.widget.region,this.showWorldValue=this.widget.showWorldValue,this.state=this.viewModel.state,this.arcgisPropertyChange=ee()("state","minScale","maxScale"),this.arcgisReady=ie()}async destroy(){await this.manager.destroy()}};L.properties={view:0,autoDestroyDisabled:5,disabled:7,hidePreview:5,hideScaleMenusMaxScaleMenu:5,hideScaleMenusMinScaleMenu:5,icon:1,label:1,layer:0,maxScale:9,maxScaleLimit:9,minScale:9,minScaleLimit:9,mode:1,position:1,referenceElement:1,region:0,showWorldValue:5,state:3},L.styles=Se;let z=L;ae("arcgis-scale-range-slider",z);export{z as ArcgisScaleRangeSlider};
