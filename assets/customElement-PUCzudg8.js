import{en as v,cI as d,bz as w,Z as o,$ as s,nm as p,a0 as u,L as m,d as b,r as y,u as x,c as _,E as f,F as $,S as C,f as r,T as G,i as H,l as M}from"./index-Bp3GeDhQ.js";let t=class extends v(d){constructor(e){super(e),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.view?.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(e){this._initialViewpoint=null,this._set("view",e),e&&e.when().then(()=>{this.view===e&&(this._initialViewpoint=e.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(e){this._set("viewpoint",e)}async go(){if(!this.view?.ready)throw new w("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const e=new AbortController;this._goingHomeController=e;try{await this.view?.when(),await this.callGoTo({target:this.viewpoint,options:{signal:e.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:e}=this;e&&e.abort(),this._goingHomeController=null}};o([s()],t.prototype,"_goingHomeController",void 0),o([s({readOnly:!0})],t.prototype,"state",null),o([s()],t.prototype,"view",null),o([s({type:p})],t.prototype,"viewpoint",null),o([s()],t.prototype,"go",null),o([s()],t.prototype,"cancelGo",null),t=o([u("esri.widgets.Home.HomeViewModel")],t);const E=t;const k=H`.arcgis-button{--calcite-icon-color: var(--calcite-color-text-3);--calcite-button-background-color: var(--calcite-color-foreground-1);color:var(--calcite-color-text-3);line-height:var(--calcite-font-line-height-relative-tight);display:flex;flex-flow:column;cursor:pointer;background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);:hover{--calcite-icon-color: var(--calcite-color-text-1);--calcite-button-background-color: var(--calcite-color-transparent-hover)}calcite-button{width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl)}}:host{width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl)}`,O="home",h={base:O,button:"arcgis-button"},T=G(E),a=class a extends m{constructor(){super(...arguments),this.messages=b(),this.viewModel=T(this),this.view=this.viewModel.view,this.autoDestroyDisabled=!1,this.goToOverride=this.viewModel.goToOverride,this.icon="home",this.state=this.viewModel.state,this.viewpoint=this.viewModel.viewpoint,this.arcgisGo=y(()=>this.viewModel,"go"),this.arcgisPropertyChange=x()("state"),this.arcgisReady=_()}async cancelGo(){this.viewModel.cancelGo()}async destroy(){await this.manager.destroy()}async go(){this.viewModel.go()}_go(){const{viewModel:i}=this;i.state==="going-home"?i.cancelGo():i.go()}render(){const{messages:i,icon:g}=this,l=this.viewModel?.state,n=l==="going-home";return r`<div class=${$(C(h.base,h.button))}><calcite-button .disabled=${l==="disabled"} .iconStart=${n?void 0:g??void 0} kind=neutral .label=${i.componentLabel} @click=${this._go} .scale=${n?"s":"m"} title=${(l==="going-home"?i.cancel:i.title)??f}>${n?r`<calcite-loader inline label></calcite-loader>`:null}</calcite-button></div>`}};a.properties={view:0,autoDestroyDisabled:5,goToOverride:0,icon:1,label:1,messageOverrides:0,position:3,referenceElement:1,state:3,viewpoint:0},a.styles=k;let c=a;M("arcgis-home",c);export{c as ArcgisHome};
