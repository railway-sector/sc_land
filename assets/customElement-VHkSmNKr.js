const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lengthOperator-B93QPg-F.js","assets/index-aRi8Xk-b.js","assets/index-ni9qn0ie.css","assets/Point2D-8Py_srEd.js","assets/Envelope2D-DQ3Tn1o-.js","assets/ProjectionTransformation-CepNZ9PX.js","assets/Transformation2D-Ckyhe4wc.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/jsonConverter-BSFqafDe.js","assets/apiConverter-FnkTMlaa.js","assets/ElevationProfileView2D-URE7sLvV.js","assets/visualizationUtils-DRSyl7f8.js","assets/AnchorElementViewModel-7JavS10o.js","assets/createUtils-CppWdZ84.js","assets/Circle-VvoTd42k.js","assets/distanceOperator-DXoZ1ofm.js","assets/Distance2DCalculator-CXhBP-8I-Ci-vwecj.js","assets/simplifyOperator-BRnc_X18.js","assets/operatorSimplify-BOKlU8rf.js","assets/surfaceCoordinateSystems-H1MVPt50.js","assets/throttle-84JFhoJl.js","assets/GraphicsLayer-aZe0Dbdm.js","assets/defaultUnit-Bxakxzy0.js","assets/traversalUtils-DmE6QkgJ.js","assets/SketchViewModel-CgPwD4NK.js","assets/isSupportedObject-BODRvkc7.js","assets/layerUtils-kYGDyovj.js","assets/SketchLabelOptions-CdsKprwo.js","assets/SketchOptions-CwjAcyI0.js","assets/SnappingManager-DCRQCwjI.js","assets/euclideanLengthMeasurementUtils-4a6kHLjp.js","assets/geometry2dUtils-CgYtdIFN.js","assets/geodeticLengthOperator-BPMj1oiZ.js","assets/geodeticCurveType-CirnHLSB.js","assets/automaticAreaMeasurementUtils-BDF5aXgy.js","assets/geodesicAreaMeasurementUtils-thvXrmuo.js","assets/earcut-D9gy186-.js","assets/automaticLengthMeasurementUtils-CCfVEmrk.js","assets/UnitSelect-DpN5wK5I.js","assets/ElevationProfileView3D-BWnhew2G.js","assets/settings-BALoiods.js","assets/lineStippleUtils-CCavR4OV.js","assets/OutlineVisualElement-CAfudKGN.js","assets/EngineVisualElement-BEU-Bx0-.js","assets/VisualElement-CFrfzfzY.js","assets/LaserlinePath.glsl-CmjBGYIH.js","assets/line-BL5uCDyo.js","assets/line-DJrtAPPO.js","assets/triangulationUtils-Bx6S2VF2.js","assets/deduplicate-DCdpRX6I.js","assets/GraphicState-BQ9YHorR.js","assets/chartUtils-CgXGua7r.js","assets/ResponsiveTheme-CdjWPp0j.js","assets/Theme-BXLE1ecl.js","assets/chartUtilsAm5-DcufaGPe.js","assets/Tooltip-BrhiY1K0.js","assets/DefaultTheme-BzklQHGZ.js","assets/LineSeries-DooA7hXH.js","assets/ColorSet-WqLrGjmj.js","assets/Tick-BulKSLS3.js","assets/Button-CMnCu2Ec.js","assets/area-CCUzKFK2.js"])))=>i.map(i=>d[i]);
import{ax as $t,eX as Se,a3 as I,d1 as X,eM as oe,eF as Ge,al as ot,oB as Mt,aU as Le,oz as It,rh as Ot,aj as ze,oZ as Rt,fc as Dt,aG as Lt,f2 as rt,hN as at,aL as Ut,aF as zt,f3 as ne,aP as Te,uq as Tt,b0 as Vt,oy as Bt,iG as At,g0 as Gt,ur as Nt,us as Zt,b4 as qt,ez as Ht,a7 as ce,nL as B,j as S,a8 as Y,b9 as de,GD as Ft,f4 as lt,kb as ke,d4 as jt,aZ as se,a5 as s,x as r,y as k,cR as Wt,fN as Qt,eK as Z,eB as ct,ai as Yt,E6 as dt,E7 as Kt,wM as ut,bG as ht,ar as Ne,fu as Xt,wN as Jt,st as ei,f1 as ti,kC as ii,aC as ni,fs as si,ft as oi,Y as Ue,K as ri,hQ as L,ap as Ie,b1 as Ze,ny as ai,ao as pt,as as li,av as ci,nM as qe,a9 as di,fj as ui,CU as hi,CT as pi,E5 as vi,jz as gi,qX as He,a1 as _e,a2 as $e,a4 as v,n1 as Fe,GE as je,ab as fe,W as fi,bH as We,bJ as Oe,ng as Re,gn as _i,L as mi,u as yi,c as bi,I as wi,i as xi,l as Ci}from"./index-aRi8Xk-b.js";import{e as Ei}from"./defaultUnit-Bxakxzy0.js";import{l as vt}from"./throttle-84JFhoJl.js";import{n as Pi}from"./traversalUtils-DmE6QkgJ.js";import{n as Si}from"./GraphicsLayer-aZe0Dbdm.js";import{d as ki}from"./SketchViewModel-CgPwD4NK.js";import{n as $i}from"./UnitSelect-DpN5wK5I.js";const P="esri-elevation-profile",E={base:`${P}`,refined:`${P}--refined`,mainContainer:`${P}__main-container`,promptContainer:`${P}__prompt-container`,header:`${P}__header`,zoomOutButton:`${P}__zoom-out-button`,clearButton:`${P}__clear-button`,actionButton:`${P}__action-button`,sketchButton:`${P}__sketch-button`,sketchCancelButton:`${P}__sketch-cancel-button`,sketchDoneButton:`${P}__sketch-done-button`,selectButton:`${P}__select-button`,selectCancelButton:`${P}__select-cancel-button`,chartContainer:`${P}__chart-container`,chartSpinner:`${P}__chart-spinner`,chartSpinnerVisible:`${P}__chart-spinner--visible`,chartSpinnerSmall:`${P}__chart-spinner--small`,footer:`${P}__footer`},Mi={base:"esri-elevation-profile-legend"},F="esri-elevation-profile-legend-item",j={base:F,disabled:`${F}--disabled`,expanded:`${F}--expanded`,colorIndicator:`${F}__color-indicator`,header:`${F}__header`,content:`${F}__content`,collapseToggle:`${F}__collapse-toggle`,label:`${F}__label`,checkbox:`${F}__checkbox`},pe="esri-elevation-profile-statistics",ve={base:pe,statistic:`${pe}__statistic`,statisticLabel:`${pe}__statistic__label`,statisticValue:`${pe}__statistic__value`,slopeValue:`${pe}__slope-value`},we="esri-elevation-profile-settings",xe={base:`${we}`,popoverContent:`${we}__popover-content`,uniformChartScalingLabel:`${we}__uniform-scaling-label`,uniformChartScalingCheckbox:`${we}__uniform-scaling-checkbox`};let gt={noDataValue:-5e5,defaultQueryOptions:()=>({noDataValue:gt.noDataValue,demResolution:"auto",maximumAutoTileRequests:150,ignoreInvisibleLayers:!0}),updateThrottleMillis:100,delayAfterPreviewMillis:500,defaultDemResolution:Se(10,"centimeters","meters"),densificationMaxSamples:3e3,largeChartSamples:1e4,maxTotalSamples:1e5,maxChartRatio:300,minSlopeSampleDistance:10,formatPrecision:1,profileLinesStyle3D:{width:3,falloff:0,innerWidth:0,innerColor:$t(0,0,0,0),renderOccluded:16},profileLinesUpdateThrottleMillis:100,hoveredPointsStyle:{size:14,borderStyle:"solid",borderWidth:3,borderColor:"#ffffff",boxShadow:"0px 0px 0px 5px rgba(255,255,255,0.2)"}};function A(){return gt}const Ii=" â€• ",Oi={progress:1,hasZ:!1,samples:[],statistics:null,spatialReference:null},ft="ProfileGenerationError";let le=class extends Error{constructor(t){super("profile could not be generated",{cause:t}),this.type=ft}};function Ri(e){return e.type===ft}async function Di(e,t,i,n,o,a,l){let c,d,h;const u=e.spatialReference,p=u.isGeographic||u.isWebMercator;let g=0;if(!p){const{execute:y}=await I(()=>import("./lengthOperator-B93QPg-F.js").then(w=>w.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]));X(l),g=y(e,{unit:"meters"}),X(l)}const f=1/oe(n);if(p){await Ge([{source:u,dest:n},{source:u,dest:ot.WGS84}],l);const y=qi(e);c=Mt([y],"meters")[0];const w=Qe(c,o);if(Xe(e,c,w)>a)throw new le("too-complex");const _=Ye(y,t,i);({densifiedPath:d,distances:h}=Ti(_,w,f)),d=Le(d,n)}else{await Ge([{source:u,dest:n}],l),c=g;const y=Qe(c,o);if(Xe(e,c,y)>a)throw new le("too-complex");const w=Ye(e,t,i);({densifiedPath:d,distances:h}=zi(w,y,f)),X(l),d=Le(d,n)}return{densifiedPath:d,pathLength:c*f,distances:h}}function Qe(e,t){const i=e/t.densificationMaxSamples;return Math.max(t.samplingDistance,i)}function Ye(e,t,i){if(t==null)return Ke(e);const n=e.spatialReference,o=t.mode,a=Ot(t,n);let l=null;switch(i.type){case"2d":l=Li(e,o,a);break;case"3d":l=Ui(e,o,a,i)}return l==null?Ke(e):new ze({hasZ:!0,hasM:!1,spatialReference:n,paths:_t(e.paths,l)})}function Li({hasZ:e},t,i){return t==="absolute-height"?e?([n,o,a])=>[n,o,a+i]:([n,o])=>[n,o,i]:null}function Ui({spatialReference:e,hasZ:t},i,n,{elevationProvider:o}){const a=(l,c,d,h)=>o?.getElevation(l,c,d,e,h)??0;switch(i){case"on-the-ground":return([l,c])=>[l,c,a(l,c,0,"ground")];case"absolute-height":return t?([l,c,d])=>[l,c,d+n]:([l,c])=>[l,c,n];case"relative-to-ground":return t?([l,c,d])=>[l,c,d+a(l,c,d,"ground")+n]:([l,c])=>[l,c,a(l,c,0,"ground")+n];case"relative-to-scene":return t?([l,c,d])=>[l,c,d+a(l,c,d,"scene")+n]:([l,c])=>[l,c,a(l,c,0,"scene")+n];default:return null}}function Ke(e){return e.hasZ?new ze({hasZ:!1,hasM:!1,spatialReference:e.spatialReference,paths:_t(e.paths,([t,i])=>[t,i])}):e}function _t(e,t){const i=e.length,n=new Array(i);for(let o=0;o<i;++o){const a=e[o],l=a.length,c=new Array(a.length);n[o]=c;for(let d=0;d<l;++d)c[d]=t(a[d])}return n}function Ve(e){return me(e)&&e.paths.length>0&&e.paths.every(t=>t.length>=2)}function me(e){return e!=null&&e.type==="polyline"}function mt(e,t,i,n,o){const{spatialReference:a,hasZ:l}=e,c={from:null,to:null,distance:0,azimuth:0,reverseAzimuth:0,spatialReference:a,metersPerSR:oe(a)},d=[],h=[];let u=0;for(let p=0;p<e.paths.length;++p){const g=e.paths[p],f=new Array,y=new Array;let w=0;for(let _=1;_<g.length;++_){const C=g[_-1],$=g[_],U=n(c,C,$);let R;for(R=w;R<U.distance&&!Rt(R,U.distance);R+=t)f.push(o(U,R)),y.push((u+R)*i);w=R-U.distance,u+=U.distance,f.push($),y.push(u*i)}d[p]=f,h[p]=y}return{densifiedPath:new ze({spatialReference:a,hasZ:l,paths:d}),distances:h}}function zi(e,t,i){const{hasZ:n}=e;return mt(e,t,i,Bi,n?Zi:Ni)}function Ti(e,t,i){const{hasZ:n}=e;return mt(e,t,i,Vi,n?Gi:Ai)}function Vi(e,t,i){return e.distance=0,Dt(e,t,i,e.spatialReference),e.from=t,e.to=i,e}function Bi(e,t,i){return e.from=t,e.to=i,e.distance=Lt(i,t)*e.metersPerSR,e}function Ai({from:e,azimuth:t,spatialReference:i},n){return rt([0,0],e,t,n,i)}function Gi({from:e,to:t,azimuth:i,distance:n,spatialReference:o},a){const l=a/n,c=[0,0,at(e[2],t[2],l)];return rt(c,e,i,a,o),c}function Ni({from:e,to:t,distance:i},n){return Ut([0,0],e,t,n/i)}function Zi({from:e,to:t,distance:i},n){return zt([0,0,0],e,t,n/i)}function qi(e){return It(e.spatialReference)?e:Le(e,ot.WGS84)}function yt(e){return e.paths.reduce((t,i)=>t+i.length,0)}function Xe(e,t,i){return yt(e)+Math.floor(t/i)+Math.max(0,e.paths.reduce(n=>1+n,0)-1)}function Hi(e,t){const i=e.length;if(i===0)return null;const n=e[0],o=n.sampledZ;let a=o,l=o,c=0,d=0,h=null,u=null,p=o??0,g=0,f=0,y=o!=null?1:0,w=0,_=0;const C=oe(t),$=ne(t),U=A().minSlopeSampleDistance/C,R=2*U,re=new Je,G=new Je,Me=()=>{kt(),re.copy(G),G.reset()},Ae=(z,ue)=>{Me(),z>0&&z-re.start<=R&&(z=re.start+U),G.restart(z,ue)},kt=()=>{if(re.isHole||G.isHole)return;const z=G.avgElevation-re.avgElevation,ue=G.start-re.start,he=z*$,q=ue*C,H=Se(Math.atan2(he,q),"radians","degrees");H>0?(g+=H,h=K(h,H),w++):H<0&&(f-=H,u=K(u,-H),_++)};n.sampledZ!=null&&Ae(n.distance,n.sampledZ);for(let z=1;z<i;++z){const ue=e[z-1],he=e[z],q=he.sampledZ;if(q==null){G.isHole||Me();continue}y++,p+=q,a=Be(a,q),l=K(l,q),G.isHole||he.distance-G.start>=U?Ae(he.distance,q):G.insert(q);const H=ue.sampledZ;if(H!=null){const be=q-H;be>0?c+=be:be<0&&(d-=be)}}return Me(),y===0?null:{maxDistance:e[i-1].distance,minElevation:a,maxElevation:l,avgElevation:y===0?null:p/y,elevationGain:c,elevationLoss:d,maxPositiveSlope:h,maxNegativeSlope:u,avgPositiveSlope:w===0?null:g/w,avgNegativeSlope:_===0?null:f/_}}function Fi(e){const t=e.filter(Te),i=t.length;if(i===0)return null;const n=t[0];if(i===1)return n;let o=n.maxDistance,a=n.minElevation,l=n.maxElevation,c=n.maxPositiveSlope,d=n.maxNegativeSlope;for(let h=1;h<t.length;++h){const u=t[h];o=K(o,u.maxDistance),a=Be(a,u.minElevation),l=K(l,u.maxElevation),c=K(c,u.maxPositiveSlope),d=K(d,u.maxNegativeSlope)}return{maxDistance:o,minElevation:a,maxElevation:l,avgElevation:null,elevationGain:null,elevationLoss:null,maxPositiveSlope:c,maxNegativeSlope:d,avgPositiveSlope:null,avgNegativeSlope:null}}function ji(e){let t=null,i=null,n=null;for(const o of e){if(o==null)continue;const{statistics:a,spatialReference:l}=o;if(a==null)continue;const c=oe(l);t=K(t,De(a.maxDistance,c));const d=ne(l);n=Be(n,De(a.minElevation,d)),i=K(i,De(a.maxElevation,d))}return{minDistance:0,maxDistance:t??0,minElevation:n??0,maxElevation:i??0}}function Be(e,t){return t==null?e:e!=null?Math.min(e,t):t}function K(e,t){return t==null?e:e!=null?Math.max(e,t):t}function De(e,t){return e!=null&&t!=null?e*t:null}let Je=class{constructor(){this._start=0,this._totalElevation=0,this._sampleCount=0}get avgElevation(){return this._totalElevation/this._sampleCount}get isHole(){return this._sampleCount===0}get start(){return this._start}copy(t){this._start=t._start,this._sampleCount=t._sampleCount,this._totalElevation=t._totalElevation}reset(){this._start=0,this._sampleCount=0,this._totalElevation=0}restart(t,i){this._start=t,this._sampleCount=1,this._totalElevation=i}insert(t){++this._sampleCount,this._totalElevation+=t}};async function*Wi(e,t){const{view:i,geometry:n,elevationInfo:o,providers:a,options:l}=e,c=i.spatialReference;if(!c||n==null||!Ve(n))throw new le("invalid-geometry");const d=a.length;if(d===0)return null;const h=Math.round(l.maxTotalSamples/d);if(yt(n)>h)throw new le("too-complex");const u=await Di(n,o,i,c,l,h,t);let p=0;const g=new Array(d),f=new Array(d);for(let _=0;_<d;_++){const C=en(u);g[_]=C,p+=C.samples.length;const $={...e,provider:a[_],result:C,densificationResult:u};f[_]=Qi($,t)[Symbol.iterator]()}if(p>l.maxTotalSamples)throw new le("too-complex");const y=await Promise.all(f.map(_=>{const C=_.next();return C.done===!0?Promise.resolve(null):C.value}));X(t);for(let _=0;_<d;_++)g[_]=y[_];yield g,await At(e.delayAfterPreview??A().delayAfterPreviewMillis,null,t.signal);const w=[];try{let _;do{_=!1;for(let C=0;C<d;C++){const $=f[C].next();$.done===!1&&(w.push({resultPromise:$.value,index:C}),_=!0)}}while(_)}finally{f.forEach(_=>_.return?.())}for(const{resultPromise:_,index:C}of w)g[C]=await _,X(t),yield g;for(const _ of g)_!=null&&(_.progress=1);yield g}function*Qi(e,t){const{densificationResult:i}=e,n={...e,abortOptions:t,densificationResult:i},o=Pi(0,n.result.samples.length),a=o.slice(0,n.provider.numSamplesForPreview);yield et(n,a,!0);const l=Zt(o,n.provider.numSamplesPerChunk);for(const c of l)yield et(n,c,!1)}async function et({densificationResult:e,result:t,provider:i,queue:n,abortOptions:o,cache:a},l,c){const{densifiedPath:d,pathLength:h}=e,u=t.spatialReference,{samples:p}=t,g=[];for(let f=0;f<l.length;f++){const y=p[l[f]];g[f]=[...y.coordinate]}try{return await n.push({geometry:new qt({spatialReference:u,points:g,hasZ:d.hasZ}),provider:i,indices:l,preview:c,result:t,queryOptions:{...A().defaultQueryOptions(),minDemResolution:Math.round(c?h/i.numSamplesForPreview:h/p.length),cache:a}},o),{...t}}catch(f){return Ht(f)?null:Oi}}function Yi(e){return new Tt({priority:Vt.ELEVATION_PROFILE,concurrency:1,scheduler:e,process:async t=>{X(t.queryOptions);try{await Ki(t)}catch(i){Bt(i)}}})}async function Ki({geometry:e,provider:t,indices:i,preview:n,result:o,queryOptions:a}){if(i.length===0)return;const l=(await sn(t,e,a)).geometry,{hasZ:c,points:d}=l,h=a.noDataValue,{samples:u}=o;for(let p=0;p<i.length;p++){const g=u[i[p]];if(g.isHole)continue;const f=c?d[p][2]:null;f===null||f===h?g.sampledZ=null:(o.hasZ=!0,g.sampledZ=f),g.sampled=!0}Xi(u),o.progress=n?0:o.progress+i.length/u.length,o.statistics=Hi(o.samples,o.spatialReference)}function Xi(e){const t=e.length-1;let i=0;for(let n=1;n<=t;n++)(e[n].sampled||n===t)&&(Ji(e,i,n),i=n)}function Ji(e,t,i){if(i-t===1)return;const n=e[t],o=n.sampledZ,a=e[i],l=a.sampledZ;if(o==null||l==null){for(let h=t+1;h<i;h++)e[h].sampledZ=null;return}const c=n.distance,d=a.distance-c;for(let h=t+1;h<i;h++){const u=e[h],p=(u.distance-c)/d;u.sampledZ=at(o,l,p)}}function en({densifiedPath:e,distances:t}){const i=e.spatialReference,n=Gt(i),o=e.paths,a=o.length,l=[];let c=null,d=0;for(let h=0;h<a;h++){const u=o[h],p=u.length,g=t[h];for(let f=0;f<p;f++){const y=u[f],w=g[f];n&&(y[0]=Nt(y[0],n.valid[0],n.valid[1])),c&&f===0&&tn(l,c,y,d,w),l.push(nn(y,w)),c=y,d=w}}return{progress:0,samples:l,hasZ:!1,statistics:null,spatialReference:i}}function tn(e,t,i,n,o){e.push(tt(t,n)),e.push(tt(i,o))}function nn(e,t){return{coordinate:e,distance:t,sampledZ:null,sampled:!1,isHole:!1}}function tt(e,t){return{coordinate:e,distance:t,sampledZ:null,sampled:!0,isHole:!0}}async function sn(e,t,i){try{return await e.queryElevation(t,i)}catch{throw new le("elevation-query-error")}}function on(e,t,i){if(!e||e.length===0)return;const n=e.length-1,o=e[0];if(t<=i(o))return o;const a=e[n];if(t>=i(a))return a;let l=0,c=0,d=n;for(;l<d;){c=l+Math.floor((d-l)/2);const h=e[c],u=i(h);if(u===t)return h;if(t<u){if(c>0){const p=e[c-1],g=i(p);if(t>g)return t-g>=u-t?h:p}d=c}else{if(c<n){const p=e[c+1],g=i(p);if(t<g)return t-u>=g-t?p:h}l=c+1}}return e[c]}const it=Symbol("line-change");let J=class extends ce{constructor(t){super(t),this._updateTask=null,this._paramsPerProfile=new Map,this._getUpdateParametersMemoized=B((i,n,o)=>({stationary:i,visibleProfiles:n,generationParameters:o})),this._getGenerationParametersMemoized=B((i,n,o,a,l,c,d)=>me(n)&&Ve(n)&&a!=null?{view:i,geometry:n,elevationInfo:o,options:c,queue:a,cache:l,slicePlane:d}:null),this._getElevationInfoMemoized=B((i,n)=>({mode:i,offset:n})),this._getOptionsMemoized=B((i,n)=>{const{densificationMaxSamples:o,maxTotalSamples:a}=A();return{samplingDistance:i,densificationMaxSamples:Math.round(o/n),maxTotalSamples:a}}),this._updateThrottled=vt(i=>this._update(i),A().updateThrottleMillis)}initialize(){const t=this.viewModel;this.addHandles([S(()=>({visible:t.visible,profiles:t.profiles.toArray()}),({visible:i,profiles:n})=>{this._abortUpdate(),this._paramsPerProfile.clear(),this.removeHandles(it),i&&n.length!==0&&this.addHandles([...n.map(o=>de([o.attach(this.viewModel),o.on("change",()=>{this._invalidateProfile(o)})])),S(()=>this._updateParameters,this._updateThrottled,Y),this._updateThrottled],it)},Y)])}destroy(){this._paramsPerProfile.clear()}get _updateParameters(){const{viewModel:t}=this,i=t.view;return this._getUpdateParametersMemoized(i==null||i.stationary,this.viewModel.visibleProfiles,this._generationParameters)}get _generationParameters(){const{view:t,input:i,queue:n,tileCache:o}=this.viewModel;return t!=null&&t.ready?this._getGenerationParametersMemoized(t,i?.geometry,this._elevationInfo,n,o,this._options,t.type==="3d"?t.slice.plane:null):null}get _elevationInfo(){const t=this.viewModel.input,i=t?Ft(t)?null:lt(t):null;return i!=null?this._getElevationInfoMemoized(i.mode,i.offset):null}get _options(){const t=this.viewModel,i=t.visibleProfiles.length;let n=t.minDemResolution??A().defaultDemResolution;return n=parseFloat(n.toFixed(2)),this._getOptionsMemoized(n,i)}_update({stationary:t,visibleProfiles:i,generationParameters:n}){this._abortUpdate(),t&&(n!=null?this._updateTask=ke(async o=>{this.viewModel.error=null;const a=i.filter(c=>!this._isProfileValid(c,n)),l=Wi({...n,providers:a},{signal:o});try{for await(const c of l){X(o),this._clearInvalidResults(n);for(let d=0;d<a.length;d++)a[d].result=c[d]}for(const c of a)this._paramsPerProfile.set(c,n)}catch(c){jt(c),this._abortUpdate(),this.viewModel.error=c,a.forEach(d=>{d.result=null})}}):this._clearResults())}_abortUpdate(){this._updateTask=se(this._updateTask)}_isProfileValid(t,i){return this._paramsPerProfile.has(t)&&this._paramsPerProfile.get(t)===i}_invalidateProfile(t){this._paramsPerProfile.delete(t),this._updateThrottled(this._updateParameters)}_clearInvalidResults(t){for(const i of this.viewModel.profiles.items)this._isProfileValid(i,t)||(i.result=null,this._paramsPerProfile.delete(i))}_clearResults(){for(const t of this.viewModel.profiles.items)t.result=null,this._paramsPerProfile.delete(t)}};s([r({nonNullable:!0})],J.prototype,"viewModel",void 0),s([r()],J.prototype,"_updateParameters",null),s([r()],J.prototype,"_generationParameters",null),s([r()],J.prototype,"_elevationInfo",null),s([r()],J.prototype,"_options",null),J=s([k("esri.widgets.ElevationProfile.ElevationProfileController")],J);function rn(e,t){if(e==null||t==null)return null;const{samples:i,spatialReference:n}=e,{distance:o,elevation:a}=t,l=oe(n),c=ne(n),d=i.length,h=new Array(d);for(let u=0;u<d;++u){const p=i[u],g=p.sampledZ,f=p.coordinate;h[u]={x:f[0],y:f[1],z:g,distance:bt(p.distance,l,o),elevation:ae(g,c,a)}}return h}function an(e,t){if(e==null||t==null||e.statistics==null||e.spatialReference==null)return null;const{distance:i,elevation:n}=t,{statistics:o,spatialReference:a}=e,l=oe(a),c=ne(a);return{maxDistance:bt(o.maxDistance,l,i),minElevation:ae(o.minElevation,c,n),maxElevation:ae(o.maxElevation,c,n),avgElevation:ae(o.avgElevation,c,n),elevationGain:ae(o.elevationGain,c,n),elevationLoss:ae(o.elevationLoss,c,n),maxPositiveSlope:o.maxPositiveSlope,maxNegativeSlope:o.maxNegativeSlope,avgPositiveSlope:o.avgPositiveSlope,avgNegativeSlope:o.avgNegativeSlope}}function bt(e,t,i){return e==null?null:Se(e*t,"meters",i)}function ae(e,t,i){return e==null?null:Se(e*t,"meters",i)}let x=class extends Wt{constructor(e){super(e),this.type=null,this.id=Qt(),this.title=null,this.color=new Z("#000000"),this.visible=!0,this._getSamplesMemoized=B((t,i)=>rn(t,i)),this._getStatisticsMemoized=B((t,i)=>an(t,i)),this.viewVisualizationEnabled=!0,this.result=null,this.effectiveUnits=null,this.numSamplesForPreview=30,this.numSamplesPerChunk=200,this.chartFillEnabled=!0,this.chartStrokeWidth=1.5,this.chartStrokeOffsetY=0,this._viewModel=null}get progress(){return this.result!=null&&this.visible?this.result.progress:0}get samples(){return this._getSamplesMemoized(this.result,this.effectiveUnits)}get statistics(){return this._getStatisticsMemoized(this.result,this.effectiveUnits)}get hoveredPoint(){const e=this._viewModel?.hoveredChartPosition;return e!=null?this._getPoint(e):null}get available(){return!0}get hasZ(){const e=this.result;return e!=null&&e.hasZ}get minDemResolution(){return A().defaultDemResolution}queryElevation(){throw new Error("not implemented")}attach(e){return this._viewModel=e,de([S(()=>e.effectiveUnits,t=>{this.effectiveUnits=t},Y),S(()=>[e.input],()=>this._onChange(),ct)])}toggleVisibility(e){this.visible=e===void 0?!this.visible:e}_onChange(){this.emit("change")}_getPoint(e){const{samples:t,result:i}=this;if(t==null||i==null)return null;const n=t.length;if(n===0)return null;const o=t[n-1].distance,a=on(t,e*o,h=>h.distance);if(a==null)return null;const{x:l,y:c,z:d}=a;return d==null?null:new Yt({x:l,y:c,z:d,spatialReference:i.spatialReference})}};s([r({nonNullable:!0})],x.prototype,"id",void 0),s([r()],x.prototype,"title",void 0),s([r({type:Z,nonNullable:!0})],x.prototype,"color",void 0),s([r({nonNullable:!0})],x.prototype,"visible",void 0),s([r({readOnly:!0})],x.prototype,"progress",null),s([r({readOnly:!0})],x.prototype,"samples",null),s([r({readOnly:!0})],x.prototype,"statistics",null),s([r()],x.prototype,"hoveredPoint",null),s([r()],x.prototype,"viewVisualizationEnabled",void 0),s([r()],x.prototype,"available",null),s([r()],x.prototype,"result",void 0),s([r()],x.prototype,"effectiveUnits",void 0),s([r()],x.prototype,"numSamplesForPreview",void 0),s([r()],x.prototype,"numSamplesPerChunk",void 0),s([r()],x.prototype,"chartFillEnabled",void 0),s([r()],x.prototype,"chartStrokeWidth",void 0),s([r()],x.prototype,"chartStrokeOffsetY",void 0),s([r({readOnly:!0})],x.prototype,"hasZ",null),s([r({readOnly:!0})],x.prototype,"minDemResolution",null),s([r()],x.prototype,"_viewModel",void 0),x=s([k("esri.widgets.ElevationProfile.ElevationProfileLine")],x);const ye=x;function wt(e){if(e==null)return null;if(Kt(e))return xt(e);const t=e.tileInfo;if(t==null)return null;const i=t.lods?.at(-1);return i==null?null:i.resolution*oe(t.spatialReference)}function xt(e){if(e==null)return null;const t=e.layers.items.map(ln).filter(Te);return dt(t)??null}function ln(e){return e&&"tileInfo"in e?wt(e):null}let N=class extends ye{constructor(t){super(t),this.type="ground",this.color=new Z("#ff7f00"),this.viewVisualizationEnabled=!0,this.numSamplesForPreview=50,this.numSamplesPerChunk=1e3,this._getQueryElevationDependencies=B((i,n)=>({ground:i,groundLayers:n}))}get available(){const t=this._ground;return t!=null&&t.layers.some(i=>i.visible)}get minDemResolution(){return xt(this._ground)}get _queryElevationDependencies(){return this._getQueryElevationDependencies(this._ground,this._groundLayers)}get _ground(){return this._viewModel?.view?.map?.ground}get _groundLayers(){return this._ground?.layers?.toArray()??[]}async queryElevation(t,i){const n=this._queryElevationDependencies;if(n==null)throw new Error("ElevationProfileLineGround: no dependencies");const{ground:o}=n;if(o==null)throw new Error("No ground configured in the view");const a=await o.queryElevation(t,i),l=ne(t.spatialReference),c=ne(o.layers.at(0).spatialReference);if(l!==c){const d=a.geometry;d.points=d.points.map(([h,u,p])=>[h,u,p===i.noDataValue?p:p*c/l])}return a}attach(t){return de([super.attach(t),S(()=>this._queryElevationDependencies,()=>this._onChange())])}};s([r({type:Z,nonNullable:!0})],N.prototype,"color",void 0),s([r()],N.prototype,"viewVisualizationEnabled",void 0),s([r()],N.prototype,"available",null),s([r({readOnly:!0})],N.prototype,"minDemResolution",null),s([r()],N.prototype,"_queryElevationDependencies",null),s([r()],N.prototype,"_ground",null),s([r()],N.prototype,"_groundLayers",null),N=s([k("esri.widgets.ElevationProfile.ElevationProfileLineGround")],N);const Ct=N;let W=class extends ye{constructor(t){super(t),this.type="input",this.color=new Z("#00c8c8"),this.viewVisualizationEnabled=!1,this.numSamplesForPreview=50,this.numSamplesPerChunk=500,this.chartFillEnabled=!1,this.chartStrokeOffsetY=-1,this._getQueryElevationDependencies=B((i,n,o,a,l)=>i?{elevationInfo:i,visibleLayers:n,view:o,stationary:a,spatialReference:l}:null)}get queryElevationDependencies(){const t=this._viewModel?.view;return t==null?null:this._getQueryElevationDependencies(this._elevationInfo,this._visibleLayers,t,t.stationary,t.spatialReference)}get available(){return!this._viewModel?.inputIsSketched}get _elevationInfo(){const t=this._viewModel?.input;return t?lt(t):null}get _visibleLayers(){return this._viewModel?.view?.map?.allLayers?.filter(t=>t.visible).toArray()??[]}async queryElevation(t,{noDataValue:i,signal:n}){const o=this.queryElevationDependencies;if(o==null)throw new Error("ElevationProfileLineInput: no dependencies");const{view:a,elevationInfo:l,spatialReference:c}=o;if(l.mode==="on-the-ground"&&a.type==="3d"&&c){const d=await ut.fromGeometry(t).project(c,n);if(!d)return{geometry:t,noDataValue:i};const h=a.elevationProvider;return d.coordinates.forEach(u=>{u.z=h.getElevation(u.x,u.y,0,c,"ground")??0}),{geometry:d.export(),noDataValue:i}}return{geometry:t,noDataValue:i}}attach(t){const i=()=>this._onChange();return de([super.attach(t),S(()=>this.queryElevationDependencies,i),ht(()=>t.elevationProvider,"elevation-change",i,{onListenerAdd:i,onListenerRemove:i})])}};s([r({type:Z,nonNullable:!0})],W.prototype,"color",void 0),s([r()],W.prototype,"viewVisualizationEnabled",void 0),s([r()],W.prototype,"queryElevationDependencies",null),s([r()],W.prototype,"available",null),s([r()],W.prototype,"_elevationInfo",null),s([r()],W.prototype,"_visibleLayers",null),W=s([k("esri.widgets.ElevationProfile.ElevationProfileLineInput")],W);const cn=W;let ee=class extends ye{constructor(t){super(t),this.type="query",this.color=new Z("#db334a"),this.viewVisualizationEnabled=!0,this.source=null,this.numSamplesForPreview=50,this.numSamplesPerChunk=500}get minDemResolution(){return wt(this.source)}get available(){const t=this.source;return!!t&&(t.visible==null||t.visible)&&(t.layers==null||t.layers.some(i=>i.visible))}queryElevation(t,i){if(!this.source)throw new Error("No source configured for the elevation profile line");return this.source.queryElevation(t,i)}attach(t){return de([super.attach(t),S(()=>this.source,()=>this._onChange(),ct)])}};s([r({type:Z,nonNullable:!0})],ee.prototype,"color",void 0),s([r()],ee.prototype,"viewVisualizationEnabled",void 0),s([r()],ee.prototype,"source",void 0),s([r({readOnly:!0})],ee.prototype,"minDemResolution",null),s([r()],ee.prototype,"available",null),ee=s([k("esri.widgets.ElevationProfile.ElevationProfileLineQuery")],ee);const dn=ee,un=2e5;let M=class extends ye{constructor(e){super(e),this.type="view",this.color=new Z("#cf4ccf"),this.viewVisualizationEnabled=!0,this.include=null,this.exclude=null,this.numSamplesForPreview=50,this.numSamplesPerChunk=25,this._getQueryElevationDependencies=B((t,i,n,o,a,l,c)=>({inputGraphicUid:t!=null?Et(t):null,visibleLayers:i,maxIntersectionDistance:n,intersectOptions:o,view:a,stationary:l,spatialReference:c})),this._vecA=Ne(),this._vecB=Ne(),this._ray=Xt()}get minDemResolution(){const e=this._viewModel?.view;if(e==null||e.type!=="3d")return null;const t=e.pointsOfInterest?.focus?.worldUnitsPerContentPixel;return t==null?null:t*ne(e.spatialReference)}get queryElevationDependencies(){const e=this._view;return e?this._getQueryElevationDependencies(this._viewModel?.input,this._visibleLayers,this._maxIntersectionDistance,this._intersectOptions,e,e.stationary,e.spatialReference):null}get _visibleLayers(){return this._view?.map?.allLayers?.filter(e=>e.visible).toArray()??[]}get _intersectOptions(){const e=this._view;return e==null||e.destroyed?{}:Jt(e,{include:this.include,exclude:[...this._pointCloudLayers,...ei(this.exclude)?this.exclude:this.exclude?[this.exclude]:[]]})}get _pointCloudLayers(){const e=this._view;return e==null?[]:e.allLayerViews.toArray().filter(t=>t.layer?.type==="point-cloud").map(t=>t.layer)}get _view(){const e=this._viewModel?.view;return e!=null&&e.type==="3d"?e:null}get _maxIntersectionDistance(){const e=this._view;return e?.renderCoordsHelper?ti(e.spatialReference).radius/e.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY}get _intersector(){const e=this._view;if(e==null)return null;const t=new ii(e.state.viewingMode),i=t.options;return i.hud=!1,i.invisibleTerrain=!1,i.backfacesTerrain=!1,i.selectionMode=!1,i.store=2,t}async queryElevation(e,{noDataValue:t,signal:i}){const n=this.queryElevationDependencies;if(n==null)throw new Error("ElevationProfileLineInput: no dependencies");const o=this._intersector;if(o==null)throw new Error("ElevationProfileLineInput: no view");const{intersectOptions:a,view:l,spatialReference:c}=n,d=l.renderCoordsHelper,h=l.sceneIntersectionHelper,u=this._vecA,p=this._vecA,g=this._vecB,f=this._ray;if(!c)return{geometry:e,noDataValue:t};const y=await ut.fromGeometry(e).project(c,i);if(!y)return{geometry:e,noDataValue:t};const w=y.coordinates,_=w.length;for(let C=0;C<_;++C){const $=w[C];ni(g,$.x,$.y,$.z??0),d.toRenderCoords(g,c,g),d.setAltitude(u,un,g);const U=si(u,g,f);h.computeIntersection(U,o,!0,a);const R=hn(n,o.results.all);R?(R.getIntersectionPoint(p),d.fromRenderCoords(p,p,c),$.z=p[2]):$.z=t}return{geometry:y.export(),noDataValue:t}}attach(e){const t=()=>this._onChange();return de([super.attach(e),S(()=>this.queryElevationDependencies,t),ht(()=>e.elevationProvider,"elevation-change",t,{onListenerAdd:t,onListenerRemove:t})])}};function hn({view:e,inputGraphicUid:t,maxIntersectionDistance:i},n){for(const o of n){if(!o.withinDistance(i))continue;const a=oi(o,e);if(a==null||Et(a)!==t)return o}return null}function Et(e){if(e.layer&&"objectIdField"in e.layer){const t=e.attributes[e.layer.objectIdField];if(t)return`o-${e.layer.id}-${t}`}return`u-${e.uid}`}s([r({type:Z,nonNullable:!0})],M.prototype,"color",void 0),s([r()],M.prototype,"viewVisualizationEnabled",void 0),s([r()],M.prototype,"include",void 0),s([r()],M.prototype,"exclude",void 0),s([r({readOnly:!0})],M.prototype,"minDemResolution",null),s([r()],M.prototype,"queryElevationDependencies",null),s([r()],M.prototype,"_visibleLayers",null),s([r()],M.prototype,"_intersectOptions",null),s([r()],M.prototype,"_pointCloudLayers",null),s([r()],M.prototype,"_view",null),s([r()],M.prototype,"_maxIntersectionDistance",null),s([r()],M.prototype,"_intersector",null),M=s([k("esri.widgets.ElevationProfile.ElevationProfileLineView")],M);const pn=M,vn={base:ye,key:"type",typeMap:{ground:Ct,input:cn,query:dn,view:pn},errorContext:"elevation-profile-line"},gn=Ue.ofType(vn);function fn(e){return e==="2d"?new li({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[5,4],lineDashEnding:"FullGap",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",width:1.5,color:[0,0,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",width:1.5,color:[255,255,255,255]}]}}}):new ci({color:[0,0,0,0]})}let O=class extends ce{constructor(e){super(e),this.state="ready",this._pendingStartOptions=null,this._previousInputInfo=null,this._shouldRemoveLastPoint=!1,this._sketchedGraphics=new WeakSet,this._creationToolPromise=null,this._updateToolPromise=null,this._updateDisabled=!1}initialize(){this.addHandles(S(()=>({view:this.tool.viewModel.view,visible:this.tool.visible}),({view:e,visible:t})=>{e!=null&&t?this._attach(e):this._detach()},Y),"view")}destroy(){this._detach()}get canStopCreating(){const e=this._geometry,t=this._shouldRemoveLastPoint?3:2;return me(e)&&e.paths.length>0&&e.paths[0].length>=t}get _input(){return this.tool.viewModel.input}set _input(e){this.tool.viewModel.input=e}get _geometry(){return this._input?.geometry}get _visibleAndEditable(){return this.tool.visible&&this.tool.editable}get _view(){return this.tool.viewModel.view}get test(){}start(e={mode:"sketch"}){if(!this.tool.editable)return;const t=this._view;if(t!=null&&t.ready)switch(this._pendingStartOptions=null,this._stopInteraction(),this._previousInputInfo==null&&this._storePreviousInput(this._input),this._setSketchedGraphic(null),e.mode){case"sketch":this._set("state","creating"),this._startCreationInteraction();break;case"select":this._set("state","selecting"),this._startSelectionInteraction()}else this._pendingStartOptions=e}stop(){this._pendingStartOptions=null,this._stopInteractionAndUpdate(),this._clearPreviousInput()}cancel(){this._pendingStartOptions=null,this._stopInteractionAndUpdate(),this._restorePreviousInput()}clear(){this._stopInteractionAndUpdate(),this._set("state","ready"),this._clearPreviousInput(),this._input=null,this._pendingStartOptions=null}isSketchedGraphic(e){return e!=null&&this._sketchedGraphics.has(e)}_attach(e){this._detach();const t={mode:e.type==="3d"?"relative-to-ground":"on-the-ground",offset:null};this._graphicsLayer=new Si({listMode:"hide",internal:!0,elevationInfo:t,title:"Elevation info"});const i=fn(e.type);this._sketchVM=new ki({layer:this._graphicsLayer,view:e,defaultCreateOptions:{mode:"click",hasZ:!1},updateOnGraphicClick:!1,defaultUpdateOptions:{reshapeOptions:{shapeOperation:"none"},enableRotation:!1,enableScaling:!1,enableMoveAllGraphics:!1,enableZ:!1,multipleSelectionEnabled:!1,toggleToolOnClick:!1,tool:"reshape"},polylineSymbol:i,activeLineSymbol:i}),this.addHandles([ri(()=>e.ready,()=>{const n=this._pendingStartOptions;n&&this.start(n)},Y),S(()=>[this._input,this._visibleAndEditable],()=>this._update(),Y),S(()=>({map:e.map,graphicsLayer:this._graphicsLayer}),({map:n,graphicsLayer:o})=>{n!=null&&o!=null&&n.add(o),this._update()},Y)],"main")}_detach(){this.removeHandles("main"),this._sketchVM=L(this._sketchVM),this._creationToolPromise=null,this._updateToolPromise=null;const e=this._view?.map,t=this._graphicsLayer;e!=null&&t!=null&&e.remove(t),this._graphicsLayer=L(this._graphicsLayer),this._shouldRemoveLastPoint=!1,this._set("state","ready")}_startCreationInteraction(){this._stopInteractionAndUpdate();const e=this._view,t=this._sketchVM;if(e==null||t==null)return;this._shouldRemoveLastPoint=!1;const i=t.on("create",o=>{const a=o.graphic;switch(o.state){case"complete":this._shouldRemoveLastPoint=!1,this._setSketchedGraphic(a),this._stopInteractionAndUpdate(),this._clearPreviousInput();break;case"cancel":this.cancel();break;case"active":this._setSketchedGraphic(a),o.toolEventInfo?.type==="cursor-update"&&(this._shouldRemoveLastPoint=!0);break;case"start":this._setSketchedGraphic(a)}}),n=()=>{i.remove();const o=this.canStopCreating,a=this._geometry?.clone();t.cancel(),this._creationToolPromise=null,a!=null&&o?this._shouldRemoveLastPoint&&this._setSketchedGraphic(new pt({geometry:_n(a)})):this._input=null};this.removeHandles("interaction"),this.addHandles(Ie(n),"interaction"),this._creationToolPromise=Ze(t.create("polyline"))}_startReshapeInteraction(){this._stopInteraction();const e=this._view,t=this._sketchVM;if(e==null||t==null)return;const i=t.on("update",a=>{const l=a.graphics[0];switch(a.state){case"complete":this._setSketchedGraphic(l),this._stopInteractionAndUpdate(),this._clearPreviousInput();break;case"active":case"start":this._setSketchedGraphic(l)}}),n=()=>{i.remove(),t.cancel(),this._updateToolPromise=null};this.removeHandles("interaction"),this.addHandles(Ie(n),"interaction");const o=this._input;o&&(o.visible=!0,this._updateToolPromise=Ze(t.update(o,{tool:"reshape"})))}_startSelectionInteraction(){this._stopInteraction();const e=this._view;if(e==null)return;const t=e.acquireCursor("crosshair","high");e.closePopup();let i=null;const n=Ie(()=>se(i)),o=e.on("immediate-click",l=>{l.defer(async()=>{se(i),i=ke(async c=>{const{results:d}=await e.hitTest(l);X(c);const h=d.filter(u=>u.type==="graphic").map(u=>u.graphic).find(u=>u.geometry!=null&&u.geometry.type==="polyline");h&&(l.preventDefault(),l.stopPropagation(),this._input=h,this._clearPreviousInput(),this._stopInteractionAndUpdate())}),await i.promise})},ai.TOOL),a=e.on("key-down",l=>{l.key==="Escape"&&this.cancel()});this.removeHandles("interaction"),this.addHandles([o,a,n,t],"interaction"),e.ready&&e.focus()}_stopInteraction(){this.removeHandles("interaction")}_stopInteractionAndUpdate(){this.hasHandles("interaction")&&(this._updateDisabled=!0,this._stopInteraction(),this._updateDisabled=!1,this._triggerUpdate())}_triggerUpdate(){this._set("state","ready"),this._update()}_update(){if(this._updateDisabled)return;const e=this.state;if(e!=="selecting"){if(this._visibleAndEditable){if(e==="creating"||e==="reshaping"&&this.isSketchedGraphic(this._input))return}else this.cancel();this._set("state",this._getNextState()),this._updateVisuals()}else this.stop()}_getNextState(){return this._input==null?"ready":this.isSketchedGraphic(this._input)?this.state==="creating"?"creating":this._visibleAndEditable?"reshaping":"reshaping-disabled":"selected"}_updateVisuals(){switch(this.state){case"creating":break;case"reshaping":this._startReshapeInteraction();break;case"reshaping-disabled":{this._stopInteractionAndUpdate();const e=this._input;e!=null&&this.isSketchedGraphic(e)&&(e.visible=!1);break}case"ready":case"selected":this._stopInteractionAndUpdate()}this._updateSketchedGraphic()}_storePreviousInput(e){this._previousInputInfo={graphic:e}}_restorePreviousInput(){const e=this._previousInputInfo;e!=null&&(this._clearPreviousInput(),this._input=e.graphic,this._triggerUpdate())}_clearPreviousInput(){this._previousInputInfo=null}_updateSketchedGraphic(){const e=this._graphicsLayer;if(e==null)return;const t=e.graphics,i=this._input;if(i==null||!this.isSketchedGraphic(i))return void t.removeAll();if(t.indexOf(i)===-1)t.removeAll(),t.add(i);else if(t.length!==1){const n=t.filter(o=>o!==i);t.removeMany(n)}}_setSketchedGraphic(e){e!=null&&this._sketchedGraphics.add(e),this._input=e,this._updateSketchedGraphic()}};function _n(e){if(me(e)){const t=e.clone();return t.paths=[t.paths[0].slice(0,-1)],t}return e}s([r({nonNullable:!0})],O.prototype,"state",void 0),s([r({nonNullable:!0})],O.prototype,"tool",void 0),s([r()],O.prototype,"canStopCreating",null),s([r()],O.prototype,"_graphicsLayer",void 0),s([r()],O.prototype,"_sketchVM",void 0),s([r()],O.prototype,"_input",null),s([r()],O.prototype,"_geometry",null),s([r()],O.prototype,"_visibleAndEditable",null),s([r()],O.prototype,"_view",null),s([r()],O.prototype,"_shouldRemoveLastPoint",void 0),O=s([k("esri.widgets.ElevationProfile.ElevationProfileInteraction")],O);let Ce=class extends ce{constructor(e){super(e),this._implementation=null,this._loadingTask=null}initialize(){this.addHandles(S(()=>({tool:this.tool,view:this.tool.viewModel.view,visible:this.tool.visible&&!!this.tool.viewModel.view?.ready}),({tool:e,view:t,visible:i})=>{t!=null&&i?this._show(t,e):this._hide()},Y))}destroy(){this._hide()}_show(e,t){this._loadingTask=se(this._loadingTask),this._loadingTask=ke(async i=>{if(e.type==="2d"){const n=I(()=>import("./ElevationProfileView2D-URE7sLvV.js"),__vite__mapDeps([11,1,2,12,13,14,15,16,3,17,5,4,6,7,8,10,9,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39])),o=(await qe(n,i)).ElevationProfileView2D;this._implementation=new o(e,t)}else if(e.type==="3d"){const n=I(()=>import("./ElevationProfileView3D-BWnhew2G.js"),__vite__mapDeps([40,1,2,12,13,14,15,16,3,17,5,4,6,7,8,10,9,18,19,20,41,42,43,44,45,46,47,48,49,37,50,51,21,23,24,22,25,26,27,28,29,30,31,32,33,34,35,36,38,39])),o=(await qe(n,i)).ElevationProfileView3D;this._implementation=new o(e,t)}})}_hide(){this._loadingTask=se(this._loadingTask),this._implementation=L(this._implementation)}};s([r()],Ce.prototype,"tool",void 0),Ce=s([k("esri.widgets.ElevationProfile.support.ElevationProfileView")],Ce);let Q=class extends ce{constructor(t){super(t),this.editable=!0,this.visible=!0,this.highlightEnabled=!0}initialize(){this.view=new Ce({tool:this}),this.interaction=new O({tool:this})}destroy(){this.interaction.destroy(),this.view.destroy()}get state(){switch(this.interaction?.state){case"ready":return"ready";case"creating":return"creating";case"selecting":return"selecting";case"selected":return"selected";case"reshaping":case"reshaping-disabled":return"created"}}};s([r({nonNullable:!0})],Q.prototype,"viewModel",void 0),s([r()],Q.prototype,"view",void 0),s([r()],Q.prototype,"interaction",void 0),s([r()],Q.prototype,"editable",void 0),s([r()],Q.prototype,"visible",void 0),s([r()],Q.prototype,"highlightEnabled",void 0),Q=s([k("esri.widgets.ElevationProfile.ElevationProfileTool")],Q);let m=class extends ce{constructor(e){super(e),this.view=null,this.input=null,this._getEffectiveUnitsMemoized=B((t,i)=>({distance:t,elevation:i})),this.hoveredChartPosition=null,this.uniformChartScaling=!1,this.defaultUnit=null,this.queue=null,this._currentTileCache=null,this.error=null,this._defaultProfileLineGround=new Ct,this._userUnitOptions=null,this._userUnit=null,e?.profiles||(this.profiles=new Ue([this._defaultProfileLineGround]))}initialize(){this.addHandles(S(()=>this.view,e=>{if(e==null)return void di.getLogger(this).warnOnce("no view. Widget will be disabled until a view is provided.");this.removeHandles(nt);const t=e.type==="3d"?e.resourceController:void 0;this.queue?.destroy(),this.queue=Yi(t?.scheduler);const i=t?.addUpdatingObject(this);i&&this.addHandles(i,nt)},Y)),this.tool=new Q({viewModel:this}),this._controller=new J({viewModel:this})}destroy(){this._defaultProfileLineGround=L(this._defaultProfileLineGround),this._controller=L(this._controller),this._currentTileCache=L(this._currentTileCache),this.tool=L(this.tool),this.queue=L(this.queue)}get profiles(){return this._get("profiles")}set profiles(e){const t=this._get("profiles"),i=e??new Ue;this._set("profiles",ui(i,t))}get state(){const e=this.view;return e!=null&&e.ready?this.tool.state:"disabled"}get progress(){let e=0,t=0;for(const i of this.visibleProfiles)e++,t+=i.progress;return e>0?t/e:0}set unitOptions(e){this._userUnitOptions=e,this._set("unitOptions",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(e){this._userUnit=e?this._findSelectableUnit(e,this._userUnit):null,this.notifyChange("unit")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}get effectiveUnits(){const e=ji(this.visibleProfiles.map(n=>n.result)),t=hi(e.maxDistance,"meters",this.unit),i=pi(e.maxElevation,"meters",this.unit);return this._getEffectiveUnitsMemoized(t,i)}get highlightEnabled(){return this.tool.highlightEnabled}set highlightEnabled(e){this.tool.highlightEnabled=e}get hasVertices(){const e=this.input?.geometry;return me(e)&&e.paths.reduce((t,i)=>t+i.length,0)>0}get hoveredPoints(){return this.input!=null&&this.visible&&this.tool.editable?this.visibleProfiles.map(e=>{const t=e.hoveredPoint;return t!=null?{hoveredPoint:t,color:e.color}:null}).filter(Te):[]}get statistics(){return Fi(this.visibleProfiles.map(e=>e.statistics))}get chartData(){if(this.input==null)return null;const{effectiveUnits:e,progress:t,statistics:i,visibleProfiles:n,uniformChartScaling:o}=this,a=n.filter(l=>l.hasZ).map(l=>({id:l.id,type:l.type,title:l.title,color:l.color,samples:l.samples,progress:l.progress,chartFillEnabled:l.chartFillEnabled,chartStrokeWidth:l.chartStrokeWidth,chartStrokeOffsetY:l.chartStrokeOffsetY,viewVisualizationEnabled:l.viewVisualizationEnabled}));return a.length===0?null:{lines:a,effectiveUnits:e,statistics:i,refined:t===1,dynamicElevationRange:n.some(l=>l.type==="view"),uniformScaling:o}}get visibleProfiles(){return this.profiles.toArray().filter(e=>e.available&&e.visible)}get minDemResolutions(){const e=[];for(const{minDemResolution:t}of this.visibleProfiles)t!=null&&e.push(t);return e}get minDemResolution(){return dt(this.minDemResolutions)}get errorState(){const e=this.input?.geometry;if(!Ve(e))return"no-valid-input";if(this.error!=null){if(Ri(this.error))switch(this.error.cause){case"too-complex":return"too-complex";case"invalid-geometry":return"invalid-geometry";case"invalid-elevation-info":return"invalid-elevation-info";case"elevation-query-error":return"no-valid-input"}return"unknown-error"}return this.visibleProfiles.length===0?"no-visible-profiles":this.chartData==null&&this.progress===1?"refined-but-no-chart-data":"none"}get tileCache(){this._currentTileCache=L(this._currentTileCache);const e=this.view;if(e!=null&&e?.type==="3d"){const t=e.basemapTerrain?.elevationQueryCache;if(t!=null)return t}return this._currentTileCache==null&&(this._currentTileCache=new vi(new gi(20971520))),this._currentTileCache}get visible(){return this.tool.visible}set visible(e){this.tool.visible=e}get selectAvailable(){for(const e of this.view?.map?.allLayers??[])if(e.type==="graphics"&&!e.internal&&e.graphics.some(t=>t.geometry?.type==="polyline")||"geometryType"in e&&e.geometryType==="polyline")return!0;return!!this.view?.graphics?.some(e=>e.geometry?.type==="polyline")}get inputIsSketched(){return this.tool.interaction.isSketchedGraphic(this.input)}get elevationProvider(){const e=this.view;return e!=null&&e.type==="3d"?e.elevationProvider:null}get updating(){const{progress:e}=this,t=!!this.queue?.updating;return e>0&&e<1||t}start(e){this.tool.interaction.start(e)}stop(){this.tool.interaction.stop()}cancel(){this.tool.interaction.cancel()}clear(){this.tool.interaction.clear()}_findSelectableUnit(e,t){const i=this.unitOptions;return e!=null&&i.includes(e)?e:t?this._findSelectableUnit(t):i[0]}_filteredOrAllUnits(e){const t=(e??[]).filter(i=>He.includes(i));return t.length===0?He.slice():t}};s([r()],m.prototype,"view",void 0),s([r({type:pt})],m.prototype,"input",void 0),s([r({type:gn,nonNullable:!0})],m.prototype,"profiles",null),s([r({readOnly:!0})],m.prototype,"state",null),s([r({readOnly:!0})],m.prototype,"progress",null),s([r()],m.prototype,"unitOptions",null),s([r()],m.prototype,"unit",null),s([r({readOnly:!0})],m.prototype,"effectiveUnits",null),s([r()],m.prototype,"hoveredChartPosition",void 0),s([r()],m.prototype,"uniformChartScaling",void 0),s([r()],m.prototype,"highlightEnabled",null),s([r({readOnly:!0})],m.prototype,"hoveredPoints",null),s([r({readOnly:!0})],m.prototype,"statistics",null),s([r()],m.prototype,"chartData",null),s([r()],m.prototype,"visibleProfiles",null),s([r()],m.prototype,"minDemResolutions",null),s([r({readOnly:!0})],m.prototype,"minDemResolution",null),s([r({readOnly:!0})],m.prototype,"errorState",null),s([r(Ei)],m.prototype,"defaultUnit",void 0),s([r()],m.prototype,"queue",void 0),s([r()],m.prototype,"tileCache",null),s([r()],m.prototype,"tool",void 0),s([r()],m.prototype,"visible",null),s([r()],m.prototype,"error",void 0),s([r()],m.prototype,"selectAvailable",null),s([r()],m.prototype,"inputIsSketched",null),s([r()],m.prototype,"elevationProvider",null),s([r()],m.prototype,"updating",null),s([r()],m.prototype,"_defaultProfileLineGround",void 0),s([r()],m.prototype,"_userUnitOptions",void 0),s([r()],m.prototype,"_controller",void 0),s([r()],m.prototype,"_userUnit",void 0),m=s([k("esri.widgets.ElevationProfile.ElevationProfileViewModel")],m);const nt=Symbol("updating-object"),Pt=m;let T=class extends ce{constructor(){super(...arguments),this.legend=!0,this.chart=!0,this.clearButton=!0,this.settingsButton=!0,this.sketchButton=!0,this.selectButton=!0,this.unitSelector=!0,this.uniformChartScalingToggle=!0}};s([r()],T.prototype,"legend",void 0),s([r()],T.prototype,"chart",void 0),s([r()],T.prototype,"clearButton",void 0),s([r()],T.prototype,"settingsButton",void 0),s([r()],T.prototype,"sketchButton",void 0),s([r()],T.prototype,"selectButton",void 0),s([r()],T.prototype,"unitSelector",void 0),s([r()],T.prototype,"uniformChartScalingToggle",void 0),T=s([k("esri.widgets.ElevationProfile.ElevationProfileVisibleElements")],T);const St=T,mn=100;let te=class extends _e{constructor(e,t){super(e,t),this._updateLayout=i=>{const n=i.parentElement,o=i.style.display;n?.removeChild(i),document.body.appendChild(i),i.style.display="block";let a=80;for(const l of i.childNodes)l instanceof HTMLElement&&(a=Math.max(a,l.offsetWidth));document.body.removeChild(i),n?.appendChild(i),i.style.display=o,i.style.setProperty("--max-width",`${a}px`)},this._updateLayoutThrottled=vt(this._updateLayout,mn)}loadDependencies(){return $e({icon:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.Ou),__vite__mapDeps([1,2]))})}initialize(){this.addHandles(this._updateLayoutThrottled)}render(){return v("div",{afterCreate:this._updateLayout,afterUpdate:this._updateLayoutThrottled,bind:this,class:ve.base},this._renderStatistics())}_renderStatistics(){const e=this._messages?.statistics;return e?[this._renderDistanceStatistic("maxDistance",e.maxDistance),this._renderElevationStatistic("elevationGain",e.gain),this._renderElevationStatistic("elevationLoss",e.loss),this._renderElevationStatistic("minElevation",e.minElevation),this._renderElevationStatistic("maxElevation",e.maxElevation),this._renderElevationStatistic("avgElevation",e.avgElevation),this._renderSlopeStatistic("maxPositiveSlope","maxNegativeSlope",e.maxSlope),this._renderSlopeStatistic("avgPositiveSlope","avgNegativeSlope",e.avgSlope)]:[]}_renderDistanceStatistic(e,t){const i=A().formatPrecision,n=this._renderValue(e,o=>{const a=this.effectiveUnits.distance;return Fe(this._messagesUnits,o,a,i)});return this._renderStatistic(t,n)}_renderElevationStatistic(e,t){const i=A().formatPrecision,n=this._renderValue(e,o=>{const a=this.effectiveUnits.elevation;return Fe(this._messagesUnits,o,a,i)});return this._renderStatistic(t,n)}_renderSlopeStatistic(e,t,i){const n=A().formatPrecision,o=v("div",{class:ve.slopeValue,key:"slope-up"},v("calcite-icon",{icon:"arrow-up",scale:"s"}),this._renderValue(e,a=>je(a,"degrees","geographic","geographic",n)),v("calcite-icon",{icon:"arrow-down",scale:"s"}),this._renderValue(t,a=>je(a,"degrees","geographic","geographic",n)));return this._renderStatistic(i,o)}_renderStatistic(e,t){return v("div",{class:ve.statistic},v("label",{class:ve.statisticLabel},e),v("div",{class:ve.statisticValue},t))}_renderValue(e,t){const i=this.line,n=i.progress===1?i.statistics:null,o=n?.[e];return o!=null?t(o):Ii}};s([r()],te.prototype,"effectiveUnits",void 0),s([r()],te.prototype,"line",void 0),s([r(),fe("esri/widgets/ElevationProfile/t9n/ElevationProfile")],te.prototype,"_messages",void 0),s([r(),fe("esri/core/t9n/Units")],te.prototype,"_messagesUnits",void 0),te=s([k("esri.widgets.ElevationProfile.components.Statistics")],te);function st(e,{profiles:t}){const i=e.title;if(i!=null)return i;switch(e.type){case"ground":return t.ground;case"input":return t.input;case"query":return t.query;case"view":return t.view;default:return""}}let V=class extends _e{constructor(e,t){super(e,t),this.checkboxVisible=!0,this.expanded=!1}loadDependencies(){return $e({action:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.OR),__vite__mapDeps([1,2])),checkbox:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.Pe),__vite__mapDeps([1,2])),label:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.P9),__vite__mapDeps([1,2]))})}initialize(){this._statistics=new te(this._statisticsProps),this.addHandles(S(()=>this._statisticsProps,e=>this._statistics.set(e)))}destroy(){this._statistics=L(this._statistics)}render(){const e=this.expanded;return v("div",{class:this.classes(j.base,{[j.disabled]:this.disabled,[j.expanded]:e}),key:this},this._renderColorIndicator(),v("div",{class:j.header,key:"header"},this._renderLabelWithCheckbox(),this._renderCollapseToggleButton()),e?v("div",{class:j.content,key:"content"},this._statistics.render()):null)}get disabled(){return!this.line.available}get _statisticsProps(){return{line:this.line,effectiveUnits:this.effectiveUnits}}_renderColorIndicator(){return v("div",{class:j.colorIndicator,key:"color-indicator",styles:{backgroundColor:this.line.color.toCss()}})}_renderCollapseToggleButton(){const{expanded:e,messages:t}=this,i=e?t.hideDetails:t.showDetails;return v("calcite-action",{appearance:"transparent",bind:this,class:j.collapseToggle,"data-testid":"legend-toggle",icon:e?"chevron-up":"chevron-down",key:"collapse-toggle",onclick:this._onCollapseToggleClick,scale:"s",text:i,title:i})}_onCollapseToggleClick(){this.onExpandedToggle()}_renderLabelWithCheckbox(){const{line:e,checkboxVisible:t,disabled:i,messages:n}=this;return v("calcite-label",{class:j.label,disabled:i,key:`label-${e.id}`,layout:"inline"},t?this._renderCheckbox():null,st(e,n))}_renderCheckbox(){const{disabled:e,line:t,messages:i}=this,n=t.visible,o=n?i.hideProfile:i.showProfile,a=fi(o,{name:st(t,i)});return v("calcite-checkbox",{checked:n,class:j.checkbox,disabled:e,title:a,onCalciteCheckboxChange:()=>t.toggleVisibility()})}};s([r()],V.prototype,"checkboxVisible",void 0),s([r()],V.prototype,"disabled",null),s([r({nonNullable:!0})],V.prototype,"effectiveUnits",void 0),s([r()],V.prototype,"expanded",void 0),s([r({nonNullable:!0})],V.prototype,"line",void 0),s([r()],V.prototype,"messages",void 0),s([r()],V.prototype,"onExpandedToggle",void 0),s([r()],V.prototype,"_statistics",void 0),V=s([k("esri.widgets.ElevationProfile.components.LegendItem")],V);let ie=class extends _e{constructor(){super(...arguments),this._expandedLine=null}render(){const{profiles:e,messages:t,effectiveUnits:i,_expandedLine:n}=this;return v("div",{class:Mi.base},e.map(o=>v(V,{checkboxVisible:e.length>1,effectiveUnits:i,expanded:o===n,line:o,messages:t,onExpandedToggle:()=>this._onExpandedToggle(o)})))}_onExpandedToggle(e){this._expandedLine=e===this._expandedLine?null:e}};s([r()],ie.prototype,"effectiveUnits",void 0),s([r()],ie.prototype,"messages",void 0),s([r()],ie.prototype,"profiles",void 0),s([r()],ie.prototype,"_expandedLine",void 0),ie=s([k("esri.widgets.ElevationProfile.components.Legend")],ie);let D=class extends _e{constructor(){super(...arguments),this.messages=null,this._popoverIsOpen=!1,this._referenceElement=null,this._onUniformChartScalingChange=e=>{this.onUniformChartScalingChange(e.currentTarget.checked)}}loadDependencies(){return $e({action:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.OR),__vite__mapDeps([1,2])),checkbox:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.Pe),__vite__mapDeps([1,2])),label:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.P9),__vite__mapDeps([1,2])),popover:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.OS),__vite__mapDeps([1,2]))})}render(){const{id:e,messages:t,visibleElements:i}=this,{unitSelector:n,uniformChartScalingToggle:o}=i;if(!t||!n&&!o)return v("div",{key:`${e}-empty`});const a=this._popoverIsOpen?t.hideSettings:t.showSettings;return v("div",{class:xe.base,key:this},v("calcite-action",{afterCreate:l=>{this._referenceElement=l},appearance:"transparent","data-testid":"settings-button",icon:"gear",scale:"s",text:a,title:a}),this._referenceElement?v("calcite-popover",{autoClose:!0,label:a,placement:"bottom-end",referenceElement:this._referenceElement,onCalcitePopoverClose:()=>{this._popoverIsOpen=!1},onCalcitePopoverOpen:()=>{this._popoverIsOpen=!0}},this._renderPopoverContent()):null)}_renderPopoverContent(){const{unitSelector:e,uniformChartScalingToggle:t}=this.visibleElements;return v("div",{class:xe.popoverContent},e?this._renderUnitSelector():null,t?this._renderUniformChartScalingToggle():null)}_renderUnitSelector(){const{messages:e}=this;return v($i,{key:"unit-selector-label",options:this.unitOptions,selectLabel:e?.unitSelectLabel??"",value:this.unit,onChange:this.onUnitChange})}_renderUniformChartScalingToggle(){const{messages:e}=this,t=this.uniformChartScaling,i=e?.[t?"uniformChartScalingDisable":"uniformChartScalingEnable"]??"";return v("calcite-label",{class:xe.uniformChartScalingLabel,key:"uniform-chart-scaling-label",layout:"inline"},v("calcite-checkbox",{checked:t,class:xe.uniformChartScalingCheckbox,title:i,onCalciteCheckboxChange:this._onUniformChartScalingChange}),e?.uniformChartScalingLabel)}};s([r()],D.prototype,"messages",void 0),s([r()],D.prototype,"onUniformChartScalingChange",void 0),s([r()],D.prototype,"onUnitChange",void 0),s([r()],D.prototype,"uniformChartScaling",void 0),s([r()],D.prototype,"unit",void 0),s([r()],D.prototype,"unitOptions",void 0),s([r()],D.prototype,"visibleElements",void 0),s([r()],D.prototype,"_popoverIsOpen",void 0),s([r()],D.prototype,"_referenceElement",void 0),D=s([k("esri.widgets.ElevationProfile.components.SettingsButton")],D);const ge=[{type:"select"},{type:"sketch"}],yn={none:null,"no-valid-input":"noProfile","no-visible-profiles":"noProfile","refined-but-no-chart-data":"noProfile","too-complex":"tooComplex","unknown-error":"unknown","invalid-geometry":"invalidGeometry","invalid-elevation-info":"invalidElevationInfo"};let b=class extends _e{constructor(e,t){super(e,t),this.viewModel=null,this.visibleElements=new St,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this._chartContainer=null,this._chart=null,this._chartInitTask=null,this._chartIsRefined=!1,this._zoomOutButtonVisible=!1,this._getChartUpdateParamsMemoized=B((i,n,o,a)=>({chart:i,data:n,stationary:o,messages:a})),this._onZoomOutButtonClick=()=>{this._chart?.zoomOut()},this._onClearButtonClick=()=>{this.viewModel.clear()},e?.viewModel||(this._defaultViewModel=new Pt({view:e?.view}),this.viewModel=this._defaultViewModel)}loadDependencies(){return $e({action:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.OR),__vite__mapDeps([1,2])),button:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.OI),__vite__mapDeps([1,2])),loader:()=>I(()=>import("./index-aRi8Xk-b.js").then(e=>e.OH),__vite__mapDeps([1,2]))})}postInitialize(){this.addHandles([S(()=>({container:this._chartContainer}),({container:e})=>{this._destroyChart(),e!=null&&this._initializeChart(e)},We),S(()=>this._chartUpdateParams,()=>this._updateChart(this._chartUpdateParams),We)])}destroy(){this._destroyChart(),this._defaultViewModel!=null&&this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get input(){return this.viewModel.input}set input(e){this.viewModel.input=e}get profiles(){return this.viewModel.profiles}set profiles(e){this.viewModel.profiles=e}get unitOptions(){return this.viewModel.unitOptions}set unitOptions(e){this.viewModel.unitOptions=e}get unit(){return this.viewModel.unit}set unit(e){this.viewModel.unit=e}get icon(){return"altitude"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}get test(){return{chart:this._chart}}get _selectButtonVisible(){return this.visibleElements.selectButton===!0&&this.viewModel.selectAvailable}get _chartUpdateParams(){const e=this.view;return this._getChartUpdateParamsMemoized(this._chart,this.viewModel.chartData,e==null||e.stationary,this._chartMessages)}get _chartMessages(){return{...this.messagesUnits,...this.messages}}get _profilesArray(){return this.profiles.toArray()}render(){const{viewModel:e,visible:t}=this;return v("div",{"aria-label":this.messages.widgetLabel,class:this.classes({[E.base]:t,[Oe.widget]:t,[Oe.panel]:t,[Oe.widgetDisabled]:t&&e.state==="disabled",[E.refined]:e.progress===1}),key:this},v("div",{bind:this,key:"content-wrapper"},t?this._renderContentForState():null))}_renderContentForState(){switch(this.viewModel.state){case"ready":case"disabled":return this._renderContentForReadyState();case"selecting":return this._renderContentForSelectingState();case"creating":return this._renderContentForCreatingState();case"selected":return this._renderContentForSelectedState();case"created":return this._renderContentForCreatedState()}}_renderContentForReadyState(){const{messages:e,visibleElements:t,_selectButtonVisible:i}=this,{sketchButton:n}=t;let o;return o=n&&i?e.readyPrompt:n?e.readyPromptCreateOnly:i?e.readyPromptSelectOnly:e.errors?.noProfile,this._renderContent({prompt:o,chart:!1,actions:ge})}_renderContentForSelectingState(){const{view:e}=this;if(e==null)return null;const t=this.messages[`selectingPrompt-${e.type}`];return this._renderContent({prompt:t,chart:!1,actions:[{type:"select-cancel"}]})}_renderContentForCreatingState(){const{view:e,viewModel:t}=this;if(e==null)return null;const i=t.hasVertices?[{type:"sketch-cancel"},{type:"sketch-done",disabled:!t.tool.interaction.canStopCreating}]:[{type:"select"},{type:"sketch",disabled:!0}];if(t.errorState==="no-valid-input"){const o=this.messages[`creatingPrompt-${e.type}`];return this._renderContent({chart:!1,actions:i,prompt:o})}const n=this._getErrorMessage();return n?this._renderContent({chart:!1,actions:i,prompt:n}):this._renderContent({chart:!0,actions:i})}_renderContentForSelectedState(){const e=this._getErrorMessage();return e?this._renderContent({chart:!1,actions:ge,prompt:e}):this._renderContent({chart:!0,actions:ge})}_renderContentForCreatedState(){const e=this._getErrorMessage();return e?this._renderContent({chart:!1,actions:ge,prompt:e}):this._renderContent({chart:!0,actions:ge})}_getErrorMessage(){const e=yn[this.viewModel.errorState];return e?this.messages?.errors?.[e]:null}_renderContent(e){const t=e.prompt!=null?this._renderPrompt(e.prompt):e.chart&&this._renderChart(),{viewModel:i}=this,n=i.input!=null;return v(Re,null,v("header",{class:E.header,key:"header"},this._zoomOutButtonVisible?this._renderZoomOutButton():null,this.visibleElements.clearButton&&n?this._renderClearButton():null,this.visibleElements.settingsButton?v(D,{messages:this.messages,uniformChartScaling:i.uniformChartScaling,unit:i.unit,unitOptions:i.unitOptions,visibleElements:this.visibleElements,onUniformChartScalingChange:o=>i.uniformChartScaling=o,onUnitChange:o=>i.unit=o}):null),v("div",{class:E.mainContainer,key:"main-container"},t),this.visibleElements.legend?v(ie,{effectiveUnits:i.effectiveUnits,messages:this.messages,profiles:this._profilesArray}):null,this._renderActions(e))}_renderZoomOutButton(){const e=this.messages.zoomOut;return v("calcite-action",{appearance:"transparent",class:E.zoomOutButton,"data-testid":"zoom-out-button",icon:"magnifying-glass-minus",key:"zoom-out",onclick:this._onZoomOutButtonClick,scale:"s",text:e,title:e})}_renderClearButton(){const e=this.messages.clearProfile;return v("calcite-action",{appearance:"transparent",class:E.clearButton,"data-testid":"clear-button",icon:"trash",key:"clear-profile",onclick:this._onClearButtonClick,scale:"s",text:e,title:e})}_renderPrompt(e){return[v("div",{bind:this,class:E.promptContainer,key:"prompt-container"},v("p",null,e))]}_renderChart(){if(!this.visibleElements.chart)return v("div",{class:E.chartContainer,key:"empty-chart-container"});const{chartData:e,progress:t}=this.viewModel,i=this._chartIsRefined||this._canRenderChart(),n=e!=null&&t<1;return i?v(Re,null,this._renderSpinner({size:i?"small":"large",visible:n}),v("div",{afterCreate:this._onChartContainerUpdate,afterRemoved:this._onChartContainerRemoved,afterUpdate:this._onChartContainerUpdate,bind:this,class:E.chartContainer,key:"chart-container"})):v(Re,null,this._renderSpinner({size:"large",visible:n}),v("div",{class:E.chartContainer,key:"chart-container-empty"}))}_renderSpinner(e){const t=e.size==="small",i=e.visible??!0;return v("calcite-loader",{class:this.classes(E.chartSpinner,t&&E.chartSpinnerSmall,i&&E.chartSpinnerVisible),"data-testid":"chart-spinner",inline:t,key:"spinner",label:"",scale:"s"})}_canRenderChart(){const e=this.viewModel.chartData;if(e==null)return!1;if(!this.viewModel.inputIsSketched)return e.refined;let t=0;for(const{samples:i}of e.lines)t+=i!=null?i.length:0;return e.refined||t<=A().largeChartSamples}_renderActions({actions:e}){const t=e.map(i=>{switch(i.type){case"sketch":return this.visibleElements.sketchButton&&this._renderAction({action:i,className:E.sketchButton,label:this.messages.sketchButtonLabel,onClick:this._onSketchButtonClick,primary:!0});case"sketch-cancel":return this.visibleElements.sketchButton&&this._renderAction({action:i,onClick:this._onCancelButtonClick,className:E.sketchCancelButton,label:this.messagesCommon.cancel,primary:!1});case"sketch-done":return this.visibleElements.sketchButton&&this._renderAction({action:i,onClick:this._onDoneButtonClick,className:E.sketchDoneButton,label:this.messagesCommon.done,primary:!0});case"select":return this._selectButtonVisible&&this._renderAction({action:i,onClick:this._onSelectButtonClick,className:E.selectButton,label:this.messages.selectButtonLabel,primary:!1});case"select-cancel":return this._selectButtonVisible&&this._renderAction({action:i,onClick:this._onCancelButtonClick,className:E.selectCancelButton,label:this.messagesCommon.cancel,primary:!1})}}).filter(Boolean);return t.length?v("footer",{class:E.footer,key:"footer"},t):null}_renderAction({action:e,className:t,label:i,onClick:n,primary:o}){return v("calcite-button",{appearance:o?"solid":"outline-fill",bind:this,class:this.classes(E.actionButton,t),disabled:e.disabled,key:`action-${e.type}`,onclick:n},i)}_onSketchButtonClick(){this.viewModel.start({mode:"sketch"})}_onSelectButtonClick(){this.viewModel.start({mode:"select"})}_onCancelButtonClick(){this.viewModel.cancel()}_onDoneButtonClick(){this.viewModel.stop()}_updateChart(e){const{data:t,chart:i,messages:n,stationary:o}=e;i!=null&&n!=null&&o&&this._canRenderChart()&&(i.update(e),this._chartIsRefined=t!=null&&t.refined)}_onChartContainerUpdate(e){this._chartContainer=e}_onChartContainerRemoved(e){this._chartContainer===e&&(this._chartContainer=null)}_initializeChart(e){se(this._chartInitTask),this._chartInitTask=ke(async t=>{const{createChart:i}=await I(()=>import("./chartUtils-CgXGua7r.js"),__vite__mapDeps([52,53,54,1,2,55,56,57,58,59,60,61,62,23,21,24,22,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]));X(t);const n=await i({container:e,abortOptions:{signal:t},onRangeChange:(o,a)=>{this._zoomOutButtonVisible=o!==1||a!==1},onCursorPositionChange:o=>{this.viewModel.hoveredChartPosition=o}});if(t.aborted)throw L(n),_i();this._chart=n,this._updateChart(this._chartUpdateParams)})}_destroyChart(){this._chartInitTask=se(this._chartInitTask),this._chart=L(this._chart),this._chartIsRefined=!1}};s([r({type:Pt})],b.prototype,"viewModel",void 0),s([r()],b.prototype,"view",null),s([r()],b.prototype,"input",null),s([r()],b.prototype,"profiles",null),s([r()],b.prototype,"unitOptions",null),s([r()],b.prototype,"unit",null),s([r({type:St,nonNullable:!0})],b.prototype,"visibleElements",void 0),s([r()],b.prototype,"icon",null),s([r()],b.prototype,"label",null),s([r()],b.prototype,"visible",null),s([r(),fe("esri/widgets/ElevationProfile/t9n/ElevationProfile")],b.prototype,"messages",void 0),s([r(),fe("esri/t9n/common")],b.prototype,"messagesCommon",void 0),s([r(),fe("esri/core/t9n/Units")],b.prototype,"messagesUnits",void 0),s([r()],b.prototype,"_chartContainer",void 0),s([r()],b.prototype,"_chart",void 0),s([r()],b.prototype,"_chartInitTask",void 0),s([r()],b.prototype,"_chartIsRefined",void 0),s([r()],b.prototype,"_zoomOutButtonVisible",void 0),s([r()],b.prototype,"_selectButtonVisible",null),s([r()],b.prototype,"_chartUpdateParams",null),s([r()],b.prototype,"_chartMessages",null),s([r()],b.prototype,"_profilesArray",null),b=s([k("esri.widgets.ElevationProfile")],b);const bn=b;const wn=xi`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}.esri-widget--panel{min-width:300px;min-height:32px;padding:var(--esri-widget-padding);transition:max-height .25s ease-in-out;overflow-y:auto}:host{display:flex;width:550px}.esri-elevation-profile{--popover-padding: 12px 15px;--chart-height: 180px;--calcite-label-margin-bottom: 0;--actions-spacing-h: 7px;--actions-spacing-v: 6px;isolation:isolate;padding:var(--esri-widget-padding);position:relative;container-type:inline-size}.esri-widget--panel{width:100%}.esri-elevation-profile__header{flex-direction:row;justify-content:flex-end;align-items:center;display:flex}.esri-elevation-profile__footer{flex-wrap:wrap;justify-content:flex-end;align-items:center;margin-top:var(--calcite-spacing-md);display:flex}.esri-elevation-profile__footer calcite-button{min-height:var(--calcite-spacing-xxxl)}.esri-elevation-profile__action-button{width:auto;margin-inline-start:var(--actions-spacing-h)}.esri-elevation-profile__main-container{width:100%;height:var(--chart-height);flex-flow:column;display:flex;position:relative}.esri-elevation-profile__chart-container{width:100%;height:100%;position:relative}.esri-elevation-profile__prompt-container{box-sizing:border-box;text-align:center;justify-content:center;align-items:center;height:100%;margin-bottom:0;padding:var(--popover-padding);display:flex}.esri-elevation-profile__prompt-container>p{width:100%;margin:0}.esri-elevation-profile__chart-spinner{transition:opacity .15s ease-in-out;transition-delay:0;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.esri-elevation-profile__chart-spinner--visible{opacity:1;transition-delay:50ms}.esri-elevation-profile__chart-spinner--small{inset-inline-start:0;top:-22px;left:unset;color:var(--calcite-color-brand);transform:none}@container (width<=400px){.esri-elevation-profile .esri-component.esri-widget--panel{height:auto}.esri-elevation-profile .esri-elevation-profile__footer{flex-direction:column}.esri-elevation-profile .esri-elevation-profile__action-button{align-self:stretch;margin-inline-start:0}.esri-elevation-profile .esri-elevation-profile__action-button:not(:last-of-type){margin-bottom:var(--actions-spacing-v)}}.esri-elevation-profile-settings calcite-popover[calcite-hydrated-hidden]{inset-block-start:-999999px;inset-inline-start:-999999px}.esri-elevation-profile-settings__popover-content{padding:var(--popover-padding);color:var(--calcite-color-text-1);flex-direction:column;gap:var(--calcite-spacing-md);min-width:180px;font-size:var(--calcite-font-size-sm);display:flex}.esri-elevation-profile-legend{margin-top:6px}.esri-elevation-profile-legend-item{background:var(--calcite-color-foreground-3);position:relative}.esri-elevation-profile-legend-item:not(:last-of-type){margin-bottom:2px}.esri-elevation-profile-legend-item--disabled{filter:grayscale();opacity:.4}.esri-elevation-profile-legend-item__color-indicator{inset-inline-start:0;width:3px;height:100%;position:absolute;top:0}.esri-elevation-profile-legend-item__header{flex-direction:row;justify-content:flex-start;align-items:center;display:flex}.esri-elevation-profile-legend-item__content{padding:0 15px 12px;display:block}.esri-elevation-profile-legend-item__collapse-toggle{flex-shrink:0;width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl)}.esri-elevation-profile-legend-item__label{flex-grow:1;flex-shrink:1;min-width:0;padding-inline-start:15px}.esri-elevation-profile-statistics{--max-width: 1px;grid-template-columns:repeat(auto-fit,minmax(var(--max-width),1fr));contain:layout paint style;gap:2px 22px;width:100%;display:grid}.esri-elevation-profile-statistics__statistic{text-align:start;white-space:nowrap;width:max-content;display:block}.esri-elevation-profile-statistics__statistic__label{font-size:var(--calcite-font-size-xs);font-weight:var(--calcite-font-weight-regular)}.esri-elevation-profile-statistics__statistic__value{margin-top:-.15em;font-size:var(--calcite-font-size-xs);font-weight:var(--calcite-font-weight-semibold)}.esri-elevation-profile-statistics__slope-value{align-items:center;display:flex}.esri-elevation-profile-statistics__slope-value calcite-icon{width:var(--calcite-spacing-xl);height:var(--calcite-spacing-xl)}.esri-view-height-xsmall .esri-elevation-profile{--chart-height: 68px}.esri-elevation-profile--portrait .esri-elevation-profile-statistics{gap:6px 22px;margin-bottom:var(--calcite-spacing-md)}.esri-elevation-profile--portrait .esri-elevation-profile-statistics__statistic__value{margin-top:var(--calcite-spacing-base)}`,xn=wi(bn),Pe=class Pe extends mi{constructor(){super(...arguments),this.widget=xn(this),this.viewModel=this.widget.viewModel,this.view=this.widget.view,this.autoDestroyDisabled=!1,this.effectiveUnits=this.viewModel.effectiveUnits,this.hideChart=this.widget.visibleElements.chart,this.hideClearButton=this.widget.visibleElements.clearButton,this.hideLegend=this.widget.visibleElements.legend,this.hideSelectButton=this.widget.visibleElements.selectButton,this.hideSettingsButton=this.widget.visibleElements.settingsButton,this.hideSketchButton=this.widget.visibleElements.sketchButton,this.hideUniformChartScalingToggle=this.widget.visibleElements.uniformChartScalingToggle,this.hideUnitSelector=this.widget.visibleElements.unitSelector,this.highlightEnabled=this.viewModel.highlightEnabled,this.hoveredChartPosition=this.viewModel.hoveredChartPosition,this.icon=this.widget.icon,this.input=this.widget.input,this.label=this.widget.label,this.profiles=this.widget.profiles,this.progress=this.viewModel.progress,this.state=this.viewModel.state,this.uniformChartScaling=this.viewModel.uniformChartScaling,this.unit=this.widget.unit,this.unitOptions=this.widget.unitOptions,this.arcgisPropertyChange=yi()("input","effectiveUnits","progress","state"),this.arcgisReady=bi()}async destroy(){await this.manager.destroy()}async start(){this.widget.viewModel.start()}async stop(){this.widget.viewModel.stop()}};Pe.properties={view:0,autoDestroyDisabled:5,effectiveUnits:0,hideChart:5,hideClearButton:5,hideLegend:5,hideSelectButton:5,hideSettingsButton:5,hideSketchButton:5,hideUniformChartScalingToggle:5,hideUnitSelector:5,highlightEnabled:5,hoveredChartPosition:9,icon:1,input:0,label:1,position:1,profiles:0,progress:8,referenceElement:1,state:3,uniformChartScaling:5,unit:1,unitOptions:0},Pe.styles=wn;let Ee=Pe;Ci("arcgis-elevation-profile",Ee);const Vn=Object.freeze(Object.defineProperty({__proto__:null,ArcgisElevationProfile:Ee},Symbol.toStringTag,{value:"Module"}));export{on as A,Vn as c,st as e,A as l,Ii as r};
