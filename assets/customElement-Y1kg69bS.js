import{L as o,d as i,b as l,k as h,i as m,l as _}from"./index-CgzAF5Ey.js";import{v as y}from"./heading-Cy1dVKkd.js";import"./globalCss-UPH6MMtF.js";const f=m`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}:host{display:block}.arcgis-legend__no-legend{padding:var(--calcite-spacing-sm) var(--calcite-spacing-md)}.arcgis-legend__layer{border-bottom:1px solid var(--calcite-color-border-2);padding:var(--calcite-spacing-sm);word-wrap:break-word}.arcgis-legend__layer:last-child{border-bottom:none}.arcgis-legend__layer--elements{margin-left:var(--calcite-spacing-sm);overflow:auto}.arcgis-legend__layer-child{margin-left:var(--calcite-spacing-sm);padding-right:0;padding-left:0}:dir(rtl) .arcgis-legend__layer--elements,:dir(rtl) .arcgis-legend__layer-child{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}`,s={layer:"arcgis-legend__layer",layerElements:"arcgis-legend__layer--elements",layerChild:"arcgis-legend__layer-child",noLegend:"arcgis-legend__no-legend"},t=class t extends o{constructor(){super(...arguments),this.headingLevel=3,this.type="classic"}render(){const e=this.activeLayerInfos?.toArray().map(r=>this._renderLegendForLayer(r)).filter(Boolean);return e?.length?i`<section>${e}</section>`:i`<div class=${l(s.noLegend)}>${this.messages.noLegend}</div>`}_renderLegendForLayer(e){if(!e.ready)return null;const r=e.title?y({level:this.headingLevel,children:e.title}):null;if(e.children.length){const a=e.children.toArray().map(n=>this._renderLegendForLayer(n));return i`<section class=${l(s.layer)}>${r}${a}</section>`}return this._renderLegendElementsForLayer(e,r)}_renderLegendElementsForLayer(e,r){const a=e.legendElements?.filter(Boolean);if(!a?.length)return null;const n=a.map(g=>i`<arcgis-legend-classic-element .cssEffectFilter=${e.cssEffectFilter??void 0} .layer=${e.layer} .legendElement=${g} .messages=${this.messages}></arcgis-legend-classic-element>`),d={[s.layerChild]:!!e.parent};return i`<section class=${l(h(s.layer,d))}>${r}<div class=${l(s.layerElements)}>${n}</div></section>`}};t.properties={activeLayerInfos:0,headingLevel:9,type:32,messages:0},t.styles=f;let c=t;_("arcgis-legend-classic-view",c);export{c as LegendClassicView};
