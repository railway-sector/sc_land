import{bF as a,ch as p,_ as t,e as i,g as n,d4 as k,dY as Z,j8 as J,cC as v,cw as T,cm as K,cn as H,kF as Y,a5 as Q,O as z,L as X,v as L,Ay as ee,Az as te,AA as ie,r as o,c as O,s2 as se,s3 as re,AB as oe,AC as ne,AD as ae,f as C,b as _,s4 as M,D as F,d as q,s6 as G,l as pe}from"./index-CgzAF5Ey.js";import{p as le}from"./MapView-CwKV528N.js";import{$ as ce,f as he}from"./WebDocument2D-QiJ0XfRA.js";import{N as ue}from"./UtilityNetwork-rCAc6WEW.js";import{s as de,n as U}from"./utils-DN_jc3_L.js";import"./View2D-Z_g1Pe0z.js";import"./clippingUtils-QppW5MR2.js";import"./viewpointUtils-BuigW1az.js";import"./mat2d-DWPHXQcf.js";import"./mat2df64-DJ_RMjZ3.js";import"./a11yUtils-B0k1CDxO.js";import"./mat2df32-Dpt2CT5P.js";import"./hitTestUtils-BYtV70CA.js";import"./rbush-eDLDlHie.js";import"./Tile-B-BE-ibd.js";import"./arcadeUtils-MYBE13Eg.js";import"./Timeline-Cz5T4vl1.js";import"./Bookmark-SpLkQoRE.js";import"./typeUtils-Ci5sPQr2.js";import"./networkFieldUtils-CaYZrGFV.js";import"./TelecomNetworkElement-Cx4JTdEs.js";import"./NetworkElement-DfHgqL1f.js";let d=class extends a(p){constructor(e){super(e),this.expression=null,this.returnType="string",this.title=null}};t([i({type:String,json:{write:{isRequired:!0}}})],d.prototype,"expression",void 0),t([i({type:["number","string"],json:{write:!0}})],d.prototype,"returnType",void 0),t([i({type:String,json:{write:!0}})],d.prototype,"title",void 0),d=t([n("esri.webdoc.geotriggersInfo.ExpressionInfo")],d);const B=d,x=new k({deviceLocation:"device-location"});let f=class extends a(p){constructor(e){super(e),this.filterExpression=null,this.type="device-location"}};t([i({type:B,json:{write:!0}})],f.prototype,"filterExpression",void 0),t([i({type:x.apiValues,readOnly:!0,json:{type:x.jsonValues,read:x.read,write:x.write}})],f.prototype,"type",void 0),f=t([n("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],f);const we=f;let b=class extends a(p){constructor(e){super(e),this.geometry=null,this.where=null}};t([i({types:J,json:{read:Z,write:!0}})],b.prototype,"geometry",void 0),t([i({type:String,json:{write:!0}})],b.prototype,"where",void 0),b=t([n("esri.webdoc.geotriggersInfo.FeatureFilter")],b);const ye=b;let w=class extends a(p){constructor(e){super(e),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};t([i({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],w.prototype,"layerId",void 0),t([i({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],w.prototype,"layerUrl",void 0),t([v({featureLayer:"feature-layer"},{readOnly:!0})],w.prototype,"type",void 0),w=t([n("esri.webdoc.geotriggersInfo.FeatureLayerSource")],w);const ge=w;let c=class extends a(p){constructor(e){super(e),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};t([i({type:ge,json:{write:{isRequired:!0}}})],c.prototype,"fenceSource",void 0),t([i({type:ye,json:{write:!0}})],c.prototype,"filter",void 0),t([i({type:Number,json:{write:!0}})],c.prototype,"bufferDistance",void 0),t([v({features:"features"},{readOnly:!0})],c.prototype,"type",void 0),c=t([n("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],c);const ve=c;let j=class extends a(p){constructor(e){super(e),this.type="fence"}};t([v({fence:"fence"},{readOnly:!0})],j.prototype,"type",void 0),j=t([n("esri.webdoc.geotriggersInfo.Geotrigger")],j);const W=j;let $=class extends a(p){constructor(e){super(e),this.expressionInfo=null,this.requestedActions=null}};t([i({type:B,json:{write:!0}})],$.prototype,"expressionInfo",void 0),t([i({type:[String],json:{write:!0}})],$.prototype,"requestedActions",void 0),$=t([n("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],$);const me=$,fe=new k({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),be=new k({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),V=new k({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let l=class extends W{constructor(s){super(s),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};t([v(fe)],l.prototype,"enterExitRule",void 0),t([i({type:we,json:{write:{isRequired:!0}}})],l.prototype,"feed",void 0),t([v(be)],l.prototype,"feedAccuracyMode",void 0),t([i({type:V.apiValues,json:{type:V.jsonValues,read:V.read,write:{writer:V.write,isRequired:!0}}})],l.prototype,"fenceNotificationRule",void 0),t([i({type:ve,json:{write:{isRequired:!0}}})],l.prototype,"fenceParameters",void 0),t([i({type:String,json:{write:!0}})],l.prototype,"name",void 0),t([i({type:me,json:{write:!0}})],l.prototype,"notificationOptions",void 0),t([v({fence:"fence"},{readOnly:!0})],l.prototype,"type",void 0),l=t([n("esri.webdoc.geotriggersInfo.FenceGeotrigger")],l);const $e=l,Ie={base:W,key:"type",typeMap:{fence:$e}};let A=class extends a(p){constructor(e){super(e),this.geotriggers=null}};t([i({types:[Ie],json:{write:{isRequired:!0}}})],A.prototype,"geotriggers",void 0),A=t([n("esri.webdoc.GeotriggersInfo")],A);const xe=A;let S=class extends a(p){constructor(e){super(e),this.enabled=!0}};t([i({type:Boolean,nonNullable:!0,json:{write:!0}})],S.prototype,"enabled",void 0),S=t([n("esri.webdoc.ips.AppleIPSProperties")],S);const Ve=S;let R=class extends a(p){constructor(e){super(e),this.enabled=!0}};t([i({type:Boolean,nonNullable:!0,json:{write:!0}})],R.prototype,"enabled",void 0),R=t([n("esri.webdoc.ips.GNSSProperties")],R);const je=R;let y=class extends a(p){constructor(e){super(e),this.enabled=!0,this.distance=5,this.units="meter"}};t([i({type:Boolean,nonNullable:!0,json:{write:!0}})],y.prototype,"enabled",void 0),t([i({type:Number,nonNullable:!0,json:{write:!0}})],y.prototype,"distance",void 0),t([i({type:["feet","meter"],nonNullable:!0,json:{write:!0}})],y.prototype,"units",void 0),y=t([n("esri.webdoc.ips.PathSnappingProperties")],y);const Ae=y;let E=class extends a(p){constructor(s){super(s),this.enabled=!0}};t([i({type:Boolean,nonNullable:!0,json:{write:!0}})],E.prototype,"enabled",void 0),E=t([n("esri.webdoc.ips.SmoothingProperties")],E);const Se=E;let h=class extends a(p){constructor(e){super(e),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};t([i({type:Ve,json:{name:"AppleIPS",write:!0}})],h.prototype,"appleIPS",void 0),t([i({type:je,json:{name:"GNSS",write:!0}})],h.prototype,"gnss",void 0),t([i({type:Se,json:{write:!0}})],h.prototype,"smoothing",void 0),t([i({type:Ae,json:{write:!0}})],h.prototype,"pathSnapping",void 0),h=t([n("esri.webdoc.ips.Configuration")],h);const Re=h;let g=class extends a(p){constructor(s){super(s),this.portalItem=null}readPortalItem(s,e,r){const{itemId:N}=e;if(N)return new T({id:N,portal:r?.portal})}writePortalItem(s,e){s?.id&&(e.itemId=s.id)}};t([i({type:T,json:{write:{isRequired:!0}}})],g.prototype,"portalItem",void 0),t([K("portalItem",["itemId"])],g.prototype,"readPortalItem",null),t([H("portalItem",{itemId:{type:String}})],g.prototype,"writePortalItem",null),g=t([n("esri.webdoc.ips.PositioningService")],g);const Ee=g;let I=class extends a(p){constructor(s){super(s),this.positioningService=null,this.configuration=null}};t([i({type:Ee,json:{write:{isRequired:!0}}})],I.prototype,"positioningService",void 0),t([i({type:Re,json:{write:!0}})],I.prototype,"configuration",void 0),I=t([n("esri.webdoc.IPSInfo")],I);const Pe=I,ke={currentVersion:U,createInitialViewProperties:()=>new he,parseVersion:de.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},Ce=z.ofType(ue);var m;let u=(m=class extends ce{constructor(e){super(e),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const e=this.utilityNetworks.removeAll();for(const r of e)r.destroy();this.utilityNetworks.destroy()}}get context(){return ke}loadAll(){return Y(this,e=>{e(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(e){if(e)return new this({resourceInfo:e});throw new Q("webmap:empty-resource","Expected a JSON resource but got nothing")}},m.VERSION=U,m);t([i({type:xe,json:{write:!0}})],u.prototype,"geotriggersInfo",void 0),t([i({type:Pe,json:{write:!0,name:"mapIPSInfo"}})],u.prototype,"ipsInfo",void 0),t([i({json:{write:!0}})],u.prototype,"presentation",void 0),t([i({type:Ce,json:{read:!0,write:!0}})],u.prototype,"utilityNetworks",void 0),u=t([n("esri.WebMap")],u);const De=u;const Ne=G(De),Le=G(le),P=class P extends X{constructor(){super(),this._containerRef=L(),this._mapRef=L(),this._uiController=new ee(this),this.extraContent=new z,this.arcgisLoadError=te(this),this.arcgisViewReadyError=ie(this),this._map=Ne(this),this.view=Le(this),this.animationsDisabled=this.view.animationsEnabled,this.allLayerViews=this.view.allLayerViews,this.analyses=this.view.analyses,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.graphics=this.view.graphics,this.ground=this._map.ground,this.highlights=this.view.highlights,this.highlightOptions=this.view.highlightOptions,this.ipsInfo=this._map.ipsInfo,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.spatialReferenceLocked=this.view.spatialReferenceLocked,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.visibleArea=this.view.visibleArea,this.arcgisViewAnalysisViewCreate=o(()=>this.view,"analysis-view-create"),this.arcgisViewAnalysisViewCreateError=o(()=>this.view,"analysis-view-create-error"),this.arcgisViewAnalysisViewDestroy=o(()=>this.view,"analysis-view-destroy"),this.arcgisViewChange=O(),this.arcgisViewClick=o(()=>this.view,"click"),this.arcgisViewDoubleClick=o(()=>this.view,"double-click"),this.arcgisViewDrag=o(()=>this.view,"drag"),this.arcgisViewHold=o(()=>this.view,"hold"),this.arcgisViewImmediateClick=o(()=>this.view,"immediate-click"),this.arcgisViewImmediateDoubleClick=o(()=>this.view,"immediate-double-click"),this.arcgisViewKeyDown=o(()=>this.view,"key-down"),this.arcgisViewKeyUp=o(()=>this.view,"key-up"),this.arcgisViewLayerviewCreate=o(()=>this.view,"layerview-create"),this.arcgisViewLayerviewCreateError=o(()=>this.view,"layerview-create-error"),this.arcgisViewLayerviewDestroy=o(()=>this.view,"layerview-destroy"),this.arcgisViewMouseWheel=o(()=>this.view,"mouse-wheel"),this.arcgisViewPointerDown=o(()=>this.view,"pointer-down"),this.arcgisViewPointerEnter=o(()=>this.view,"pointer-enter"),this.arcgisViewPointerLeave=o(()=>this.view,"pointer-leave"),this.arcgisViewPointerMove=o(()=>this.view,"pointer-move"),this.arcgisViewPointerUp=o(()=>this.view,"pointer-up"),this.arcgisViewReadyChange=O(),this.view.ui={components:["attribution"]}}get aria(){return this.view?.aria}set aria(e){this.view&&(this.view.aria=e)}get center(){return this.view.center}set center(e){const r=oe(e,this.view);r&&(this.view.center=r)}get extent(){return this.view.extent}set extent(e){e&&!this.extent?.equals(e)&&(this.view.extent=e)}get focusAreas(){return this.map?this.map.focusAreas:{areas:[],style:"bright"}}set focusAreas(e){this.map&&(this.map.focusAreas=e)}get gamepad(){return this.view.input.gamepad}get interacting(){return this.view.interacting}get itemId(){return this._map.portalItem?.id}set itemId(e){ne(this._map,this),this._map.portalItem={id:e},this.view.map=this._map}get navigating(){return this.view.navigating}get scale(){return this.view.scale}set scale(e){this.view.scale=e}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint}set viewpoint(e){ae(this.viewpoint,e)&&(this.view.viewpoint=e)}get zoom(){return this.view.zoom}set zoom(e){this.view.zoom=e}async addLayer(e,r){this.map?.add(e,r)}async addLayers(e,r){this.map?.addMany(e,r)}async addTable(e){this.map?.tables.add(e)}async addTables(e,r){this.map?.tables.addMany(e,r)}async closePopup(){this._uiController.closePopup()}async destroy(){await this.manager.destroy()}async goTo(e,r){return await this.view.goTo(e,r)}async hitTest(e,r){return await this.view.hitTest(e,r)}async openPopup(e){this._uiController.openPopup(e)}async takeScreenshot(e){return await this.view.takeScreenshot(e)}toMap(e){return this.view.toMap(e)}toScreen(e,r){return this.view.toScreen(e,r)}async tryFatalErrorRecovery(){this.view.tryFatalErrorRecovery()}async viewOnReady(e,r){return await this.componentOnReady(),await this.view.whenReady().then(()=>e?.()).catch(r)}async whenAnalysisView(e){return await this.view.whenAnalysisView(e)}async whenLayerView(e){return await this.view?.whenLayerView(e)}loaded(){const e=this;e.el.childElem=this._mapRef.value,this.view.container??=e.el.childElem,this.map||=this._map,this.manager.onLifecycle(()=>[C(()=>this.map,r=>{r&&(this._map=r)},{initial:!0,sync:!0}),C(()=>this.view.stationary,()=>this.arcgisViewChange.emit(),{initial:!0}),C(()=>this.view.ready,()=>this.arcgisViewReadyChange.emit(),{initial:this.view.ready})])}renderMain(){return q`<div class=${_(M.base)} ${F(this._mapRef)}></div>`}render(){return q`<section class=${_(M.containerUI)} ${F(this._containerRef)}>${this._uiController.render()}${this.extraContent}</section>${this.renderMain()}`}};P.properties={_map:16,view:32,animationsDisabled:5,aria:0,allLayerViews:0,analyses:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,floors:0,focusAreas:0,gamepad:32,graphics:0,ground:1,highlights:0,highlightOptions:0,interacting:32,ipsInfo:0,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,spatialReferenceLocked:5,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:4,viewpoint:0,visibleArea:0,zoom:9,loadErrorSources:0},P.styles=[se,re];let D=P;pe("arcgis-map",D);export{D as ArcgisMap};
