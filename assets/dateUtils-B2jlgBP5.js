import{cC as z,cD as H,cE as k,V as E,c3 as S,cF as J,cG as s,cH as P,cI as g,cJ as R,cK as W,bI as G,cL as K,cM as D,O as L,cN as Z,aW as U,cO as I,cP as $}from"./index-aRi8Xk-b.js";const _=D,F={date:null,time:null,timeZoneOffset:null},ee=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),q="latn",B=e=>"valueAsDate"in e;function c(e){return{locale:L(),numberingSystem:q,zone:e??_}}function N(e,n){return e==null?null:s.fromMillis(e,c(n))}function Q(e,n){if(e==null||!J(e)||e===""){if(n){const l=s.local({zone:n});return{date:null,time:null,timeZoneOffset:l.isValid?l.offset.toString():null}}return F}const t=s.fromISO(e,{setZone:!0});return{date:t.toFormat(g,c()),time:t.toFormat(P.HMS_MS,c()),timeZoneOffset:t.offset.toString()}}function ne(e,n){if(e==null||!R(e)||isNaN(e))return F;const t=N(e,n);return t?{date:t.toFormat(g,c(n)),time:t.toFormat(W,c(n))}:F}function te(e){switch(e.type){case"date":default:return S("short-date-short-time");case"date-only":return S("short-date");case"time-only":return S("short-time");case"timestamp-offset":return{...S("short-date-short-time"),timeZone:void 0,timeZoneName:"short"}}}function le(e,n,t){if(!e||n==null)return null;switch(e.type){case"date":return E(n,t);case"date-only":return k(n,t);case"time-only":return H(n,t);case"timestamp-offset":return z(n,t);default:return null}}function oe(e){const{dateComponent:n,defaultTimeZone:t,timeComponent:l,timeZoneComponent:o,oldValue:r}=e;if(!n?.value)return null;const{year:u,month:a,day:i}=s.fromFormat(n.value,g),{hour:f,minute:w,second:v,millisecond:d}=M(l,D)??s.now(),y=Q(r,t),m=o?.value===""?null:o?.value,p=m?parseInt(m,10):y.timeZoneOffset!=null?parseInt(y.timeZoneOffset,10):new Date().getTimezoneOffset(),O=K.instance(p),h=s.fromObject({year:u,month:a,day:i,hour:f,minute:w,second:v,millisecond:d},{zone:O});return h.isValid?h.toISO({includeOffset:!0}):null}function ae(e){const{dateComponent:n,timeComponent:t,timeZone:l,max:o,min:r,oldValue:u}=e,a=M(n,l);let i=!!e.applyRange;if(!a)return null;let f=null;if(t?.value!=null){const v=M(t,l),d=Date.now(),y=o!=null&&o<d?o:d,m=s.fromMillis(y,c(l)),p=a||m,{year:O,month:h,day:x}=p,{hour:V,minute:T,second:A,millisecond:j}=v||m;f=p.set({year:O,month:h,day:x,hour:V,minute:T,second:A,millisecond:j})}else{const v=N(C({value:u??Date.now(),max:o,min:r}),l),{year:d,month:y,day:m}=a,{hour:p,minute:O,second:h,millisecond:x}=v;i=!0,f=a.set({year:d,month:y,day:m,hour:p,minute:O,second:h,millisecond:x})}if(!f.isValid)return null;const w=f.toMillis();return i?C({value:w,max:o,min:r}):w}function M(e,n){if(e?.value==null||Array.isArray(e.value))return null;let t=null;return t=B(e)?s.fromFormat(e.value,g,c(n)):Z(e.value),t?.isValid?t:null}function b(e){const{max:n,min:t,value:l}=e;return!isNaN(l)&&!(n!=null&&l>n)&&!(t!=null&&l<t)}function C(e){const{max:n,min:t,value:l}=e;return n!=null&&t!=null?U(l,t,n):n!=null&&l>n?n:t!=null&&l<t?t:l}function X(e){if(!e)return"";const n=e.split(".").at(0);if(!n||n.length<1)throw new G("invalid time-only field",`Cannot parse valid time-only field value from ${e}`);const t=n.split(":"),l=new Array(3);for(let o=0;o<3;o++){const r=t.at(o)??"";l[o]=r.padStart(2,"0")}return l.join(":")}function re(e,n){switch(n){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return X(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function ie(e){return!!e&&typeof e=="object"&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function ue(e){const{type:n,range:t,value:l}=e;if(l==null||!t||l===t.min||l===t.max)return!0;if(n==="date")return b({value:l,min:t.min,max:t.max});const{rawMax:o,rawMin:r}=t;let u=null,a=null,i=null;switch(n){case"date-only":u=$(o),a=$(r),i=$(l);break;case"time-only":u=Z(o),a=Z(r),i=Z(l);break;case"timestamp-offset":u=I(o),a=I(r),i=I(l)}return!i||b({value:i.valueOf(),min:a?.valueOf(),max:u?.valueOf()})}export{ne as C,X as E,te as F,re as H,c as I,ie as J,ae as N,ue as R,le as T,Q as V,oe as b,ee as g,q as j,b as k};
