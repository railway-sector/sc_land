const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/webglDeps-3dAM7EsC.js","assets/index-CgzAF5Ey.js","assets/index-ni9qn0ie.css","assets/ShaderCompiler-G2XYGDs6.js","assets/programUtils-CwiKxPbA.js","assets/ProgramTemplate-BmV-yqYj.js","assets/mapViewDeps-CdwYlmb3.js","assets/FeatureCommandQueue-CzDbVjZb.js","assets/CIMSymbolHelper-Bd9SO2qF.js","assets/BidiEngine-BvER9tXK.js","assets/labelPoint-DZLJ2eV0.js","assets/rasterizingUtils-DPK9f2Iy.js","assets/mat2d-DWPHXQcf.js","assets/mat2df32-Dpt2CT5P.js","assets/Rect-CUzevAry.js","assets/BoundingBox-RIlEJuyl.js","assets/Technique-SjU0uoyi.js","assets/UpdateTracking2D-CJS8bvED.js","assets/utils-BuGXhKc-.js","assets/constants-BBnGEY1d.js","assets/clippingUtils-QppW5MR2.js","assets/viewpointUtils-BuigW1az.js","assets/mat2df64-DJ_RMjZ3.js","assets/a11yUtils-B0k1CDxO.js","assets/heatmapTextureUtils-SC7jGutZ.js","assets/WGLContainer-DBpUTeW4.js","assets/Utils-C08L_Hvp.js","assets/WGLBrushVTLSymbol-DJ6mJnAH.js","assets/Container-BfA3-rQm.js","assets/EffectView-B3K5O1-N.js","assets/earcut-D9gy186-.js","assets/streamLayerUtils-DFlbJ4P1.js","assets/QueueProcessor-DIiVPdhP.js","assets/SDFHelper-B6cT4HdN.js","assets/TexturedLineMeshWriter-CV5VItbC.js","assets/TurboLine-DWqXwoHL.js","assets/OverrideHelper-DgkHuzVT.js","assets/callExpressionWithFeature-Lt9Or9I8.js","assets/VTLMaterialManager-Diyp9F_8.js","assets/GridShader-Bj8BEnYB.js","assets/CircularArray-CujHzHWW.js","assets/SymbolFader-CkVu5yKh.js","assets/VertexStream-B2cT2KLF.js","assets/CIMResourceManager-KvxbKRQg.js","assets/pbf-BEkcbkvb.js","assets/AttributeStore-DQbZkf3j.js","assets/FeatureStoreQueryAdapter-CDvuXLtZ.js","assets/queryUtils-DNHDSTFw.js","assets/timeSupport-DN8IRYHu.js","assets/utils-DQIbIkse.js","assets/grouping-BgHNvmg_.js","assets/utils-DDjZAYSk.js","assets/MeshWriterRegistry-5zVwP7AI.js","assets/Timeline-Cz5T4vl1.js","assets/projectOperator-GV0McMFO.js","assets/operatorProject-BaCyxOS9.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/GraphicsView2D-BK-yFuK6.js","assets/FeatureMetadata-CUQII5Ap.js","assets/rbush-eDLDlHie.js","assets/normalizeUtilsSync-BwFfP_Vx.js","assets/densifyCurvedGeometry-xrty2FpW.js","assets/GraphicContainer-B0B9NZN1.js","assets/AGraphicContainer-C8Gez-zD.js","assets/TechniqueInstance-ChXQRjjJ.js","assets/TileContainer-DiiiZxLq.js","assets/gridUtils-wkjo3J8K.js","assets/geodesicUtils-Cfv0uT1u.js","assets/TileLayerView2D-COHWy8lv.js","assets/imageUtils-BWm7gLgK.js","assets/BitmapTechnique-B2RuuwKK.js","assets/bitmapUtils-CcFFbrxK.js","assets/LayerView2D-h8BLsW6E.js","assets/utils-BQBvadb7.js","assets/ClipRect-B06LOR4U.js","assets/HighlightGraphicContainer-CQa7rmVC.js","assets/LayerView-DwNmvSvK.js","assets/RefreshableLayerView-CIb1pN36.js","assets/highlightUtils-C34Lr9mF.js","assets/MapServiceLayerViewHelper-DewkZxkB.js","assets/floorFilterUtils-DKzVzLpH.js","assets/sublayerUtils-BEQnBRaB.js","assets/popupUtils-CNYyKlIB.js","assets/highlightOptionsUtils-BfhCzHSG.js","assets/FeatureLayerView2D-BuimIr2L.js","assets/timeSupport-CVOq4qnd.js","assets/utils-DN_jc3_L.js","assets/AttributeBinsFeatureSet-uO1LhKKt.js","assets/AttributeBinsQuery-TN7KvdTy.js","assets/FixedIntervalBinParameters-DZo-gJ5G.js","assets/featureReductionUtils-Caulfaw_.js","assets/query-CnhzGyzp.js","assets/pbfQueryUtils-S_j2eB_b.js","assets/FeatureSourceQueryInfo-DsR0m78C.js","assets/featureServiceUtils-D3eqtEQ6.js","assets/constants-SxxbBSOD.js","assets/parquetUtils-CULVaV81.js","assets/locationUtils-B4d3Kb36.js","assets/parquet-DmRRZ-Ph.js","assets/FeatureLayerView-CZQOa_tK.js","assets/FeatureIdInfo-iL5WjyEH.js","assets/featurePopupQueryUtils-rZi7h2wN.js","assets/networkFieldUtils-CaYZrGFV.js","assets/BaseDynamicLayerView2D-DDigcLlm.js","assets/BitmapContainer-D-IW4OZq.js","assets/ExportStrategy-eAqfy3SO.js","assets/CatalogLayerView2D-DDUNJsCV.js","assets/CatalogLayerView-ILIWt4q6.js","assets/CatalogDynamicGroupLayerView2D-CDOUCwl4.js","assets/CatalogDynamicGroupLayerView-C0QL3qy8.js","assets/CatalogFootprintLayerView2D-CSdNPTFI.js","assets/CatalogFootprintLayerView-BwxtwHij.js","assets/GeoRSSLayerView2D-C3HiRsOA.js","assets/GraphicsLayerView2D-DVr4iy84.js","assets/GroupLayerView2D-7memA4fM.js","assets/GroupLayerView-Dpbvf2cS.js","assets/ImageryLayerView2D-BU3ukLf4.js","assets/RasterVFDisplayObject-DXmA_pqx.js","assets/utils-BPsaODJb.js","assets/loadUtils-BIqwa4ik.js","assets/dataUtils-Bl6288_r.js","assets/FeatureTileDescriptor-TRTidUVT.js","assets/vectorFieldUtils-BfvwBWsN.js","assets/PixelBlock-D-6P5OMc.js","assets/pixelRangeUtils-BvOub3JO.js","assets/rasterProjectionHelper-FtdA54qR.js","assets/ImageryLayerView-ClQ7F-Vv.js","assets/rasterFieldUtils-owWC2Tqk.js","assets/ImageryTileLayerView2D-Cl-KEXUK.js","assets/multidimensionalUtils-D7s9wCrf.js","assets/datasetUtils-DdDUWBI2.js","assets/clipUtils-CpEsp-yF.js","assets/rasterUtils-O-9jE-LS.js","assets/RawBlockCache-CXmw_9Mx.js","assets/ImageryTileLayerView-tpLUlYnj.js","assets/KMLLayerView2D-CjDKV5rU.js","assets/kmlUtils-CxAaHpGq.js","assets/KnowledgeGraphLayerView2D-DjyZQBuW.js","assets/MapImageLayerView2D-DshWj1A7.js","assets/MapImageLayerView-DINJl7Dq.js","assets/ExportImageParameters-CHuh_iLO.js","assets/MapNotesLayerView2D-BwKqGubi.js","assets/MediaLayerView2D-CIbNQfph.js","assets/MediaElementView-D6UZnd3c.js","assets/Overlay-D1J6Iybj.js","assets/mediaLayerUtils-BJ-DU5EY.js","assets/OverlayContainer-BRPsT0eL.js","assets/MediaLayerView-j0MCs-Dn.js","assets/OGCFeatureLayerView2D-B-WHEsIP.js","assets/OGCFeatureLayerView-CLwr3pcN.js","assets/RouteLayerView2D-6JZk9SQf.js","assets/Stop-C4LJG94b.js","assets/networkEnums-Tj95fFYJ.js","assets/StreamLayerView2D-BArts0Zr.js","assets/StreamLayerView-Bdj9TbVe.js","assets/SubtypeGroupLayerView2D-pV6xT5wy.js","assets/VectorTileLayerView2D-7FWmgu31.js","assets/TileInfoViewPOT-4gr2mGCm.js","assets/SourceLayerData-XgPlDBZ4.js","assets/StyleRepository-BHakPhwK.js","assets/VideoLayerView2D-Coc2qzLW.js","assets/GraphicsLayer-CNIUk38A.js","assets/TelemetryDisplay-D3tdgYgt.js","assets/videoUtils-C-OaBq43.js","assets/cimSymbolUtils-D8zbHeXT.js","assets/utils-BxeCvIiv.js","assets/gfxUtils-B1R76T6S.js","assets/ControlPoint-O-tXQDvT.js","assets/WMSLayerView2D-bZAyBefN.js","assets/WMSLayerView-8WsEOe3K.js","assets/ExportWMSImageParameters-DVLLxwJ4.js","assets/WMTSLayerView2D-M_875PA8.js"])))=>i.map(i=>d[i]);
import{V as n,a5 as R,lB as D,c4 as b,qL as $,qK as x,gY as S,rW as C,gO as k,fs as v,rX as Y,rY as M,aR as L,rZ as I,ap as N}from"./index-CgzAF5Ey.js";import{i as X}from"./rbush-eDLDlHie.js";import{r as P}from"./Tile-B-BE-ibd.js";import{m as q}from"./clippingUtils-QppW5MR2.js";function l(){return Promise.all([n(()=>import("./webglDeps-3dAM7EsC.js"),__vite__mapDeps([0,1,2,3,4,5])),n(()=>import("./mapViewDeps-CdwYlmb3.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,3,5,28,29,30,31,32,33,34,35,36,37,38,4,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67]))])}const E=()=>l().then(()=>n(()=>import("./TileLayerView2D-COHWy8lv.js"),__vite__mapDeps([68,1,2,8,9,10,11,12,13,14,15,36,37,29,25,26,27,3,5,20,21,22,23,28,30,39,16,18,19,40,41,44,7,17,24,31,32,34,35,57,45,46,47,48,58,59,60,61,69,70,71,65,72,73,74,75,63,64,76,77,78,79,80,81,82,83]))),m=()=>l().then(()=>n(()=>import("./FeatureLayerView2D-BuimIr2L.js").then(e=>e.F),__vite__mapDeps([84,1,2,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83]))),T={"base-dynamic":()=>l().then(()=>n(()=>import("./BaseDynamicLayerView2D-DDigcLlm.js"),__vite__mapDeps([103,1,2,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,70,16,71,72,73,74,105,76,77]))),"base-tile":E,"bing-maps":E,catalog:()=>l().then(()=>n(()=>import("./CatalogLayerView2D-DDUNJsCV.js"),__vite__mapDeps([106,1,2,72,73,28,29,20,21,12,22,23,13,74,107,76]))),"catalog-dynamic-group":()=>l().then(()=>n(()=>import("./CatalogDynamicGroupLayerView2D-CDOUCwl4.js"),__vite__mapDeps([108,1,2,72,73,28,29,20,21,12,22,23,13,74,109,76]))),"catalog-footprint":()=>l().then(()=>n(()=>import("./CatalogFootprintLayerView2D-CSdNPTFI.js"),__vite__mapDeps([110,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83,111]))),csv:m,"geo-rss":()=>l().then(()=>n(()=>import("./GeoRSSLayerView2D-C3HiRsOA.js"),__vite__mapDeps([112,1,2,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76]))),feature:m,geojson:m,parquet:m,graphics:()=>l().then(()=>n(()=>import("./GraphicsLayerView2D-DVr4iy84.js"),__vite__mapDeps([113,1,2,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,83]))),group:()=>l().then(()=>n(()=>import("./GroupLayerView2D-7memA4fM.js"),__vite__mapDeps([114,1,2,72,73,28,29,20,21,12,22,23,13,74,115,76]))),imagery:()=>l().then(()=>n(()=>import("./ImageryLayerView2D-BU3ukLf4.js"),__vite__mapDeps([116,1,2,117,118,119,120,121,27,25,26,15,3,5,13,12,20,21,22,23,28,29,30,122,123,124,72,73,74,57,8,9,10,11,14,36,37,45,17,46,19,47,48,7,16,18,24,31,32,58,59,60,61,75,63,64,65,104,70,71,105,125,126,127,85,86,82,76,77,83]))),"imagery-tile":()=>l().then(()=>n(()=>import("./ImageryTileLayerView2D-Cl-KEXUK.js"),__vite__mapDeps([128,1,2,129,117,118,119,120,121,27,25,26,15,3,5,13,12,20,21,22,23,28,29,30,122,123,124,72,73,74,130,131,132,65,16,51,18,19,71,133,125,83,134,127,85,86,82,76,77]))),kml:()=>l().then(()=>n(()=>import("./KMLLayerView2D-CjDKV5rU.js"),__vite__mapDeps([135,1,2,136,70,16,71,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,72,73,74,62,63,64,17,65,7,8,9,10,11,14,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,54,55,56,125,42,4,132]))),"knowledge-graph":()=>l().then(()=>n(()=>import("./KnowledgeGraphLayerView2D-DjyZQBuW.js"),__vite__mapDeps([137,1,2,72,73,28,29,20,21,12,22,23,13,74,76]))),"link-chart":()=>l().then(()=>n(()=>import("./KnowledgeGraphLayerView2D-DjyZQBuW.js"),__vite__mapDeps([137,1,2,72,73,28,29,20,21,12,22,23,13,74,76]))),"knowledge-graph-sublayer":m,"map-image":()=>l().then(()=>n(()=>import("./MapImageLayerView2D-DshWj1A7.js"),__vite__mapDeps([138,1,2,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,70,16,71,72,73,74,57,8,9,10,11,14,36,37,45,17,46,19,47,48,7,18,24,31,32,58,59,60,61,75,63,64,65,105,76,139,140,80,81,85,86,77,78,79,82,83]))),"map-notes":()=>l().then(()=>n(()=>import("./MapNotesLayerView2D-BwKqGubi.js"),__vite__mapDeps([141,1,2,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,83]))),media:()=>l().then(()=>n(()=>import("./MediaLayerView2D-CIbNQfph.js"),__vite__mapDeps([142,1,2,143,60,8,9,10,11,12,13,14,15,36,37,29,25,26,27,3,5,20,21,22,23,28,30,39,16,18,19,40,41,44,7,17,24,31,32,34,35,57,45,46,47,48,58,59,61,144,145,49,50,146,51,72,73,74,76,147]))),"ogc-feature":()=>l().then(()=>n(()=>import("./OGCFeatureLayerView2D-B-WHEsIP.js"),__vite__mapDeps([148,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83,149]))),"open-street-map":E,"oriented-imagery":m,route:()=>l().then(()=>n(()=>import("./RouteLayerView2D-6JZk9SQf.js"),__vite__mapDeps([150,1,2,151,152,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,83]))),stream:()=>l().then(()=>n(()=>import("./StreamLayerView2D-BArts0Zr.js"),__vite__mapDeps([153,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83,154]))),"subtype-group":()=>l().then(()=>n(()=>import("./SubtypeGroupLayerView2D-pV6xT5wy.js"),__vite__mapDeps([155,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83]))),tile:E,"vector-tile":()=>l().then(()=>n(()=>import("./VectorTileLayerView2D-7FWmgu31.js"),__vite__mapDeps([156,1,2,157,14,44,11,41,65,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,158,159,72,73,74,76,77]))),video:()=>l().then(()=>n(()=>import("./VideoLayerView2D-Coc2qzLW.js"),__vite__mapDeps([160,1,2,161,162,163,164,165,166,146,21,12,22,25,26,15,27,3,5,13,20,23,28,29,30,7,8,9,10,11,14,16,17,18,19,24,31,32,51,167,72,73,74,62,63,64,65,57,36,37,45,46,47,48,58,59,60,61,76]))),wcs:()=>l().then(()=>n(()=>import("./ImageryTileLayerView2D-Cl-KEXUK.js"),__vite__mapDeps([128,1,2,129,117,118,119,120,121,27,25,26,15,3,5,13,12,20,21,22,23,28,29,30,122,123,124,72,73,74,130,131,132,65,16,51,18,19,71,133,125,83,134,127,85,86,82,76,77]))),"web-tile":E,wfs:m,wms:()=>l().then(()=>n(()=>import("./WMSLayerView2D-bZAyBefN.js"),__vite__mapDeps([168,1,2,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,70,16,71,72,73,74,105,76,77,169,170,85,86]))),wmts:()=>l().then(()=>n(()=>import("./WMTSLayerView2D-M_875PA8.js"),__vite__mapDeps([171,1,2,69,70,16,71,65,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,72,73,74,76,77]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function F(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new R(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const K={hasLayerViewModule:e=>T[e.type]!=null,importLayerView:e=>{const t=T[e.type];if(t==null)throw F(e);return t(e)}},f={added:[],removed:[]},y=new Set,j=new S(0,0,0,0);function z(e,t){const i=k(t);if(!i)return null;const[r,o]=i.valid;return e[2]>o?[v([e[0],e[1],o,e[3]]),v([r,e[1],r+e[2]-o,e[3]])]:e[0]<r?[v([r,e[1],e[2],e[3]]),v([o-(r-e[0]),e[1],o,e[3]])]:null}class U extends D{constructor(t){super(),this._tiles=new Map,this._index=X(9,b("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||$(t)===0||x(t)===0)return[];const i=z(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const o=new P(this.tileScheme,r);this._tiles.set(r,o),this._index.insert(o),i.added.push(o)}for(const r of t.removed)if(this.has(r)){const o=this.get(r);this._tiles.delete(r),this._index.remove(o),i.removed.push(o)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:o}=i,{level:h}=o;if(r.length>0)for(const{row:a,colFrom:_,colTo:d}of r)for(let c=_;c<=d;c++){const g=j.set(h,a,o.normalizeCol(c),o.getWorldForColumn(c)).id;if(y.add(g),!this.has(g)){const u=new P(this.tileScheme,g);this._tiles.set(g,u),this._index.insert(u),this.tiles.push(u),f.added.push(u)}}for(let a=this.tiles.length-1;a>=0;a--){const _=this.tiles[a];y.has(_.id)||(this._tiles.delete(_.id),this.tiles.splice(a,1),this._index.remove(_),f.removed.push(_))}(f.added.length||f.removed.length)&&this.emit("update",f),C.pool.release(i),y.clear(),f.added.length=0,f.removed.length=0}}async function H(e,t,i){const r=Y(t)?M(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let o=new Set;const h=new Set;let a=!1,_=null,d=null;i?.include?O(i.include,A(e,s=>{o.add(s),V(s,p=>h.add(p))},(s,p)=>{h.add(s),o.add(p)},s=>{_||(_=new Set),_.add(s)},s=>o.add(s),()=>a=!0)):(a=!0,o=new Set(e.allLayerViews),o.forEach(s=>{V(s,p=>h.add(p))})),i?.exclude&&O(i.exclude,A(e,s=>{o.delete(s),V(s,p=>h.delete(p))},s=>h.delete(s),s=>{d||(d=new Set),d.add(s)}));const c=e.toMap(r),g=e.allLayerViews.filter(s=>!s.suspended&&o.has(s)&&s.clips.every(p=>q(e,p,r,c))).reverse();let u=[...a?e.graphicsView.hitTest(c).map(s=>({type:"graphic",graphic:s,layer:null,mapPoint:c})):[],...await Promise.all(g.map(s=>s.hitTest(c,r)).toArray())].filter(L).flat().filter(L);return u=u.filter(s=>s.type!=="graphic"||s.layer?.type!=="subtype-group"||h.has(s.graphic.layer)),_&&(u=u.filter(s=>!("graphic"in s)||!s.graphic||_?.has(w(s.graphic)))),d&&(u=u.filter(s=>!("graphic"in s)||!s.graphic||!d?.has(w(s.graphic)))),{screenPoint:r,results:u}}function A(e,t,i,r,o,h){return a=>{if(a instanceof N){if(a.layer===e)h?.();else{const _=e.allLayerViews.find(d=>d.layer===a.layer);_&&o?.(_)}r(w(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const _=e.allLayerViews.find(d=>d.layer===a.parent);_&&i(a,_)}else{const _=e.allLayerViews.find(d=>d.layer===a);_&&t(_)}}}function O(e,t){if(e)if(I(e))for(const i of e)if(I(i))for(const r of i)t(r);else t(i);else t(e)}function w(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function V(e,t){const i=e.layer;i?.type==="subtype-group"&&i.sublayers.forEach(r=>{t(r)})}export{K as l,H as s,U as u};
