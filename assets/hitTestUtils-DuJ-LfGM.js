const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/webglDeps-B9o0_o0s.js","assets/index-BrQW8HOS.js","assets/index-lUE0m221.css","assets/ShaderCompiler-G2XYGDs6.js","assets/programUtils-CwiKxPbA.js","assets/ProgramTemplate-Bs6-tONO.js","assets/mapViewDeps-2LS2qwiv.js","assets/FeatureCommandQueue-CHlQJ5HC.js","assets/CIMSymbolHelper-BlfMWOZ7.js","assets/BidiEngine-BvER9tXK.js","assets/labelPoint-CgDrQQb-.js","assets/rasterizingUtils-Bv-DctWv.js","assets/mat2d-BbBq4Byx.js","assets/mat2df32-Dpt2CT5P.js","assets/Rect-CUzevAry.js","assets/BoundingBox-BuUpzzb5.js","assets/Technique-Ci8QnsGB.js","assets/UpdateTracking2D-Gzh35eIq.js","assets/utils-CBgvkwBp.js","assets/constants-BBnGEY1d.js","assets/clippingUtils-BM7WDzJt.js","assets/viewpointUtils-CqwA4uEG.js","assets/mat2df64-DJ_RMjZ3.js","assets/a11yUtils-BrnjXW_g.js","assets/heatmapTextureUtils-Cv1fg6rl.js","assets/WGLContainer-DgjgvKgu.js","assets/Utils-BF-wCUzY.js","assets/WGLBrushVTLSymbol-CFvVF_EM.js","assets/Container-YjeysbeO.js","assets/EffectView-c1UGgQSH.js","assets/earcut-D9gy186-.js","assets/streamLayerUtils-DFlbJ4P1.js","assets/QueueProcessor-CL6qRd0z.js","assets/SDFHelper-CqlEtc05.js","assets/TexturedLineMeshWriter-BWh-438Z.js","assets/TurboLine-D-njSPA9.js","assets/OverrideHelper-Dz66q1dD.js","assets/callExpressionWithFeature-DHWn7DZ3.js","assets/VTLMaterialManager-Diyp9F_8.js","assets/GridShader-DV3a9Dp3.js","assets/CircularArray-CujHzHWW.js","assets/SymbolFader-BGgCIfM5.js","assets/VertexStream-DLzAWWPP.js","assets/CIMResourceManager-CKLYpEab.js","assets/pbf-bO1aG1II.js","assets/AttributeStore-Bv1ugamN.js","assets/FeatureStoreQueryAdapter-CXh0LPML.js","assets/queryUtils-DtYhZp0I.js","assets/timeSupport-B35Pi50H.js","assets/utils-B_75WYOH.js","assets/grouping-C2yK9O40.js","assets/utils-DDjZAYSk.js","assets/MeshWriterRegistry-ChzM_sSV.js","assets/Timeline-Cz5T4vl1.js","assets/projectOperator-p23D9sjF.js","assets/operatorProject-DxiD_TZp.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/GraphicsView2D-DBV8Wl3n.js","assets/FeatureMetadata-gpV2fKss.js","assets/rbush-DRx18tQf.js","assets/normalizeUtilsSync-DbZEvtY3.js","assets/densifyCurvedGeometry-B2pHq9-y.js","assets/GraphicContainer-D0ufj8hZ.js","assets/AGraphicContainer-hQjoSDU1.js","assets/TechniqueInstance-DzGeiMc7.js","assets/TileContainer-BWbERXiu.js","assets/gridUtils-qPxjKPob.js","assets/geodesicUtils-BJZXB7Hp.js","assets/TileLayerView2D-B33KCVcQ.js","assets/imageUtils-GIPvT7KH.js","assets/BitmapTechnique-JmaC137c.js","assets/bitmapUtils-D2osyIPp.js","assets/LayerView2D-B4qam7m1.js","assets/utils-BQBvadb7.js","assets/ClipRect-DFg1I7W7.js","assets/HighlightGraphicContainer-CXJhnrnQ.js","assets/LayerView-Cxi6a3SL.js","assets/RefreshableLayerView-CUhQDBdT.js","assets/highlightUtils-S4sY_nuT.js","assets/MapServiceLayerViewHelper-CraxicPw.js","assets/floorFilterUtils-DKzVzLpH.js","assets/sublayerUtils-BEQnBRaB.js","assets/popupUtils-C4kz55Ao.js","assets/highlightOptionsUtils-CJg5fYh7.js","assets/FeatureLayerView2D-D5GzH7tY.js","assets/timeSupport-CTItCQDV.js","assets/utils-D_VO_1nP.js","assets/AttributeBinsFeatureSet-DYajljvw.js","assets/AttributeBinsQuery-86L9HIrS.js","assets/FixedIntervalBinParameters-M_noW3Bp.js","assets/featureReductionUtils-Caulfaw_.js","assets/query-D5mFMRFz.js","assets/pbfQueryUtils-PegbNvJC.js","assets/FeatureSourceQueryInfo-B5s_0Z_O.js","assets/featureServiceUtils-B-c8LPei.js","assets/constants-SxxbBSOD.js","assets/parquetUtils-Cxwsllpr.js","assets/locationUtils-Dk7_n5XU.js","assets/parquet-B90rev3R.js","assets/FeatureLayerView-C-CovR_d.js","assets/FeatureIdInfo-iL5WjyEH.js","assets/featurePopupQueryUtils-DTv4qoD7.js","assets/networkFieldUtils-CaYZrGFV.js","assets/BaseDynamicLayerView2D-FdDPYMwz.js","assets/BitmapContainer-C6UxDIz_.js","assets/ExportStrategy-CPyrvQco.js","assets/CatalogLayerView2D-D3dMvVUo.js","assets/CatalogLayerView-DWpEcl9j.js","assets/CatalogDynamicGroupLayerView2D-Xxdk7zNO.js","assets/CatalogDynamicGroupLayerView-CzSaYfF5.js","assets/CatalogFootprintLayerView2D-DzaaO6C4.js","assets/CatalogFootprintLayerView-C7tkVP-Y.js","assets/GeoRSSLayerView2D-y99Tc6Tn.js","assets/GraphicsLayerView2D-5TLNVW_n.js","assets/GroupLayerView2D-D8EtspWZ.js","assets/GroupLayerView-BqnmHK0p.js","assets/ImageryLayerView2D-BuEME27N.js","assets/RasterVFDisplayObject-78-4Wgrr.js","assets/utils-1AEgfFVh.js","assets/loadUtils-Bu2EDyoz.js","assets/dataUtils-GsysffW0.js","assets/FeatureTileDescriptor-B5Z4jHg4.js","assets/vectorFieldUtils-BtFp6QX2.js","assets/PixelBlock-BLuOu6Ty.js","assets/pixelRangeUtils-BvOub3JO.js","assets/rasterProjectionHelper-daQRJxKm.js","assets/ImageryLayerView-Cvc4Tjx5.js","assets/rasterFieldUtils-Ch69mkjb.js","assets/ImageryTileLayerView2D-CkB0NT1p.js","assets/multidimensionalUtils-C73Q5ZGV.js","assets/datasetUtils-DdDUWBI2.js","assets/clipUtils-C90NVAfo.js","assets/rasterUtils-zX4Tjnym.js","assets/RawBlockCache-Dkglau7b.js","assets/ImageryTileLayerView-BzpTo2tH.js","assets/KMLLayerView2D-DmZg7ZwP.js","assets/kmlUtils-D10xsXv0.js","assets/KnowledgeGraphLayerView2D-DqH6SL0l.js","assets/MapImageLayerView2D-Do5UNwsz.js","assets/MapImageLayerView-BXne44jl.js","assets/ExportImageParameters-BgkEQlXw.js","assets/MapNotesLayerView2D-BoRkXvsc.js","assets/MediaLayerView2D-DPCpEVsf.js","assets/MediaElementView-B-fdwXAA.js","assets/Overlay-C1dDxz6A.js","assets/mediaLayerUtils-BJ-DU5EY.js","assets/OverlayContainer-DNOZrAhT.js","assets/MediaLayerView-Co-VlQl1.js","assets/OGCFeatureLayerView2D-DcYjD-xa.js","assets/OGCFeatureLayerView--8aQfLLO.js","assets/RouteLayerView2D-CqOf_8BA.js","assets/Stop-cnjlikqa.js","assets/networkEnums-CVHKZ3ki.js","assets/StreamLayerView2D-B1nterEZ.js","assets/StreamLayerView-1P2VuWgJ.js","assets/SubtypeGroupLayerView2D-D5mxBDu4.js","assets/VectorTileLayerView2D-zcvr4bgM.js","assets/TileInfoViewPOT-BAsqovzc.js","assets/SourceLayerData-DR__QNbg.js","assets/StyleRepository-mLVdxKij.js","assets/VideoLayerView2D-C-lR6j5m.js","assets/GraphicsLayer-CtVknZ1a.js","assets/TelemetryDisplay-BOeNqVpJ.js","assets/videoUtils-DC2mdx_W.js","assets/cimSymbolUtils-CmFYUdpV.js","assets/utils-6_NAbAK3.js","assets/gfxUtils-DDSu4Luj.js","assets/ControlPoint-BjgmUvqO.js","assets/WMSLayerView2D-DhFwiidC.js","assets/WMSLayerView-BEvq3d1Q.js","assets/ExportWMSImageParameters-CgEexSCl.js","assets/WMTSLayerView2D-CaTBe5Km.js"])))=>i.map(i=>d[i]);
import{U as n,a4 as R,kc as D,c3 as b,qx as $,qw as x,gY as S,rP as k,gO as C,fs as v,rQ as M,rR as N,aQ as L,rS as I,ao as Y}from"./index-BrQW8HOS.js";import{i as X}from"./rbush-DRx18tQf.js";import{r as P}from"./Tile-BIybhnuW.js";import{m as q}from"./clippingUtils-BM7WDzJt.js";function l(){return Promise.all([n(()=>import("./webglDeps-B9o0_o0s.js"),__vite__mapDeps([0,1,2,3,4,5])),n(()=>import("./mapViewDeps-2LS2qwiv.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,3,5,28,29,30,31,32,33,34,35,36,37,38,4,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67]))])}const E=()=>l().then(()=>n(()=>import("./TileLayerView2D-B33KCVcQ.js"),__vite__mapDeps([68,1,2,8,9,10,11,12,13,14,15,36,37,29,25,26,27,3,5,20,21,22,23,28,30,39,16,18,19,40,41,44,7,17,24,31,32,34,35,57,45,46,47,48,58,59,60,61,69,70,71,65,72,73,74,75,63,64,76,77,78,79,80,81,82,83]))),m=()=>l().then(()=>n(()=>import("./FeatureLayerView2D-D5GzH7tY.js").then(e=>e.F),__vite__mapDeps([84,1,2,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83]))),T={"base-dynamic":()=>l().then(()=>n(()=>import("./BaseDynamicLayerView2D-FdDPYMwz.js"),__vite__mapDeps([103,1,2,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,70,16,71,72,73,74,105,76,77]))),"base-tile":E,"bing-maps":E,catalog:()=>l().then(()=>n(()=>import("./CatalogLayerView2D-D3dMvVUo.js"),__vite__mapDeps([106,1,2,72,73,28,29,20,21,12,22,23,13,74,107,76]))),"catalog-dynamic-group":()=>l().then(()=>n(()=>import("./CatalogDynamicGroupLayerView2D-Xxdk7zNO.js"),__vite__mapDeps([108,1,2,72,73,28,29,20,21,12,22,23,13,74,109,76]))),"catalog-footprint":()=>l().then(()=>n(()=>import("./CatalogFootprintLayerView2D-DzaaO6C4.js"),__vite__mapDeps([110,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83,111]))),csv:m,"geo-rss":()=>l().then(()=>n(()=>import("./GeoRSSLayerView2D-y99Tc6Tn.js"),__vite__mapDeps([112,1,2,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76]))),feature:m,geojson:m,parquet:m,graphics:()=>l().then(()=>n(()=>import("./GraphicsLayerView2D-5TLNVW_n.js"),__vite__mapDeps([113,1,2,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,83]))),group:()=>l().then(()=>n(()=>import("./GroupLayerView2D-D8EtspWZ.js"),__vite__mapDeps([114,1,2,72,73,28,29,20,21,12,22,23,13,74,115,76]))),imagery:()=>l().then(()=>n(()=>import("./ImageryLayerView2D-BuEME27N.js"),__vite__mapDeps([116,1,2,117,118,119,120,121,27,25,26,15,3,5,13,12,20,21,22,23,28,29,30,122,123,124,72,73,74,57,8,9,10,11,14,36,37,45,17,46,19,47,48,7,16,18,24,31,32,58,59,60,61,75,63,64,65,104,70,71,105,125,126,127,85,86,82,76,77,83]))),"imagery-tile":()=>l().then(()=>n(()=>import("./ImageryTileLayerView2D-CkB0NT1p.js"),__vite__mapDeps([128,1,2,129,117,118,119,120,121,27,25,26,15,3,5,13,12,20,21,22,23,28,29,30,122,123,124,72,73,74,130,131,132,65,16,51,18,19,71,133,125,83,134,127,85,86,82,76,77]))),kml:()=>l().then(()=>n(()=>import("./KMLLayerView2D-DmZg7ZwP.js"),__vite__mapDeps([135,1,2,136,70,16,71,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,72,73,74,62,63,64,17,65,7,8,9,10,11,14,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,54,55,56,125,42,4,132]))),"knowledge-graph":()=>l().then(()=>n(()=>import("./KnowledgeGraphLayerView2D-DqH6SL0l.js"),__vite__mapDeps([137,1,2,72,73,28,29,20,21,12,22,23,13,74,76]))),"link-chart":()=>l().then(()=>n(()=>import("./KnowledgeGraphLayerView2D-DqH6SL0l.js"),__vite__mapDeps([137,1,2,72,73,28,29,20,21,12,22,23,13,74,76]))),"knowledge-graph-sublayer":m,"map-image":()=>l().then(()=>n(()=>import("./MapImageLayerView2D-Do5UNwsz.js"),__vite__mapDeps([138,1,2,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,70,16,71,72,73,74,57,8,9,10,11,14,36,37,45,17,46,19,47,48,7,18,24,31,32,58,59,60,61,75,63,64,65,105,76,139,140,80,81,85,86,77,78,79,82,83]))),"map-notes":()=>l().then(()=>n(()=>import("./MapNotesLayerView2D-BoRkXvsc.js"),__vite__mapDeps([141,1,2,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,83]))),media:()=>l().then(()=>n(()=>import("./MediaLayerView2D-DPCpEVsf.js"),__vite__mapDeps([142,1,2,143,60,8,9,10,11,12,13,14,15,36,37,29,25,26,27,3,5,20,21,22,23,28,30,39,16,18,19,40,41,44,7,17,24,31,32,34,35,57,45,46,47,48,58,59,61,144,145,49,50,146,51,72,73,74,76,147]))),"ogc-feature":()=>l().then(()=>n(()=>import("./OGCFeatureLayerView2D-DcYjD-xa.js"),__vite__mapDeps([148,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83,149]))),"open-street-map":E,"oriented-imagery":m,route:()=>l().then(()=>n(()=>import("./RouteLayerView2D-CqOf_8BA.js"),__vite__mapDeps([150,1,2,151,152,72,73,28,29,20,21,12,22,23,13,74,62,63,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,57,36,37,45,46,47,48,58,59,60,61,76,83]))),stream:()=>l().then(()=>n(()=>import("./StreamLayerView2D-B1nterEZ.js"),__vite__mapDeps([153,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83,154]))),"subtype-group":()=>l().then(()=>n(()=>import("./SubtypeGroupLayerView2D-D5mxBDu4.js"),__vite__mapDeps([155,1,2,84,61,29,85,86,87,88,47,89,72,73,28,20,21,12,22,23,13,74,64,17,26,15,65,25,27,3,5,30,7,8,9,10,11,14,16,18,19,24,31,32,40,90,91,92,44,93,58,33,94,95,96,97,98,99,100,101,80,102,82,76,77,83]))),tile:E,"vector-tile":()=>l().then(()=>n(()=>import("./VectorTileLayerView2D-zcvr4bgM.js"),__vite__mapDeps([156,1,2,157,14,44,11,41,65,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,158,159,72,73,74,76,77]))),video:()=>l().then(()=>n(()=>import("./VideoLayerView2D-C-lR6j5m.js"),__vite__mapDeps([160,1,2,161,162,163,164,165,166,146,21,12,22,25,26,15,27,3,5,13,20,23,28,29,30,7,8,9,10,11,14,16,17,18,19,24,31,32,51,167,72,73,74,62,63,64,65,57,36,37,45,46,47,48,58,59,60,61,76]))),wcs:()=>l().then(()=>n(()=>import("./ImageryTileLayerView2D-CkB0NT1p.js"),__vite__mapDeps([128,1,2,129,117,118,119,120,121,27,25,26,15,3,5,13,12,20,21,22,23,28,29,30,122,123,124,72,73,74,130,131,132,65,16,51,18,19,71,133,125,83,134,127,85,86,82,76,77]))),"web-tile":E,wfs:m,wms:()=>l().then(()=>n(()=>import("./WMSLayerView2D-DhFwiidC.js"),__vite__mapDeps([168,1,2,104,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,70,16,71,72,73,74,105,76,77,169,170,85,86]))),wmts:()=>l().then(()=>n(()=>import("./WMTSLayerView2D-CaTBe5Km.js"),__vite__mapDeps([171,1,2,69,70,16,71,65,25,26,15,27,3,5,13,12,20,21,22,23,28,29,30,72,73,74,76,77]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function F(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new R(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const Z={hasLayerViewModule:e=>T[e.type]!=null,importLayerView:e=>{const t=T[e.type];if(t==null)throw F(e);return t(e)}},f={added:[],removed:[]},y=new Set,j=new S(0,0,0,0);function z(e,t){const i=C(t);if(!i)return null;const[r,o]=i.valid;return e[2]>o?[v([e[0],e[1],o,e[3]]),v([r,e[1],r+e[2]-o,e[3]])]:e[0]<r?[v([r,e[1],e[2],e[3]]),v([o-(r-e[0]),e[1],o,e[3]])]:null}class B extends D{constructor(t){super(),this._tiles=new Map,this._index=X(9,b("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||$(t)===0||x(t)===0)return[];const i=z(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const o=new P(this.tileScheme,r);this._tiles.set(r,o),this._index.insert(o),i.added.push(o)}for(const r of t.removed)if(this.has(r)){const o=this.get(r);this._tiles.delete(r),this._index.remove(o),i.removed.push(o)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:o}=i,{level:h}=o;if(r.length>0)for(const{row:a,colFrom:_,colTo:d}of r)for(let c=_;c<=d;c++){const g=j.set(h,a,o.normalizeCol(c),o.getWorldForColumn(c)).id;if(y.add(g),!this.has(g)){const u=new P(this.tileScheme,g);this._tiles.set(g,u),this._index.insert(u),this.tiles.push(u),f.added.push(u)}}for(let a=this.tiles.length-1;a>=0;a--){const _=this.tiles[a];y.has(_.id)||(this._tiles.delete(_.id),this.tiles.splice(a,1),this._index.remove(_),f.removed.push(_))}(f.added.length||f.removed.length)&&this.emit("update",f),k.pool.release(i),y.clear(),f.added.length=0,f.removed.length=0}}async function H(e,t,i){const r=M(t)?N(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let o=new Set;const h=new Set;let a=!1,_=null,d=null;i?.include?O(i.include,A(e,s=>{o.add(s),w(s,p=>h.add(p))},(s,p)=>{h.add(s),o.add(p)},s=>{_||(_=new Set),_.add(s)},s=>o.add(s),()=>a=!0)):(a=!0,o=new Set(e.allLayerViews),o.forEach(s=>{w(s,p=>h.add(p))})),i?.exclude&&O(i.exclude,A(e,s=>{o.delete(s),w(s,p=>h.delete(p))},s=>h.delete(s),s=>{d||(d=new Set),d.add(s)}));const c=e.toMap(r),g=e.allLayerViews.filter(s=>!s.suspended&&o.has(s)&&s.clips.every(p=>q(e,p,r,c))).reverse();let u=[...a?e.graphicsView.hitTest(c).map(s=>({type:"graphic",graphic:s,layer:null,mapPoint:c})):[],...await Promise.all(g.map(s=>s.hitTest(c,r)).toArray())].filter(L).flat().filter(L);return u=u.filter(s=>s.type!=="graphic"||s.layer?.type!=="subtype-group"||h.has(s.graphic.layer)),_&&(u=u.filter(s=>!("graphic"in s)||!s.graphic||_?.has(V(s.graphic)))),d&&(u=u.filter(s=>!("graphic"in s)||!s.graphic||!d?.has(V(s.graphic)))),{screenPoint:r,results:u}}function A(e,t,i,r,o,h){return a=>{if(a instanceof Y){if(a.layer===e)h?.();else{const _=e.allLayerViews.find(d=>d.layer===a.layer);_&&o?.(_)}r(V(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const _=e.allLayerViews.find(d=>d.layer===a.parent);_&&i(a,_)}else{const _=e.allLayerViews.find(d=>d.layer===a);_&&t(_)}}}function O(e,t){if(e)if(I(e))for(const i of e)if(I(i))for(const r of i)t(r);else t(i);else t(e)}function V(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function w(e,t){const i=e.layer;i?.type==="subtype-group"&&i.sublayers.forEach(r=>{t(r)})}export{Z as l,H as s,B as u};
