import{gk as ie,ad as k,jq as p,cA as g,cw as y,jp as A,e1 as w,a_ as K,fR as N,dd as J,db as se,dc as ue,dA as C,z as Zn,nz as _n,hR as xn,JJ as oe,cx as bn,b0 as Q,eG as le,ae as X,a$ as nn,dn as fe,cW as ce,sa as de,ag as me,Mg as he}from"./index-Bp3GeDhQ.js";import{t as x}from"./ImmutableArray-BPVd6ESQ.js";import{l as ye,D as Sn}from"./shared-Uanpa3Wf.js";import{l as pe,p as ge}from"./number-DFdmL_Vd.js";const xe=Object.freeze(Object.defineProperty({__proto__:null,Shell:he},Symbol.toStringTag,{value:"Module"}));let Cn=class{};class P{constructor(){}}function Nn(n,e,r){if(n instanceof P&&!(n instanceof B)){const a=new B;return a.fn=n,a.parameterEvaluator=r,a.context=e,a}return n}class De extends P{constructor(e){super(),this.fn=e}createFunction(e){return(...r)=>this.fn(e,{preparsed:!0,arguments:r})}call(e,r){return this.fn(e,r)}marshalledCall(e,r,a,t){return t(e,r,(s,l,u)=>{u=u.map(c=>c instanceof P&&!(c instanceof B)?Nn(c,e,t):c);const h=this.call(a,{args:u});return ie(h)?h.then(c=>Nn(c,a,t)):h})}}class B extends P{constructor(){super(...arguments),this.fn=null,this.context=null}createFunction(e){return this.fn.createFunction(this.context)}call(e,r){return this.fn.marshalledCall(e,r,this.context,this.parameterEvaluator)}marshalledCall(e,r,a){return this.fn.marshalledCall(e,r,this.context,this.parameterEvaluator)}}class O extends x{constructor(e,r,a,t,s,l){super(e),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=r,this._hasZ=a,this._hasM=t,this._cacheId=s,this._partId=l}get(e){if(this._lazyPt[e]===void 0){const r=this._elements[e];if(r===void 0)return;const a=new k(r[0],r[1],this._spRef);this._hasZ&&(a.z=r[2]),this._hasM&&(a.m=this._hasZ?r[3]:r[2]),a.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+e.toString(),this._lazyPt[e]=a}return this._lazyPt[e]}equalityTest(e){return e===this||e!==null&&e instanceof O&&e.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}class en extends x{constructor(e,r,a,t,s){super(e),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=a,this._hasM=t,this._spRef=r,this._cacheId=s}get(e){if(this._lazyPath[e]===void 0){const r=this._elements[e];if(r===void 0)return;this._lazyPath[e]=new O(r,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]}equalityTest(e){return e===this||e!==null&&e instanceof en&&e.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}class Dn{constructor(e){this.value=e}}class An{constructor(e){this.value=e}}const b={type:"VOID"},On=Symbol("BREAK"),kn=Symbol("CONTINUE");function F(n,e,r){return e===""||e==null||e===r||e===r?n:n=n.split(e).join(r)}function I(n){return n instanceof P}function q(n){return n instanceof Cn}function v(n){return!!y(n)||!!g(n)||!!f(n)||!!d(n)||!!m(n)||!!p(n)||n===null||n===b}function Fn(n,e){return n===void 0?e:n}function Rn(n){return n==null?"":N(n)||T(n)?"Array":f(n)?"Date":m(n)?"Time":d(n)?"DateOnly":y(n)?"String":p(n)?"Boolean":g(n)?"Number":n?.declaredClass==="esri.arcade.Attachment"?"Attachment":n?.declaredClass==="esri.arcade.Portal"?"Portal":n?.declaredClass==="esri.arcade.Dictionary"?"Dictionary":on(n)?"KnowledgeGraph":n instanceof Cn?"Module":j(n)?"Feature":n instanceof k?"Point":n instanceof Q?"Polygon":n instanceof X?"Polyline":n instanceof nn?"Multipoint":n instanceof K?"Extent":I(n)?"Function":an(n)?"FeatureSet":un(n)?"FeatureSetCollection":E(n)?"Voxel":U(n)?"Pixel":n===b?"":typeof n=="number"&&isNaN(n)?"Number":"Unrecognized Type"}function rn(n){return n===b}function tn(n){return n instanceof A}function j(n){return n?.arcadeDeclaredClass==="esri.arcade.Feature"}function E(n){return n?.arcadeDeclaredClass==="esri.arcade.Voxel"}function U(n){return n?.arcadeDeclaredClass==="esri.arcade.Pixel"}function an(n){return n?.declaredRootClass==="esri.arcade.featureset.support.FeatureSet"}function sn(n){return n?.declaredClass==="esri.arcade.Dictionary"}function Mn(n){return sn(n)||j(n)||E(n)||U(n)}function un(n){return n?.declaredRootClass==="esri.arcade.featureSetCollection"}function on(n){return n?.declaredClass==="esri.rest.knowledgeGraph.KnowledgeGraph"}function T(n){return n instanceof x}function f(n){return n instanceof J}function d(n){return n instanceof ue}function m(n){return n instanceof se}function Y(n){return n!=null&&typeof n=="object"}function wn(n,e,r,a,t){if(n.length<e||n.length>r)throw new C(a,"WrongNumberOfParameters",t)}function Jn(n){return n==null||rn(n)||n===""}function Pn(n){return n<0?-Math.round(-n):Math.round(n)}function H(n,e){return isNaN(n)||e==null||e===""?n.toString():(e=F(e,"‰",""),e=F(e,"¤",""),pe(n,{pattern:e}))}function G(n,e){return e==null||e===""?n.toISOString(!0):n.toFormat(ln(e),{locale:Zn(),numberingSystem:"latn"})}function ln(n,e=!1){n=n.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let r="";const a=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;for(const t of n.match(a)||[])switch(t){case"D":r+="d";break;case"DD":r+="dd";break;case"DDD":r+="o";break;case"d":r+="c";break;case"ddd":r+="ccc";break;case"dddd":r+="cccc";break;case"M":r+="L";break;case"MM":r+="LL";break;case"MMM":r+="LLL";break;case"MMMM":r+="LLLL";break;case"YY":r+="yy";break;case"Y":case"YYYY":r+="yyyy";break;case"Q":r+="q";break;case"Z":r+="Z";break;case"ZZ":r+="ZZ";break;case"ZZZ":r+="ZZZ";break;case"ZZZZ":r+=e?"[ZZZZ]":"ZZZZ";break;case"ZZZZZ":r+=e?"[ZZZZZ]":"ZZZZZ";break;case"S":r+="'S'";break;case"SS":r+="'SS'";break;case"SSS":r+="u";break;case"A":case"a":r+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":r+=t;break;default:t.length>=2&&t.startsWith("[")&&t.endsWith("]")?r+=`'${t.slice(1,-1)}'`:r+=`'${t}'`}return r}function i(n,e,r){switch(r){case">":return n>e;case"<":return n<e;case">=":return n>=e;case"<=":return n<=e}return!1}function vn(n,e,r){if(n===null){if(e===null||e===b)return i(null,null,r);if(g(e))return i(0,e,r);if(y(e)||p(e))return i(0,o(e),r);if(f(e))return i(0,e.toNumber(),r);if(m(e)||d(e))return i(n,e.toNumber(),r)}if(n===b){if(e===null||e===b)return i(null,null,r);if(g(e))return i(0,e,r);if(y(e)||p(e))return i(0,o(e),r);if(f(e))return i(0,e.toNumber(),r);if(m(e)||d(e))return i(n,e.toNumber(),r)}else if(g(n)){if(g(e))return i(n,e,r);if(p(e))return i(n,o(e),r);if(e===null||e===b)return i(n,0,r);if(y(e))return i(n,o(e),r);if(f(e)||m(e)||d(e))return i(n,e.toNumber(),r)}else if(y(n)){if(y(e))return i(_(n),_(e),r);if(f(e)||m(e)||d(e))return i(o(n),e.toNumber(),r);if(g(e))return i(o(n),e,r);if(e===null||e===b)return i(o(n),0,r);if(p(e))return i(o(n),o(e),r)}else if(f(n)){if(f(e))return n.timeZone!==e.timeZone&&(n.isUnknownTimeZone?n=J.arcadeDateAndZoneToArcadeDate(n,e.timeZone):e.isUnknownTimeZone&&(e=J.arcadeDateAndZoneToArcadeDate(e,n.timeZone))),i(n.toNumber(),e.toNumber(),r);if(e===null||e===b)return i(n.toNumber(),0,r);if(g(e))return i(n.toNumber(),e,r);if(p(e)||y(e))return i(n.toNumber(),o(e),r);if(m(e))throw new C(null,"CannotCompareDateAndTime",null);if(d(e))return i(n.toNumber(),e.toNumber(),r)}else if(p(n)){if(p(e))return i(n,e,r);if(g(e))return i(o(n),o(e),r);if(f(e)||m(e)||d(e))return i(o(n),e.toNumber(),r);if(e===null||e===b)return i(o(n),0,r);if(y(e))return i(o(n),o(e),r)}else if(d(n)){if(f(e))return i(n.toNumber(),e.toNumber(),r);if(e===null||e===b)return i(n.toNumber(),0,r);if(g(e))return i(n.toNumber(),e,r);if(p(e)||y(e))return i(n.toNumber(),o(e),r);if(m(e))throw new C(null,"CannotCompareDateAndTime",null);if(d(e))return i(n.toNumber(),e.toNumber(),r)}else if(m(n)){if(f(e))throw new C(null,"CannotCompareDateAndTime",null);if(e===null||e===b)return i(n.toNumber(),0,r);if(g(e))return i(n.toNumber(),e,r);if(p(e)||y(e))return i(n.toNumber(),o(e),r);if(m(e))return i(n.toNumber(),e.toNumber(),r);if(d(e))throw new C(null,"CannotCompareDateAndTime",null)}return!!fn(n,e)&&(r==="<="||r===">=")}function fn(n,e){if(n===e||n===null&&e===b||e===null&&n===b)return!0;if(f(n)&&f(e)||m(n)&&m(e)||d(n)&&d(e))return n.equals(e);if(n instanceof en||n instanceof O)return n.equalityTest(e);if(n instanceof k&&e instanceof k){const r=n.cache._arcadeCacheId,a=e.cache._arcadeCacheId;if(r!=null)return r===a}return!!(Y(n)&&Y(e)&&(n._arcadeCacheId===e._arcadeCacheId&&n._arcadeCacheId!==void 0&&n._arcadeCacheId!==null||n._underlyingGraphic===e._underlyingGraphic&&n._underlyingGraphic!==void 0&&n._underlyingGraphic!==null))}function In(n,{useNumbersForDates:e}){let r="";for(const a in n){r!==""&&(r+=",");const t=n[a];t==null?r+=JSON.stringify(a)+":null":p(t)||g(t)||y(t)?r+=JSON.stringify(a)+":"+JSON.stringify(t):tn(t)?r+=JSON.stringify(a)+":"+D(t):m(t)||d(t)?r+=`${JSON.stringify(a)}:${JSON.stringify(t.toString())}`:T(t)||Array.isArray(t)?r+=JSON.stringify(a)+":"+D(t,null,e):f(t)?r+=e?JSON.stringify(a)+":"+JSON.stringify(t.getTime()):JSON.stringify(a)+":"+t.stringify():t!==null&&typeof t=="object"&&"castToText"in t&&(r+=JSON.stringify(a)+":"+t.castToText(e))}return"{"+r+"}"}function _(n,e){if(y(n))return n;if(n===null)return"";if(g(n))return H(n,e);if(p(n))return n.toString();if(f(n))return G(n,e);if(m(n)||d(n))return n.toFormat(e);if(n instanceof A)return JSON.stringify(n.toJSON());if(N(n)){const r=[];for(let a=0;a<n.length;a++)r[a]=$(n[a]);return"["+r.join(",")+"]"}if(n instanceof x){const r=[];for(let a=0;a<n.length();a++)r[a]=$(n.get(a));return"["+r.join(",")+"]"}return n!==null&&typeof n=="object"&&"castToText"in n?n.castToText():I(n)?"object, Function":n===b?"":q(n)?"object, Module":""}function jn(n){const e=[];if(n instanceof x){for(let r=0;r<n.length();r++)e[r]=o(n.get(r));return e}if(!N(n))return null;for(let r=0;r<n.length;r++)e[r]=o(n[r]);return e}function D(n,e,r=!1){if(y(n))return n;if(n===null)return"";if(g(n))return H(n,e);if(p(n))return n.toString();if(f(n))return G(n,e);if(m(n)||d(n))return n.toFormat(e);if(n instanceof A)return n instanceof K?'{"xmin":'+n.xmin.toString()+',"ymin":'+n.ymin.toString()+","+(n.hasZ?'"zmin":'+n.zmin.toString()+",":"")+(n.hasM?'"mmin":'+n.mmin.toString()+",":"")+'"xmax":'+n.xmax.toString()+',"ymax":'+n.ymax.toString()+","+(n.hasZ?'"zmax":'+n.zmax.toString()+",":"")+(n.hasM?'"mmax":'+n.mmax.toString()+",":"")+'"spatialReference":'+V(n.spatialReference)+"}":V(n.toJSON(),(a,t)=>a.key===t.key?0:a.key==="spatialReference"?1:t.key==="spatialReference"||a.key<t.key?-1:a.key>t.key?1:0);if(N(n)){const a=[];for(let t=0;t<n.length;t++)a[t]=$(n[t],r);return"["+a.join(",")+"]"}if(n instanceof x){const a=[];for(let t=0;t<n.length();t++)a[t]=$(n.get(t),r);return"["+a.join(",")+"]"}return n!==null&&typeof n=="object"&&"castToText"in n?n.castToText(r):I(n)?"object, Function":n===b?"":q(n)?"object, Module":""}function $(n,e=!1){if(n===null)return"null";if(p(n)||y(n))return JSON.stringify(n);if(g(n))return n.toString();if(n instanceof A||n instanceof x||Array.isArray(n))return D(n,null,e);if(f(n))return JSON.stringify(e?n.getTime():G(n,""));if(m(n)||d(n))return JSON.stringify(n.toString());if(n!==null&&typeof n=="object"){if("castToText"in n)return n.castToText(e)}else if(n===b)return"null";return"null"}function o(n,e){return g(n)?n:n===null||n===""?0:f(n)||d(n)||m(n)?NaN:p(n)?n?1:0:N(n)||n===""||n===void 0?NaN:e!==void 0&&y(n)?(e=F(e,"‰",""),e=F(e,"¤",""),ge(n,{pattern:e})):n===b?0:Number(n)}function Gn(n,e){if(f(n))return n;if(y(n)){const r=be(n,e);if(r)return J.dateTimeToArcadeDate(r)}return null}function be(n,e){const r=/ (\d\d)/,a=oe(e);let t=bn.fromISO(n,{zone:a});return t.isValid||r.test(n)&&(n=n.replace(r,"T$1"),t=bn.fromISO(n,{zone:e}),t.isValid)?t:null}function zn(n){return p(n)?n:y(n)?(n=n.toLowerCase())==="true":!!g(n)&&n!==0&&!isNaN(n)}function Ln(n,e){const r=JSON.parse(n);return r&&!r.spatialReference&&(r.spatialReference=e),fe(r)}function Yn(n,e){return n==null?null:(n.spatialReference!==null&&n.spatialReference!==void 0||(n.spatialReference=e),n)}function $n(n){if(n===null)return null;if(n instanceof k)return n.x==="NaN"||n.x===null||isNaN(n.x)?null:n;if(n instanceof Q){if((n.curveRings??n.rings).length===0)return null;for(const e of n.curveRings??n.rings)if(e.length>0)return n;return null}if(n instanceof X){if((n.curvePaths??n.paths).length===0)return null;for(const e of n.curvePaths??n.paths)if(e.length>0)return n;return null}return n instanceof nn?n.points.length===0?null:n:n instanceof K?n.xmin==="NaN"||n.xmin===null||isNaN(n.xmin)?null:n:null}function cn(n,e){if(!n||!n.domain)return e;let r=null,a=null;if(f(e))r=e.toNumber();else if(d(e))r=e.toString();else if(m(e))r=e.toStorageString();else if(n.field.type==="string"||n.field.type==="esriFieldTypeString")r=_(e);else{if(e==null)return null;if(e==="")return e;r=o(e)}for(let t=0;t<n.domain.codedValues.length;t++){const s=n.domain.codedValues[t];s.code===r&&(a=s)}return a===null?_(e):a.name}function dn(n,e){if(!n||!n.domain)return e;let r=null;const a=_(e);for(let t=0;t<n.domain.codedValues.length;t++){const s=n.domain.codedValues[t];s.name===a&&(r=s)}return r===null?e:r.code}function z(n,e,r=null,a=null){if(!e||!e.fields)return null;let t,s,l=null;for(let S=0;S<e.fields.length;S++){const Z=e.fields[S];Z.name.toLowerCase()===n.toString().toLowerCase()&&(l=Z)}if(l===null)throw new C(null,"FieldNotFound",null,{key:n});let u=e.typeIdField,h="id",c=e.types;if(e.subtypeField&&(u=e.subtypeField,h="code",c=e.subtypes??[]),a===null&&r&&u)a=r.hasField(u)?r.field(u):null;else if(u&&a!==null){let S=!1;for(const Z of c||[])if(a===Z[h]){S=!0;break}if(!S){for(const Z of c||[])if(a===Z.name){a=Z[h],S=!0;break}}S||(a=null,r&&u&&(a=r.hasField(u)?r.field(u):null))}return a!=null&&c.some(S=>S[h]===a&&(t=S.domains?.[l.name],t&&t.type==="inherited"&&(t=Tn(l.name,e),s=!0),!0)),s||t||(t=Tn(n,e)),{field:l,domain:t}}function Tn(n,e){let r;return e.fields.some(a=>(a.name.toLowerCase()===n.toLowerCase()&&(r=a.domain),!!r)),r}function V(n,e){e||(e={}),typeof e=="function"&&(e={cmp:e});const r=typeof e.cycles=="boolean"&&e.cycles,a=e.cmp&&(t=e.cmp,function(l){return function(u,h){const c={key:u,value:l[u]},S={key:h,value:l[h]};return t(c,S)}});var t;const s=[];return(function l(u){if(u?.toJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),u===void 0)return;if(typeof u=="number")return isFinite(u)?""+u:"null";if(typeof u!="object")return JSON.stringify(u);let h,c;if(Array.isArray(u)){for(c="[",h=0;h<u.length;h++)h&&(c+=","),c+=l(u[h])||"null";return c+"]"}if(u===null)return"null";if(s.includes(u)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const S=s.push(u)-1,Z=Object.keys(u).sort(a?.(u));for(c="",h=0;h<Z.length;h++){const pn=Z[h],gn=l(u[pn]);gn&&(c&&(c+=","),c+=JSON.stringify(pn)+":"+gn)}return s.splice(S,1),"{"+c+"}"})(n)}function Vn(n){if(n===null)return null;const e=[];for(const r of n)j(r)?e.push(r.geometry()):e.push(r);return e}function R(n,e){if(!(e instanceof k))throw new C(null,"InvalidParameter",null);n.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])}function qn(n,e){if(N(n)||T(n)){let r=!1,a=!1,t=[],s=e;if(N(n)){for(const l of n)R(t,l);t.length>0&&(s=n[0].spatialReference,r=n[0].hasZ,a=n[0].hasM)}else if(n instanceof O)t=n._elements,t.length>0&&(r=n._hasZ,a=n._hasM,s=n.get(0).spatialReference);else{if(!T(n))throw new C(null,"InvalidParameter",null);for(const l of n.toArray())R(t,l);t.length>0&&(s=n.get(0).spatialReference,r=n.get(0).hasZ===!0,a=n.get(0).hasM===!0)}return t.length===0?null:(le(t)||(t=t.slice().reverse()),new Q({rings:[t],spatialReference:s,hasZ:r,hasM:a}))}return n}function En(n,e){if(N(n)||T(n)){let r=!1,a=!1,t=[],s=e;if(N(n)){for(const l of n)R(t,l);t.length>0&&(s=n[0].spatialReference,r=n[0].hasZ===!0,a=n[0].hasM===!0)}else if(n instanceof O)t=n._elements,t.length>0&&(r=n._hasZ,a=n._hasM,s=n.get(0).spatialReference);else if(T(n)){for(const l of n.toArray())R(t,l);t.length>0&&(s=n.get(0).spatialReference,r=n.get(0).hasZ===!0,a=n.get(0).hasM===!0)}return t.length===0?null:new X({paths:[t],spatialReference:s,hasZ:r,hasM:a})}return n}function Un(n,e){if(N(n)||T(n)){let r=!1,a=!1,t=[],s=e;if(N(n)){for(const l of n)R(t,l);t.length>0&&(s=n[0].spatialReference,r=n[0].hasZ===!0,a=n[0].hasM===!0)}else if(n instanceof O)t=n._elements,t.length>0&&(r=n._hasZ,a=n._hasM,s=n.get(0).spatialReference);else if(T(n)){for(const l of n.toArray())R(t,l);t.length>0&&(s=n.get(0).spatialReference,r=n.get(0).hasZ===!0,a=n.get(0).hasM===!0)}return t.length===0?null:new nn({points:t,spatialReference:s,hasZ:r,hasM:a})}return n}function Hn(n,e=!0){if(n==null)return[];if(N(n)){const r=[];for(const a of n){const t=_(a);(e||t!=="")&&r.push(t)}return r}if(T(n)){const r=[];for(let a=0;a<n.length();a++){const t=_(n.get(a));(e||t!=="")&&r.push(t)}return r}if(v(n)){const r=_(n);if(e||r!=="")return[r]}return[]}let W=0;function Wn(n){return W++,W%100==0?(W=0,new Promise(e=>{setTimeout(()=>{e(n)},0)})):n}function Bn(n,e,r){switch(r){case"&":return n&e;case"|":return n|e;case"^":return n^e;case"<<":return n<<e;case">>":return n>>e;case">>>":return n>>>e}}function M(n,e=null){return n==null?null:p(n)||g(n)||y(n)?n:n instanceof A?e?.keepGeometryType===!0?n:n.toJSON():n instanceof x?n.toArray().map(r=>M(r,e)):Array.isArray(n)?n.map(r=>M(r,e)):w(n)?n:f(n)?n.toJSDate():m(n)?n.toString():d(n)?n.toJSDate():n!==null&&typeof n=="object"&&n.castAsJson!==void 0?n.castAsJson(e):null}async function Se(n,e,r,a,t){const s=await mn(n,e,r);t[a]=s}async function mn(n,e=null,r=null){if(n instanceof x&&(n=n.toArray()),n==null)return null;if(v(n)||n instanceof A||w(n)||f(n))return M(n,r);if(Array.isArray(n)){const a=[],t=[];for(const s of n)s===null||v(s)||s instanceof A||w(s)||f(s)?t.push(M(s,r)):(t.push(null),a.push(Se(s,e,r,t.length-1,t)));return a.length>0&&await Promise.all(a),t}return n!==null&&typeof n=="object"&&n.castAsJsonAsync!==void 0?n.castAsJsonAsync(e,r):null}function L(n){return hn(n)?n.parent:n}function hn(n){return n&&"declaredClass"in n&&n.declaredClass==="esri.layers.support.SubtypeSublayer"}function Kn(n){return n&&"declaredClass"in n&&n.declaredClass==="esri.layers.SubtypeGroupLayer"}function Qn(n,e,r){const a=L(n.fullSchema());return a===null||!a.fields?null:z(e,a,n,r)}function Xn(n){const e=L(n.fullSchema());return e===null?null:e.fields?e.subtypeField?{subtypeField:e.subtypeField,subtypes:e.subtypes?e.subtypes.map(r=>({name:r.name,code:r.code})):[]}:e.typeIdField?{subtypeField:e.typeIdField,subtypes:e.types?e.types.map(r=>({name:r.name,code:r.id})):[]}:null:null}function ne(n,e,r,a){const t=L(n.fullSchema());if(t===null||!t.fields)return null;const s=z(e,t,n,a);if(r===void 0)try{r=n.field(e)}catch{return null}return cn(s,r)}function ee(n,e,r,a){const t=L(n.fullSchema());if(t===null||!t.fields)return null;if(r===void 0){try{r=n.field(e)}catch{return null}return r}return dn(z(e,t,n,a),r)}function re(n){return n?.timeZone??"system"}function te(n){const e=L(n.fullSchema());if(e===null||!e.fields)return null;const r=[];for(const a of e.fields)r.push(ye(a));return{objectIdField:e.objectIdField,globalIdField:e.globalIdField??"",geometryType:Sn[e.geometryType]===void 0?"":Sn[e.geometryType],fields:r}}function ae(n,e){const r=J.systemTimeZoneCanonicalName;return n==="system"&&(n=r),{version:yn,engineVersion:de,timeZone:n,userTimeZone:r,spatialReference:e instanceof me?e.toJSON():e,application:ce.applicationName??"",engine:"web",locale:Zn()}}const yn="1.34",Ae=Object.freeze(Object.defineProperty({__proto__:null,ImplicitResult:An,ReturnResult:Dn,absRound:Pn,arcadeVersion:yn,autoCastArrayOfPointsToMultiPoint:Un,autoCastArrayOfPointsToPolygon:qn,autoCastArrayOfPointsToPolyline:En,autoCastFeatureToGeometry:Vn,binaryOperator:Bn,breakResult:On,castAsJson:M,castAsJsonAsync:mn,castRecordToText:In,continueResult:kn,defaultExecutingContext:ae,defaultTimeZone:re,defaultUndefined:Fn,equalityTest:fn,featureDomainCodeLookup:ee,featureDomainValueLookup:ne,featureFullDomain:Qn,featureSchema:te,featureSubtypes:Xn,fixNullGeometry:$n,fixSpatialReference:Yn,formatDate:G,formatNumber:H,getDomain:z,getDomainCode:dn,getDomainValue:cn,getType:Rn,greaterThanLessThan:vn,isArray:N,isBoolean:p,isDate:f,isDateOnly:d,isDictionary:sn,isDictionaryLike:Mn,isEmpty:Jn,isFeature:j,isFeatureSet:an,isFeatureSetCollection:un,isFunctionParameter:I,isGeometry:tn,isGraphic:xn,isImmutableArray:T,isInteger:_n,isJsDate:w,isKnowledgeGraph:on,isModule:q,isNumber:g,isObject:Y,isPixel:U,isSimpleType:v,isString:y,isSubtypeGrouplayer:Kn,isSubtypeSublayer:hn,isTime:m,isVoid:rn,isVoxel:E,multiReplace:F,parseGeometryFromJson:Ln,pcCheck:wn,stableStringify:V,standardiseDateFormat:ln,tick:Wn,toBoolean:zn,toDate:Gn,toNumber:o,toNumberArray:jn,toString:_,toStringArray:Hn,toStringExplicit:D,voidOperation:b},Symbol.toStringTag,{value:"Module"})),Oe=Object.freeze(Object.defineProperty({__proto__:null,ImplicitResult:An,ReturnResult:Dn,absRound:Pn,arcadeVersion:yn,autoCastArrayOfPointsToMultiPoint:Un,autoCastArrayOfPointsToPolygon:qn,autoCastArrayOfPointsToPolyline:En,autoCastFeatureToGeometry:Vn,binaryOperator:Bn,breakResult:On,castAsJson:M,castAsJsonAsync:mn,castRecordToText:In,continueResult:kn,defaultExecutingContext:ae,defaultTimeZone:re,defaultUndefined:Fn,equalityTest:fn,featureDomainCodeLookup:ee,featureDomainValueLookup:ne,featureFullDomain:Qn,featureSchema:te,featureSubtypes:Xn,fixNullGeometry:$n,fixSpatialReference:Yn,formatDate:G,formatNumber:H,getDomain:z,getDomainCode:dn,getDomainValue:cn,getType:Rn,greaterThanLessThan:vn,isArray:N,isBoolean:p,isDate:f,isDateOnly:d,isDictionary:sn,isDictionaryLike:Mn,isEmpty:Jn,isFeature:j,isFeatureSet:an,isFeatureSetCollection:un,isFunctionParameter:I,isGeometry:tn,isGraphic:xn,isImmutableArray:T,isInteger:_n,isJsDate:w,isKnowledgeGraph:on,isModule:q,isNumber:g,isObject:Y,isPixel:U,isSimpleType:v,isString:y,isSubtypeGrouplayer:Kn,isSubtypeSublayer:hn,isTime:m,isVoid:rn,isVoxel:E,multiReplace:F,parseGeometryFromJson:Ln,pcCheck:wn,stableStringify:V,standardiseDateFormat:ln,tick:Wn,toBoolean:zn,toDate:Gn,toNumber:o,toNumberArray:jn,toString:_,toStringArray:Hn,toStringExplicit:D,voidOperation:b},Symbol.toStringTag,{value:"Module"}));export{ne as $,zn as A,an as B,Qn as C,Yn as D,z as E,cn as F,M as G,j as H,kn as I,Vn as J,sn as K,I as L,ee as M,D as N,dn as O,b as P,Mn as Q,Dn as R,o as S,te as T,tn as U,v as V,Xn as W,un as X,F as Y,Gn as Z,On as _,De as a,Wn as a0,hn as a1,O as a2,en as a3,Rn as a4,ln as a5,Pn as a6,$n as a7,E as a8,U as a9,jn as aa,ae as ab,Ae as ac,xe as ad,Oe as ae,Bn as b,B as c,vn as d,on as e,P as f,_ as g,Nn as h,m as i,qn as j,En as k,Un as l,Fn as m,f as n,wn as o,In as p,rn as q,d as r,Cn as s,T as t,re as u,An as v,Hn as w,Jn as x,fn as y,mn as z};
