import{cv as s,di as l}from"./index-BrQW8HOS.js";import{e as m}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";async function p(e,n,i){const t=e.thumbnail?.url;if(t){const o=c((await s(t,{responseType:"image"})).data,i);return i?.node?(i.node.appendChild(o),i.node):o}const a=await e.fetchSymbol({acceptedFormats:m});return a?n(a,i):null}function c(e,n){const i=!/\\.svg$/i.test(e.src)&&n?.disableUpsampling,t=Math.max(e.width,e.height);let a=n?.maxSize!=null?l(n.maxSize):120;i&&(a=Math.min(t,a));const o=typeof n?.size=="number"?n?.size:null,h=Math.min(a,o!=null?l(o):t);if(h!==t){const r=e.width!==0&&e.height!==0?e.width/e.height:1;r>=1?(e.width=h,e.height=h/r):(e.width=h*r,e.height=h)}return e}export{p as previewWebStyleSymbol};
