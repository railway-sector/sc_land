import{cv as s,dg as l}from"./index-CgzAF5Ey.js";import{e as m}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";async function p(e,n,t){const i=e.thumbnail?.url;if(i){const o=c((await s(i,{responseType:"image"})).data,t);return t?.node?(t.node.appendChild(o),t.node):o}const a=await e.fetchSymbol({acceptedFormats:m});return a?n(a,t):null}function c(e,n){const t=!/\\.svg$/i.test(e.src)&&n?.disableUpsampling,i=Math.max(e.width,e.height);let a=n?.maxSize!=null?l(n.maxSize):120;t&&(a=Math.min(i,a));const o=typeof n?.size=="number"?n?.size:null,h=Math.min(a,o!=null?l(o):i);if(h!==i){const r=e.width!==0&&e.height!==0?e.width/e.height:1;r>=1?(e.width=h,e.height=h/r):(e.width=h*r,e.height=h)}return e}export{p as previewWebStyleSymbol};
