import{jT as $,jU as h,jV as l,jW as p,jX as U,jY as m,jZ as j,ar as R,fX as A}from"./index-Brd6-W-v.js";function b(r,c,t,u){if(c==null||u==null)return!1;const s=$(c,u);if(s?.projector==null)return!1;if(s.projector===h)return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3]),!0;const{source:e,dest:i,projector:I}=s;if(i.spatialReferenceId===3){const n=l[e.spatialReferenceId][2];if(n==null)return!1;n(p(r),0,d,0),U(d,0,a,0);const o=M(d[1],r[2],r[3],m.radius);return j(t,a,o),!0}if(e.spatialReferenceId!==2&&e.spatialReferenceId!==5||i.spatialReferenceId!==11){I(p(r),0,a,0);const n=e.metersPerUnit??1,o=i.metersPerUnit??1,f=r[3]*n/o;j(t,a,f)}else{const n=l[e.spatialReferenceId][1],o=l[1][11];let f=r[3];n!=null&&o!=null&&(f=M(r[1],r[2],r[3],m.radius)),I(p(r),0,a,0),j(t,a,f)}return!0}function M(r,c,t,u){const s=u+c;if(s<u/2||t>s)return Number.MAX_VALUE;const e=Math.abs(V*r)+Math.asin(t/s);return e>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(e)}const d=R(),a=R(),V=A(1);export{b as l};
