import{f5 as A,b as L,p as h,d,gv as z}from"./index-BrQW8HOS.js";import{V as R}from"./symbolUtils-C3MaPSzp.js";import{N as v,F as S,L as M}from"./utils2-DEX5Hcmr.js";const w=10,y=20,u=10,g=20,b={univariateAboveAndBelowSymbol:"arcgis-univariate-above-and-below-ramp__symbol",colorRamp:"arcgis-legend__color-ramp"};function p(n){return typeof n=="number"}function F(n="vertical"){const e="stroke:rgb(200, 200, 200);stroke-width:1";return n==="vertical"?d`<svg height=4 width=10>${z`<line style=${h(e)} x1=0 x2=10 y1=2 y2=2 />`}</svg>`:d`<svg height=10 width=10>${z`<line style=${h(e)} x1=5 x2=5 y1=0 y2=10 />`}</svg>`}function N(n,e="vertical"){const s={height:`${y}px`,opacity:n?.toString()};return d`<div class=${L(b.univariateAboveAndBelowSymbol)} style=${h(s)}>${F(e)}</div>`}function $(n,e,s,l="vertical",i){n.infos.forEach((t,o)=>{if(i&&o===2){t.preview=A(N(s,l));return}else{const a=(p(t.size)?v(t.size):0)+(l==="horizontal"?g:u),f=t.preview,c=f?.tagName.toLowerCase()==="div",r=c?f:document.createElement("div");r.className=b.univariateAboveAndBelowSymbol,l==="horizontal"?r.style.width=`${a}px`:r.style.height=`${a}px`,!c&&f&&r.appendChild(f),S(r,M(e,t.label)),t.preview=r}})}function D(n,e="classic"){const s=n.infos,l=s.at(0),i=s.at(-1),t=p(l.size)?v(l.size):0,o=p(i.size)?v(i.size):0;return e==="classic"?(t+u)/2:(t-o)/2}function H(n,e){if(!n)return null;const s=n.infos.map(i=>i.color),l=R(e.type==="full"?s:e.type==="above"?s.slice(0,3):s.slice(2,5),{width:e.width??void 0,height:e.height??void 0,align:e.rampAlignment,cssEffectFilter:e.cssEffectFilter,ariaLabel:e.ariaLabel??void 0});return l.className=b.colorRamp,e.opacity!=null&&(l.style.opacity=e.opacity.toString()),l}function k(n,e,s,l="vertical"){let i=0;const t=n.infos,o=Math.floor(t.length/2),a=e==="full"||e==="above"?0:o,f=e==="full"||e==="below"?t.length-1:o;for(let c=a;c<=f;c++)if(s&&c===o)i+=l==="horizontal"?w:y;else{const r=t[c].size,m=(p(r)?v(r):0)+(l==="horizontal"?g:u);i+=m}return Math.round(i)}function j(n,e,s,l="vertical"){const i=k(n,e,s,l),t=n.infos,o=Math.floor(t.length/2),a=e==="full"||e==="above"?0:o,f=e==="full"||e==="below"?t.length-1:o,c=p(t[a].size)?t[a].size:0,r=p(t[f].size)?t[f].size:0,m=e==="full"?c+r:e==="above"?c:r,x=s?l==="vertical"?y:w:0,E=l==="vertical"?u*(e==="full"?2:1):g*(e==="full"?2:1);return Math.round(i-(v(m)/2+x/2+E/2))}function q(n,e,s,l="vertical"){const i=n.infos;let t=i.find(({type:a})=>a==="size-ramp"),o=i.find(({type:a})=>a==="color-ramp");return t&&(t={...t},t.infos=[...t.infos],$(t,e,s,l,!0)),o&&(o={...o},o.infos=[...o.infos]),l==="horizontal"&&(t?.infos.reverse(),o?.infos.reverse()),{sizeRampElement:t,colorRampElement:o}}function I(n,e,s="vertical"){const l=n.infos;let i=l.find(({type:o})=>o==="size-ramp"),t=l.find(({type:o})=>o==="color-ramp");return i&&(i={...i},i.infos=[...i.infos],$(i,e,null,s,!1)),t&&(t={...t},t.infos=[...t.infos]),s==="horizontal"&&(i?.infos.reverse(),t?.infos.reverse()),{sizeRampElement:i,colorRampElement:t}}const P={marginLeft:"3px"},T={display:"table-cell",verticalAlign:"middle"},U={display:"flex",alignItems:"flex-start"};export{j as D,q as F,D as H,I as T,k as U,P as W,T as j,H as k,U as q};
