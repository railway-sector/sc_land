import{bX as s}from"./index-BrQW8HOS.js";import{i as c}from"./stringUtils-BTK5CX_y.js";import{s as l}from"./substitute-D-eLZ17Q.js";function f(e,n){return n}function a(e,n,i){if(!n)return;if(typeof n=="number")return n;if(typeof n=="string")return c(n);if("value"in n||"unit"in n)return l(e.dotValue??"",n);if("colorName"in n&&"bandName"in n){const o=e[n.colorName],r=e[n.bandName]||n.bandName;return`${o}: ${r}`}if("showCount"in n)return n.showCount?e.clusterCountTitle:void 0;let t=null;return f(n,i)?t=n.ratioPercentTotal?"showRatioPercentTotal":n.ratioPercent?"showRatioPercent":n.ratio?"showRatio":n.normField?"showNormField":n.field?"showField":null:u(n,i)&&(t=n.normField?"showNormField":n.normByPct?"showNormPct":n.field?"showField":null),t?l(t==="showField"?"{field}":e[t]??"",{field:n.field,normField:n.normField}):void 0}function u(e,n){return!n}function w(e,n){if(!e.title||typeof e.title=="string")return e.title;const i=e.type==="color-ramp"||e.type==="opacity-ramp",t=e.title,o=a(n,t,i);return u(t,i)&&t.title?`${t.title} (${o})`:o}const d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/iu;function y(e,n,i){switch(n){case"heatmap-ramp":return(i[e.label]||e.label)??null;case"stretch-ramp":const t="value"in e?e.value:void 0,o=e.label?i[e.label]:"";return o?`${o}: ${typeof t=="string"?t:s(t??0,{style:"decimal",notation:t?.toString().toLowerCase().includes("e")?"scientific":"standard"})}`:"";default:return e.label??null}}function v(e,n){return!!(n&&n==="Stretched"&&"version"in e&&typeof e.version=="number"&&e.version>=10.3&&e.declaredClass==="esri.layers.ImageryLayer")}function N(e){return e?e/72*96:0}function m(e){return e?e*72/96:0}function F(e){if(typeof e=="string"){const n=e.match(d);if(n){const i=Number(n[1]),t=n[3]?.toLowerCase(),o=e.startsWith("-"),r=t==="px"?m(i):i;return o?-r:r}return null}return e}function $(e,n){const i=a(e,n,!1),t=i?e.previewTemplateAriaLabel:e.previewAriaLabel;return l(t??"",{label:i})}function g(e,n){!n||!e||(e.querySelector("svg")??e.querySelector("canvas")??e).setAttribute("aria-label",n)}export{g as F,$ as L,N,w as h,a as u,F as v,v as w,y};
